/**
* @vue/shared v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
function e(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return e=>e in t}const t={},n=[],r=()=>{},a=()=>!1,o=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),i=e=>e.startsWith("onUpdate:"),l=Object.assign,s=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},u=Object.prototype.hasOwnProperty,c=(e,t)=>u.call(e,t),d=Array.isArray,p=e=>"[object Map]"===x(e),f=e=>"[object Set]"===x(e),g=e=>"[object Date]"===x(e),h=e=>"function"==typeof e,m=e=>"string"==typeof e,v=e=>"symbol"==typeof e,y=e=>null!==e&&"object"==typeof e,b=e=>(y(e)||h(e))&&h(e.then)&&h(e.catch),L=Object.prototype.toString,x=e=>L.call(e),w=e=>"[object Object]"===x(e),C=e=>m(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,S=e(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),k=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},I=/-\w/g,E=k(e=>e.replace(I,e=>e.slice(1).toUpperCase())),M=/\B([A-Z])/g,_=k(e=>e.replace(M,"-$1").toLowerCase()),T=k(e=>e.charAt(0).toUpperCase()+e.slice(1)),N=k(e=>e?`on${T(e)}`:""),D=(e,t)=>!Object.is(e,t),R=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},P=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},A=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let O;const F=()=>O||(O="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});function B(e){if(d(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],a=m(r)?G(r):B(r);if(a)for(const e in a)t[e]=a[e]}return t}if(m(e)||y(e))return e}const U=/;(?![^(]*\))/g,V=/:([^]+)/,$=/\/\*[^]*?\*\//g;function G(e){const t={};return e.replace($,"").split(U).forEach(e=>{if(e){const n=e.split(V);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function H(e){let t="";if(m(e))t=e;else if(d(e))for(let n=0;n<e.length;n++){const r=H(e[n]);r&&(t+=r+" ")}else if(y(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const q=e("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function j(e){return!!e||""===e}function z(e,t){if(e===t)return!0;let n=g(e),r=g(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=v(e),r=v(t),n||r)return e===t;if(n=d(e),r=d(t),n||r)return!(!n||!r)&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=z(e[r],t[r]);return n}(e,t);if(n=y(e),r=y(t),n||r){if(!n||!r)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const r=e.hasOwnProperty(n),a=t.hasOwnProperty(n);if(r&&!a||!r&&a||!z(e[n],t[n]))return!1}}return String(e)===String(t)}function W(e,t){return e.findIndex(e=>z(e,t))}const K=e=>!(!e||!0!==e.__v_isRef),X=e=>m(e)?e:null==e?"":d(e)||y(e)&&(e.toString===L||!h(e.toString))?K(e)?X(e.value):JSON.stringify(e,Q,2):String(e),Q=(e,t)=>K(t)?Q(e,t.value):p(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[t,n],r)=>(e[Z(t,r)+" =>"]=n,e),{})}:f(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>Z(e))}:v(t)?Z(t):!y(t)||d(t)||w(t)?t:String(t),Z=(e,t="")=>{var n;return v(e)?`Symbol(${null!=(n=e.description)?n:t})`:e};
/**
* @vue/reactivity v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
let Y,J;class ee{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Y,!e&&Y&&(this.index=(Y.scopes||(Y.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){let e,t;if(this._isPaused=!0,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){let e,t;if(this._isPaused=!1,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=Y;try{return Y=this,e()}finally{Y=t}}}on(){1===++this._on&&(this.prevScope=Y,Y=this)}off(){this._on>0&&0===--this._on&&(Y=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){let t,n;for(this._active=!1,t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0}}}const te=new WeakSet;class ne{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Y&&Y.active&&Y.effects.push(this)}pause(){this.flags|=64}resume(){64&this.flags&&(this.flags&=-65,te.has(this)&&(te.delete(this),this.trigger()))}notify(){2&this.flags&&!(32&this.flags)||8&this.flags||ie(this)}run(){if(!(1&this.flags))return this.fn();this.flags|=2,be(this),ue(this);const e=J,t=he;J=this,he=!0;try{return this.fn()}finally{ce(this),J=e,he=t,this.flags&=-3}}stop(){if(1&this.flags){for(let e=this.deps;e;e=e.nextDep)fe(e);this.deps=this.depsTail=void 0,be(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){64&this.flags?te.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){de(this)&&this.run()}get dirty(){return de(this)}}let re,ae,oe=0;function ie(e,t=!1){if(e.flags|=8,t)return e.next=ae,void(ae=e);e.next=re,re=e}function le(){oe++}function se(){if(--oe>0)return;if(ae){let e=ae;for(ae=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let e;for(;re;){let t=re;for(re=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,1&t.flags)try{t.trigger()}catch(t){e||(e=t)}t=n}}if(e)throw e}function ue(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function ce(e){let t,n=e.depsTail,r=n;for(;r;){const e=r.prevDep;-1===r.version?(r===n&&(n=e),fe(r),ge(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=e}e.deps=t,e.depsTail=n}function de(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(pe(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function pe(e){if(4&e.flags&&!(16&e.flags))return;if(e.flags&=-17,e.globalVersion===Le)return;if(e.globalVersion=Le,!e.isSSR&&128&e.flags&&(!e.deps&&!e._dirty||!de(e)))return;e.flags|=2;const t=e.dep,n=J,r=he;J=e,he=!0;try{ue(e);const n=e.fn(e._value);(0===t.version||D(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(e){throw t.version++,e}finally{J=n,he=r,ce(e),e.flags&=-3}}function fe(e,t=!1){const{dep:n,prevSub:r,nextSub:a}=e;if(r&&(r.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let e=n.computed.deps;e;e=e.nextDep)fe(e,!0)}t||--n.sc||!n.map||n.map.delete(n.key)}function ge(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let he=!0;const me=[];function ve(){me.push(he),he=!1}function ye(){const e=me.pop();he=void 0===e||e}function be(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const e=J;J=void 0;try{t()}finally{J=e}}}let Le=0;class xe{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class we{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!J||!he||J===this.computed)return;let t=this.activeLink;if(void 0===t||t.sub!==J)t=this.activeLink=new xe(J,this),J.deps?(t.prevDep=J.depsTail,J.depsTail.nextDep=t,J.depsTail=t):J.deps=J.depsTail=t,Ce(t);else if(-1===t.version&&(t.version=this.version,t.nextDep)){const e=t.nextDep;e.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=e),t.prevDep=J.depsTail,t.nextDep=void 0,J.depsTail.nextDep=t,J.depsTail=t,J.deps===t&&(J.deps=e)}return t}trigger(e){this.version++,Le++,this.notify(e)}notify(e){le();try{0;for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{se()}}}function Ce(e){if(e.dep.sc++,4&e.sub.flags){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let e=t.deps;e;e=e.nextDep)Ce(e)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Se=new WeakMap,ke=Symbol(""),Ie=Symbol(""),Ee=Symbol("");function Me(e,t,n){if(he&&J){let t=Se.get(e);t||Se.set(e,t=new Map);let r=t.get(n);r||(t.set(n,r=new we),r.map=t,r.key=n),r.track()}}function _e(e,t,n,r,a,o){const i=Se.get(e);if(!i)return void Le++;const l=e=>{e&&e.trigger()};if(le(),"clear"===t)i.forEach(l);else{const a=d(e),o=a&&C(n);if(a&&"length"===n){const e=Number(r);i.forEach((t,n)=>{("length"===n||n===Ee||!v(n)&&n>=e)&&l(t)})}else switch((void 0!==n||i.has(void 0))&&l(i.get(n)),o&&l(i.get(Ee)),t){case"add":a?o&&l(i.get("length")):(l(i.get(ke)),p(e)&&l(i.get(Ie)));break;case"delete":a||(l(i.get(ke)),p(e)&&l(i.get(Ie)));break;case"set":p(e)&&l(i.get(ke))}}se()}function Te(e){const t=mt(e);return t===e?t:(Me(t,0,Ee),gt(e)?t:t.map(yt))}function Ne(e){return Me(e=mt(e),0,Ee),e}function De(e,t){return ft(e)?pt(e)?bt(yt(t)):bt(t):yt(t)}const Re={__proto__:null,[Symbol.iterator](){return Pe(this,Symbol.iterator,e=>De(this,e))},concat(...e){return Te(this).concat(...e.map(e=>d(e)?Te(e):e))},entries(){return Pe(this,"entries",e=>(e[1]=De(this,e[1]),e))},every(e,t){return Oe(this,"every",e,t,void 0,arguments)},filter(e,t){return Oe(this,"filter",e,t,e=>e.map(e=>De(this,e)),arguments)},find(e,t){return Oe(this,"find",e,t,e=>De(this,e),arguments)},findIndex(e,t){return Oe(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Oe(this,"findLast",e,t,e=>De(this,e),arguments)},findLastIndex(e,t){return Oe(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Oe(this,"forEach",e,t,void 0,arguments)},includes(...e){return Be(this,"includes",e)},indexOf(...e){return Be(this,"indexOf",e)},join(e){return Te(this).join(e)},lastIndexOf(...e){return Be(this,"lastIndexOf",e)},map(e,t){return Oe(this,"map",e,t,void 0,arguments)},pop(){return Ue(this,"pop")},push(...e){return Ue(this,"push",e)},reduce(e,...t){return Fe(this,"reduce",e,t)},reduceRight(e,...t){return Fe(this,"reduceRight",e,t)},shift(){return Ue(this,"shift")},some(e,t){return Oe(this,"some",e,t,void 0,arguments)},splice(...e){return Ue(this,"splice",e)},toReversed(){return Te(this).toReversed()},toSorted(e){return Te(this).toSorted(e)},toSpliced(...e){return Te(this).toSpliced(...e)},unshift(...e){return Ue(this,"unshift",e)},values(){return Pe(this,"values",e=>De(this,e))}};function Pe(e,t,n){const r=Ne(e),a=r[t]();return r===e||gt(e)||(a._next=a.next,a.next=()=>{const e=a._next();return e.done||(e.value=n(e.value)),e}),a}const Ae=Array.prototype;function Oe(e,t,n,r,a,o){const i=Ne(e),l=i!==e&&!gt(e),s=i[t];if(s!==Ae[t]){const t=s.apply(e,o);return l?yt(t):t}let u=n;i!==e&&(l?u=function(t,r){return n.call(this,De(e,t),r,e)}:n.length>2&&(u=function(t,r){return n.call(this,t,r,e)}));const c=s.call(i,u,r);return l&&a?a(c):c}function Fe(e,t,n,r){const a=Ne(e);let o=n;return a!==e&&(gt(e)?n.length>3&&(o=function(t,r,a){return n.call(this,t,r,a,e)}):o=function(t,r,a){return n.call(this,t,De(e,r),a,e)}),a[t](o,...r)}function Be(e,t,n){const r=mt(e);Me(r,0,Ee);const a=r[t](...n);return-1!==a&&!1!==a||!ht(n[0])?a:(n[0]=mt(n[0]),r[t](...n))}function Ue(e,t,n=[]){ve(),le();const r=mt(e)[t].apply(e,n);return se(),ye(),r}const Ve=e("__proto__,__v_isRef,__isVue"),$e=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>"arguments"!==e&&"caller"!==e).map(e=>Symbol[e]).filter(v));function Ge(e){v(e)||(e=String(e));const t=mt(this);return Me(t,0,e),t.hasOwnProperty(e)}class He{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if("__v_skip"===t)return e.__v_skip;const r=this._isReadonly,a=this._isShallow;if("__v_isReactive"===t)return!r;if("__v_isReadonly"===t)return r;if("__v_isShallow"===t)return a;if("__v_raw"===t)return n===(r?a?it:ot:a?at:rt).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=d(e);if(!r){let e;if(o&&(e=Re[t]))return e;if("hasOwnProperty"===t)return Ge}const i=Reflect.get(e,t,Lt(e)?e:n);if(v(t)?$e.has(t):Ve(t))return i;if(r||Me(e,0,t),a)return i;if(Lt(i)){const e=o&&C(t)?i:i.value;return r&&y(e)?ct(e):e}return y(i)?r?ct(i):st(i):i}}class qe extends He{constructor(e=!1){super(!1,e)}set(e,t,n,r){let a=e[t];const o=d(e)&&C(t);if(!this._isShallow){const e=ft(a);if(gt(n)||ft(n)||(a=mt(a),n=mt(n)),!o&&Lt(a)&&!Lt(n))return e||(a.value=n),!0}const i=o?Number(t)<e.length:c(e,t),l=Reflect.set(e,t,n,Lt(e)?e:r);return e===mt(r)&&(i?D(n,a)&&_e(e,"set",t,n):_e(e,"add",t,n)),l}deleteProperty(e,t){const n=c(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&_e(e,"delete",t,void 0),r}has(e,t){const n=Reflect.has(e,t);return v(t)&&$e.has(t)||Me(e,0,t),n}ownKeys(e){return Me(e,0,d(e)?"length":ke),Reflect.ownKeys(e)}}class je extends He{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const ze=new qe,We=new je,Ke=new qe(!0),Xe=e=>e,Qe=e=>Reflect.getPrototypeOf(e);function Ze(e){return function(...t){return"delete"!==e&&("clear"===e?void 0:this)}}function Ye(e,t){const n={get(n){const r=this.__v_raw,a=mt(r),o=mt(n);e||(D(n,o)&&Me(a,0,n),Me(a,0,o));const{has:i}=Qe(a),l=t?Xe:e?bt:yt;return i.call(a,n)?l(r.get(n)):i.call(a,o)?l(r.get(o)):void(r!==a&&r.get(n))},get size(){const t=this.__v_raw;return!e&&Me(mt(t),0,ke),t.size},has(t){const n=this.__v_raw,r=mt(n),a=mt(t);return e||(D(t,a)&&Me(r,0,t),Me(r,0,a)),t===a?n.has(t):n.has(t)||n.has(a)},forEach(n,r){const a=this,o=a.__v_raw,i=mt(o),l=t?Xe:e?bt:yt;return!e&&Me(i,0,ke),o.forEach((e,t)=>n.call(r,l(e),l(t),a))}};l(n,e?{add:Ze("add"),set:Ze("set"),delete:Ze("delete"),clear:Ze("clear")}:{add(e){t||gt(e)||ft(e)||(e=mt(e));const n=mt(this);return Qe(n).has.call(n,e)||(n.add(e),_e(n,"add",e,e)),this},set(e,n){t||gt(n)||ft(n)||(n=mt(n));const r=mt(this),{has:a,get:o}=Qe(r);let i=a.call(r,e);i||(e=mt(e),i=a.call(r,e));const l=o.call(r,e);return r.set(e,n),i?D(n,l)&&_e(r,"set",e,n):_e(r,"add",e,n),this},delete(e){const t=mt(this),{has:n,get:r}=Qe(t);let a=n.call(t,e);a||(e=mt(e),a=n.call(t,e)),r&&r.call(t,e);const o=t.delete(e);return a&&_e(t,"delete",e,void 0),o},clear(){const e=mt(this),t=0!==e.size,n=e.clear();return t&&_e(e,"clear",void 0,void 0),n}});return["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=function(e,t,n){return function(...r){const a=this.__v_raw,o=mt(a),i=p(o),l="entries"===e||e===Symbol.iterator&&i,s="keys"===e&&i,u=a[e](...r),c=n?Xe:t?bt:yt;return!t&&Me(o,0,s?Ie:ke),{next(){const{value:e,done:t}=u.next();return t?{value:e,done:t}:{value:l?[c(e[0]),c(e[1])]:c(e),done:t}},[Symbol.iterator](){return this}}}}(r,e,t)}),n}function Je(e,t){const n=Ye(e,t);return(t,r,a)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get(c(n,r)&&r in t?n:t,r,a)}const et={get:Je(!1,!1)},tt={get:Je(!1,!0)},nt={get:Je(!0,!1)},rt=new WeakMap,at=new WeakMap,ot=new WeakMap,it=new WeakMap;function lt(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((e=>x(e).slice(8,-1))(e))}function st(e){return ft(e)?e:dt(e,!1,ze,et,rt)}function ut(e){return dt(e,!1,Ke,tt,at)}function ct(e){return dt(e,!0,We,nt,ot)}function dt(e,t,n,r,a){if(!y(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const o=lt(e);if(0===o)return e;const i=a.get(e);if(i)return i;const l=new Proxy(e,2===o?r:n);return a.set(e,l),l}function pt(e){return ft(e)?pt(e.__v_raw):!(!e||!e.__v_isReactive)}function ft(e){return!(!e||!e.__v_isReadonly)}function gt(e){return!(!e||!e.__v_isShallow)}function ht(e){return!!e&&!!e.__v_raw}function mt(e){const t=e&&e.__v_raw;return t?mt(t):e}function vt(e){return!c(e,"__v_skip")&&Object.isExtensible(e)&&P(e,"__v_skip",!0),e}const yt=e=>y(e)?st(e):e,bt=e=>y(e)?ct(e):e;function Lt(e){return!!e&&!0===e.__v_isRef}function xt(e){return wt(e,!1)}function wt(e,t){return Lt(e)?e:new Ct(e,t)}class Ct{constructor(e,t){this.dep=new we,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:mt(e),this._value=t?e:yt(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,n=this.__v_isShallow||gt(e)||ft(e);e=n?e:mt(e),D(e,t)&&(this._rawValue=e,this._value=n?e:yt(e),this.dep.trigger())}}function St(e){return Lt(e)?e.value:e}const kt={get:(e,t,n)=>"__v_raw"===t?e:St(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const a=e[t];return Lt(a)&&!Lt(n)?(a.value=n,!0):Reflect.set(e,t,n,r)}};function It(e){return pt(e)?e:new Proxy(e,kt)}function Et(e){const t=d(e)?new Array(e.length):{};for(const n in e)t[n]=_t(e,n);return t}class Mt{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0,this._raw=mt(e);let r=!0,a=e;if(!d(e)||!C(String(t)))do{r=!ht(a)||gt(a)}while(r&&(a=a.__v_raw));this._shallow=r}get value(){let e=this._object[this._key];return this._shallow&&(e=St(e)),this._value=void 0===e?this._defaultValue:e}set value(e){if(this._shallow&&Lt(this._raw[this._key])){const t=this._object[this._key];if(Lt(t))return void(t.value=e)}this._object[this._key]=e}get dep(){return function(e,t){const n=Se.get(e);return n&&n.get(t)}(this._raw,this._key)}}function _t(e,t,n){return new Mt(e,t,n)}class Tt{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new we(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Le-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(8&this.flags)&&J!==this)return ie(this,!0),!0}get value(){const e=this.dep.track();return pe(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}const Nt={},Dt=new WeakMap;let Rt;function Pt(e,n,a=t){const{immediate:o,deep:i,once:l,scheduler:u,augmentJob:c,call:p}=a,f=e=>i?e:gt(e)||!1===i||0===i?At(e,1):At(e);let g,m,v,y,b=!1,L=!1;if(Lt(e)?(m=()=>e.value,b=gt(e)):pt(e)?(m=()=>f(e),b=!0):d(e)?(L=!0,b=e.some(e=>pt(e)||gt(e)),m=()=>e.map(e=>Lt(e)?e.value:pt(e)?f(e):h(e)?p?p(e,2):e():void 0)):m=h(e)?n?p?()=>p(e,2):e:()=>{if(v){ve();try{v()}finally{ye()}}const t=Rt;Rt=g;try{return p?p(e,3,[y]):e(y)}finally{Rt=t}}:r,n&&i){const e=m,t=!0===i?1/0:i;m=()=>At(e(),t)}const x=Y,w=()=>{g.stop(),x&&x.active&&s(x.effects,g)};if(l&&n){const e=n;n=(...t)=>{e(...t),w()}}let C=L?new Array(e.length).fill(Nt):Nt;const S=e=>{if(1&g.flags&&(g.dirty||e))if(n){const e=g.run();if(i||b||(L?e.some((e,t)=>D(e,C[t])):D(e,C))){v&&v();const t=Rt;Rt=g;try{const t=[e,C===Nt?void 0:L&&C[0]===Nt?[]:C,y];C=e,p?p(n,3,t):n(...t)}finally{Rt=t}}}else g.run()};return c&&c(S),g=new ne(m),g.scheduler=u?()=>u(S,!1):S,y=e=>function(e,t=!1,n=Rt){if(n){let t=Dt.get(n);t||Dt.set(n,t=[]),t.push(e)}}(e,!1,g),v=g.onStop=()=>{const e=Dt.get(g);if(e){if(p)p(e,4);else for(const t of e)t();Dt.delete(g)}},n?o?S(!0):C=g.run():u?u(S.bind(null,!0),!0):g.run(),w.pause=g.pause.bind(g),w.resume=g.resume.bind(g),w.stop=w,w}function At(e,t=1/0,n){if(t<=0||!y(e)||e.__v_skip)return e;if(((n=n||new Map).get(e)||0)>=t)return e;if(n.set(e,t),t--,Lt(e))At(e.value,t,n);else if(d(e))for(let r=0;r<e.length;r++)At(e[r],t,n);else if(f(e)||p(e))e.forEach(e=>{At(e,t,n)});else if(w(e)){for(const r in e)At(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&At(e[r],t,n)}return e}
/**
* @vue/runtime-core v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ot(e,t,n,r){try{return r?e(...r):e()}catch(e){Bt(e,t,n)}}function Ft(e,t,n,r){if(h(e)){const a=Ot(e,t,n,r);return a&&b(a)&&a.catch(e=>{Bt(e,t,n)}),a}if(d(e)){const a=[];for(let o=0;o<e.length;o++)a.push(Ft(e[o],t,n,r));return a}}function Bt(e,n,r,a=!0){n&&n.vnode;const{errorHandler:o,throwUnhandledErrorInProduction:i}=n&&n.appContext.config||t;if(n){let t=n.parent;const a=n.proxy,i=`https://vuejs.org/error-reference/#runtime-${r}`;for(;t;){const n=t.ec;if(n)for(let t=0;t<n.length;t++)if(!1===n[t](e,a,i))return;t=t.parent}if(o)return ve(),Ot(o,null,10,[e,a,i]),void ye()}!function(e,t,n,r=!0,a=!1){if(a)throw e;console.error(e)}(e,0,0,a,i)}const Ut=[];let Vt=-1;const $t=[];let Gt=null,Ht=0;const qt=Promise.resolve();let jt=null;function zt(e){const t=jt||qt;return e?t.then(this?e.bind(this):e):t}function Wt(e){if(!(1&e.flags)){const t=Zt(e),n=Ut[Ut.length-1];!n||!(2&e.flags)&&t>=Zt(n)?Ut.push(e):Ut.splice(function(e){let t=Vt+1,n=Ut.length;for(;t<n;){const r=t+n>>>1,a=Ut[r],o=Zt(a);o<e||o===e&&2&a.flags?t=r+1:n=r}return t}(t),0,e),e.flags|=1,Kt()}}function Kt(){jt||(jt=qt.then(Yt))}function Xt(e,t,n=Vt+1){for(;n<Ut.length;n++){const t=Ut[n];if(t&&2&t.flags){if(e&&t.id!==e.uid)continue;Ut.splice(n,1),n--,4&t.flags&&(t.flags&=-2),t(),4&t.flags||(t.flags&=-2)}}}function Qt(e){if($t.length){const e=[...new Set($t)].sort((e,t)=>Zt(e)-Zt(t));if($t.length=0,Gt)return void Gt.push(...e);for(Gt=e,Ht=0;Ht<Gt.length;Ht++){const e=Gt[Ht];4&e.flags&&(e.flags&=-2),8&e.flags||e(),e.flags&=-2}Gt=null,Ht=0}}const Zt=e=>null==e.id?2&e.flags?-1:1/0:e.id;function Yt(e){try{for(Vt=0;Vt<Ut.length;Vt++){const e=Ut[Vt];!e||8&e.flags||(4&e.flags&&(e.flags&=-2),Ot(e,e.i,e.i?15:14),4&e.flags||(e.flags&=-2))}}finally{for(;Vt<Ut.length;Vt++){const e=Ut[Vt];e&&(e.flags&=-2)}Vt=-1,Ut.length=0,Qt(),jt=null,(Ut.length||$t.length)&&Yt()}}let Jt=null,en=null;function tn(e){const t=Jt;return Jt=e,en=e&&e.type.__scopeId||null,t}function nn(e,t=Jt,n){if(!t)return e;if(e._n)return e;const r=(...n)=>{r._d&&ea(-1);const a=tn(t);let o;try{o=e(...n)}finally{tn(a),r._d&&ea(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function rn(e,n){if(null===Jt)return e;const r=Ra(Jt),a=e.dirs||(e.dirs=[]);for(let e=0;e<n.length;e++){let[o,i,l,s=t]=n[e];o&&(h(o)&&(o={mounted:o,updated:o}),o.deep&&At(i),a.push({dir:o,instance:r,value:i,oldValue:void 0,arg:l,modifiers:s}))}return e}function an(e,t,n,r){const a=e.dirs,o=t&&t.dirs;for(let i=0;i<a.length;i++){const l=a[i];o&&(l.oldValue=o[i].value);let s=l.dir[r];s&&(ve(),Ft(s,n,8,[e.el,l,e,t]),ye())}}function on(e,t){if(xa){let n=xa.provides;const r=xa.parent&&xa.parent.provides;r===n&&(n=xa.provides=Object.create(r)),n[e]=t}}function ln(e,t,n=!1){const r=wa();if(r||gr){let a=gr?gr._context.provides:r?null==r.parent||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return n&&h(t)?t.call(r&&r.proxy):t}}const sn=Symbol.for("v-scx");function un(e,t,n){return cn(e,t,n)}function cn(e,n,a=t){const{immediate:o,deep:i,flush:s,once:u}=a,c=l({},a),d=n&&o||!n&&"post"!==s;let p;if(_a)if("sync"===s){const e=ln(sn);p=e.__watcherHandles||(e.__watcherHandles=[])}else if(!d){const e=()=>{};return e.stop=r,e.resume=r,e.pause=r,e}const f=xa;c.call=(e,t,n)=>Ft(e,f,t,n);let g=!1;"post"===s?c.scheduler=e=>{Fr(e,f&&f.suspense)}:"sync"!==s&&(g=!0,c.scheduler=(e,t)=>{t?e():Wt(e)}),c.augmentJob=e=>{n&&(e.flags|=4),g&&(e.flags|=2,f&&(e.id=f.uid,e.i=f))};const h=Pt(e,n,c);return _a&&(p?p.push(h):d&&h()),h}function dn(e,t,n){const r=this.proxy,a=m(e)?e.includes(".")?pn(r,e):()=>r[e]:e.bind(r,r);let o;h(t)?o=t:(o=t.handler,n=t);const i=ka(this),l=cn(a,o.bind(r),n);return i(),l}function pn(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}const fn=Symbol("_vte"),gn=Symbol("_leaveCb");function hn(e,t){6&e.shapeFlag&&e.component?(e.transition=t,hn(e.component.subTree,t)):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function mn(e,t){return h(e)?(()=>l({name:e.name},t,{setup:e}))():e}function vn(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const yn=new WeakMap;function bn(e,n,r,o,i=!1){if(d(e))return void e.forEach((e,t)=>bn(e,n&&(d(n)?n[t]:n),r,o,i));if(xn(o)&&!i)return void(512&o.shapeFlag&&o.type.__asyncResolved&&o.component.subTree.component&&bn(e,n,r,o.component.subTree));const l=4&o.shapeFlag?Ra(o.component):o.el,u=i?null:l,{i:p,r:f}=e,g=n&&n.r,v=p.refs===t?p.refs={}:p.refs,y=p.setupState,b=mt(y),L=y===t?a:e=>c(b,e);if(null!=g&&g!==f)if(Ln(n),m(g))v[g]=null,L(g)&&(y[g]=null);else if(Lt(g)){g.value=null;const e=n;e.k&&(v[e.k]=null)}if(h(f))Ot(f,p,12,[u,v]);else{const t=m(f),n=Lt(f);if(t||n){const a=()=>{if(e.f){const n=t?L(f)?y[f]:v[f]:f.value;if(i)d(n)&&s(n,l);else if(d(n))n.includes(l)||n.push(l);else if(t)v[f]=[l],L(f)&&(y[f]=v[f]);else{const t=[l];f.value=t,e.k&&(v[e.k]=t)}}else t?(v[f]=u,L(f)&&(y[f]=u)):n&&(f.value=u,e.k&&(v[e.k]=u))};if(u){const t=()=>{a(),yn.delete(e)};t.id=-1,yn.set(e,t),Fr(t,r)}else Ln(e),a()}}}function Ln(e){const t=yn.get(e);t&&(t.flags|=8,yn.delete(e))}F().requestIdleCallback,F().cancelIdleCallback;const xn=e=>!!e.type.__asyncLoader,wn=e=>e.type.__isKeepAlive;function Cn(e,t){kn(e,"a",t)}function Sn(e,t){kn(e,"da",t)}function kn(e,t,n=xa){const r=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(En(t,r,n),n){let e=n.parent;for(;e&&e.parent;)wn(e.parent.vnode)&&In(r,t,n,e),e=e.parent}}function In(e,t,n,r){const a=En(t,e,r,!0);Pn(()=>{s(r[t],a)},n)}function En(e,t,n=xa,r=!1){if(n){const a=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...r)=>{ve();const a=ka(n),o=Ft(t,n,e,r);return a(),ye(),o});return r?a.unshift(o):a.push(o),o}}const Mn=e=>(t,n=xa)=>{_a&&"sp"!==e||En(e,(...e)=>t(...e),n)},_n=Mn("bm"),Tn=Mn("m"),Nn=Mn("bu"),Dn=Mn("u"),Rn=Mn("bum"),Pn=Mn("um"),An=Mn("sp"),On=Mn("rtg"),Fn=Mn("rtc");function Bn(e,t=xa){En("ec",e,t)}const Un="components";function Vn(e,t){return Hn(Un,e,!0,t)||e}const $n=Symbol.for("v-ndc");function Gn(e){return m(e)?Hn(Un,e,!1)||e:e||$n}function Hn(e,t,n=!0,r=!1){const a=Jt||xa;if(a){const n=a.type;if(e===Un){const e=Pa(n,!1);if(e&&(e===t||e===E(t)||e===T(E(t))))return n}const o=qn(a[e]||n[e],t)||qn(a.appContext[e],t);return!o&&r?n:o}}function qn(e,t){return e&&(e[t]||e[E(t)]||e[T(E(t))])}function jn(e,t,n,r){let a;const o=n&&n[r],i=d(e);if(i||m(e)){let n=!1,r=!1;i&&pt(e)&&(n=!gt(e),r=ft(e),e=Ne(e)),a=new Array(e.length);for(let i=0,l=e.length;i<l;i++)a[i]=t(n?r?bt(yt(e[i])):yt(e[i]):e[i],i,void 0,o&&o[i])}else if("number"==typeof e){a=new Array(e);for(let n=0;n<e;n++)a[n]=t(n+1,n,void 0,o&&o[n])}else if(y(e))if(e[Symbol.iterator])a=Array.from(e,(e,n)=>t(e,n,void 0,o&&o[n]));else{const n=Object.keys(e);a=new Array(n.length);for(let r=0,i=n.length;r<i;r++){const i=n[r];a[r]=t(e[i],i,r,o&&o[r])}}else a=[];return n&&(n[r]=a),a}function zn(e,t,n={},r,a){if(Jt.ce||Jt.parent&&xn(Jt.parent)&&Jt.parent.ce){const e=Object.keys(n).length>0;return"default"!==t&&(n.name=t),Yr(),ra(zr,null,[ua("slot",n,r&&r())],e?-2:64)}let o=e[t];o&&o._c&&(o._d=!1),Yr();const i=o&&Wn(o(n)),l=n.key||i&&i.key,s=ra(zr,{key:(l&&!v(l)?l:`_${t}`)+(!i&&r?"_fb":"")},i||(r?r():[]),i&&1===e._?64:-2);return!a&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),o&&o._c&&(o._d=!0),s}function Wn(e){return e.some(e=>!aa(e)||e.type!==Kr&&!(e.type===zr&&!Wn(e.children)))?e:null}const Kn=e=>e?Ea(e)?Ra(e):Kn(e.parent):null,Xn=l(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Kn(e.parent),$root:e=>Kn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>rr(e),$forceUpdate:e=>e.f||(e.f=()=>{Wt(e.update)}),$nextTick:e=>e.n||(e.n=zt.bind(e.proxy)),$watch:e=>dn.bind(e)}),Qn=(e,n)=>e!==t&&!e.__isScriptSetup&&c(e,n),Zn={get({_:e},n){if("__v_skip"===n)return!0;const{ctx:r,setupState:a,data:o,props:i,accessCache:l,type:s,appContext:u}=e;if("$"!==n[0]){const e=l[n];if(void 0!==e)switch(e){case 1:return a[n];case 2:return o[n];case 4:return r[n];case 3:return i[n]}else{if(Qn(a,n))return l[n]=1,a[n];if(o!==t&&c(o,n))return l[n]=2,o[n];if(c(i,n))return l[n]=3,i[n];if(r!==t&&c(r,n))return l[n]=4,r[n];Jn&&(l[n]=0)}}const d=Xn[n];let p,f;return d?("$attrs"===n&&Me(e.attrs,0,""),d(e)):(p=s.__cssModules)&&(p=p[n])?p:r!==t&&c(r,n)?(l[n]=4,r[n]):(f=u.config.globalProperties,c(f,n)?f[n]:void 0)},set({_:e},n,r){const{data:a,setupState:o,ctx:i}=e;return Qn(o,n)?(o[n]=r,!0):a!==t&&c(a,n)?(a[n]=r,!0):!c(e.props,n)&&(("$"!==n[0]||!(n.slice(1)in e))&&(i[n]=r,!0))},has({_:{data:e,setupState:n,accessCache:r,ctx:a,appContext:o,props:i,type:l}},s){let u;return!!(r[s]||e!==t&&"$"!==s[0]&&c(e,s)||Qn(n,s)||c(i,s)||c(a,s)||c(Xn,s)||c(o.config.globalProperties,s)||(u=l.__cssModules)&&u[s])},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:c(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Yn(e){return d(e)?e.reduce((e,t)=>(e[t]=null,e),{}):e}let Jn=!0;function er(e){const t=rr(e),n=e.proxy,a=e.ctx;Jn=!1,t.beforeCreate&&tr(t.beforeCreate,e,"bc");const{data:o,computed:i,methods:l,watch:s,provide:u,inject:c,created:p,beforeMount:f,mounted:g,beforeUpdate:m,updated:v,activated:b,deactivated:L,beforeDestroy:x,beforeUnmount:w,destroyed:C,unmounted:S,render:k,renderTracked:I,renderTriggered:E,errorCaptured:M,serverPrefetch:_,expose:T,inheritAttrs:N,components:D,directives:R,filters:P}=t;if(c&&function(e,t){d(e)&&(e=lr(e));for(const n in e){const r=e[n];let a;a=y(r)?"default"in r?ln(r.from||n,r.default,!0):ln(r.from||n):ln(r),Lt(a)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e}):t[n]=a}}(c,a,null),l)for(const e in l){const t=l[e];h(t)&&(a[e]=t.bind(n))}if(o){const t=o.call(n,n);y(t)&&(e.data=st(t))}if(Jn=!0,i)for(const e in i){const t=i[e],o=h(t)?t.bind(n,n):h(t.get)?t.get.bind(n,n):r,l=!h(t)&&h(t.set)?t.set.bind(n):r,s=Aa({get:o,set:l});Object.defineProperty(a,e,{enumerable:!0,configurable:!0,get:()=>s.value,set:e=>s.value=e})}if(s)for(const e in s)nr(s[e],a,n,e);if(u){const e=h(u)?u.call(n):u;Reflect.ownKeys(e).forEach(t=>{on(t,e[t])})}function A(e,t){d(t)?t.forEach(t=>e(t.bind(n))):t&&e(t.bind(n))}if(p&&tr(p,e,"c"),A(_n,f),A(Tn,g),A(Nn,m),A(Dn,v),A(Cn,b),A(Sn,L),A(Bn,M),A(Fn,I),A(On,E),A(Rn,w),A(Pn,S),A(An,_),d(T))if(T.length){const t=e.exposed||(e.exposed={});T.forEach(e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t,enumerable:!0})})}else e.exposed||(e.exposed={});k&&e.render===r&&(e.render=k),null!=N&&(e.inheritAttrs=N),D&&(e.components=D),R&&(e.directives=R),_&&vn(e)}function tr(e,t,n){Ft(d(e)?e.map(e=>e.bind(t.proxy)):e.bind(t.proxy),t,n)}function nr(e,t,n,r){let a=r.includes(".")?pn(n,r):()=>n[r];if(m(e)){const n=t[e];h(n)&&un(a,n)}else if(h(e))un(a,e.bind(n));else if(y(e))if(d(e))e.forEach(e=>nr(e,t,n,r));else{const r=h(e.handler)?e.handler.bind(n):t[e.handler];h(r)&&un(a,r,e)}}function rr(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:a,optionsCache:o,config:{optionMergeStrategies:i}}=e.appContext,l=o.get(t);let s;return l?s=l:a.length||n||r?(s={},a.length&&a.forEach(e=>ar(s,e,i,!0)),ar(s,t,i)):s=t,y(t)&&o.set(t,s),s}function ar(e,t,n,r=!1){const{mixins:a,extends:o}=t;o&&ar(e,o,n,!0),a&&a.forEach(t=>ar(e,t,n,!0));for(const a in t)if(r&&"expose"===a);else{const r=or[a]||n&&n[a];e[a]=r?r(e[a],t[a]):t[a]}return e}const or={data:ir,props:cr,emits:cr,methods:ur,computed:ur,beforeCreate:sr,created:sr,beforeMount:sr,mounted:sr,beforeUpdate:sr,updated:sr,beforeDestroy:sr,beforeUnmount:sr,destroyed:sr,unmounted:sr,activated:sr,deactivated:sr,errorCaptured:sr,serverPrefetch:sr,components:ur,directives:ur,watch:function(e,t){if(!e)return t;if(!t)return e;const n=l(Object.create(null),e);for(const r in t)n[r]=sr(e[r],t[r]);return n},provide:ir,inject:function(e,t){return ur(lr(e),lr(t))}};function ir(e,t){return t?e?function(){return l(h(e)?e.call(this,this):e,h(t)?t.call(this,this):t)}:t:e}function lr(e){if(d(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function sr(e,t){return e?[...new Set([].concat(e,t))]:t}function ur(e,t){return e?l(Object.create(null),e,t):t}function cr(e,t){return e?d(e)&&d(t)?[...new Set([...e,...t])]:l(Object.create(null),Yn(e),Yn(null!=t?t:{})):t}function dr(){return{app:null,config:{isNativeTag:a,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let pr=0;function fr(e,t){return function(n,r=null){h(n)||(n=l({},n)),null==r||y(r)||(r=null);const a=dr(),o=new WeakSet,i=[];let s=!1;const u=a.app={_uid:pr++,_component:n,_props:r,_container:null,_context:a,_instance:null,version:Fa,get config(){return a.config},set config(e){},use:(e,...t)=>(o.has(e)||(e&&h(e.install)?(o.add(e),e.install(u,...t)):h(e)&&(o.add(e),e(u,...t))),u),mixin:e=>(a.mixins.includes(e)||a.mixins.push(e),u),component:(e,t)=>t?(a.components[e]=t,u):a.components[e],directive:(e,t)=>t?(a.directives[e]=t,u):a.directives[e],mount(o,i,l){if(!s){const c=u._ceVNode||ua(n,r);return c.appContext=a,!0===l?l="svg":!1===l&&(l=void 0),i&&t?t(c,o):e(c,o,l),s=!0,u._container=o,o.__vue_app__=u,Ra(c.component)}},onUnmount(e){i.push(e)},unmount(){s&&(Ft(i,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide:(e,t)=>(a.provides[e]=t,u),runWithContext(e){const t=gr;gr=u;try{return e()}finally{gr=t}}};return u}}let gr=null;function hr(e,n,...r){if(e.isUnmounted)return;const a=e.vnode.props||t;let o=r;const i=n.startsWith("update:"),l=i&&((e,t)=>"modelValue"===t||"model-value"===t?e.modelModifiers:e[`${t}Modifiers`]||e[`${E(t)}Modifiers`]||e[`${_(t)}Modifiers`])(a,n.slice(7));let s;l&&(l.trim&&(o=r.map(e=>m(e)?e.trim():e)),l.number&&(o=r.map(A)));let u=a[s=N(n)]||a[s=N(E(n))];!u&&i&&(u=a[s=N(_(n))]),u&&Ft(u,e,6,o);const c=a[s+"Once"];if(c){if(e.emitted){if(e.emitted[s])return}else e.emitted={};e.emitted[s]=!0,Ft(c,e,6,o)}}const mr=new WeakMap;function vr(e,t,n=!1){const r=n?mr:t.emitsCache,a=r.get(e);if(void 0!==a)return a;const o=e.emits;let i={},s=!1;if(!h(e)){const r=e=>{const n=vr(e,t,!0);n&&(s=!0,l(i,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return o||s?(d(o)?o.forEach(e=>i[e]=null):l(i,o),y(e)&&r.set(e,i),i):(y(e)&&r.set(e,null),null)}function yr(e,t){return!(!e||!o(t))&&(t=t.slice(2).replace(/Once$/,""),c(e,t[0].toLowerCase()+t.slice(1))||c(e,_(t))||c(e,t))}function br(e){const{type:t,vnode:n,proxy:r,withProxy:a,propsOptions:[o],slots:l,attrs:s,emit:u,render:c,renderCache:d,props:p,data:f,setupState:g,ctx:h,inheritAttrs:m}=e,v=tn(e);let y,b;try{if(4&n.shapeFlag){const e=a||r,t=e;y=ga(c.call(t,e,d,p,g,f,h)),b=s}else{const e=t;0,y=ga(e.length>1?e(p,{attrs:s,slots:l,emit:u}):e(p,null)),b=t.props?s:Lr(s)}}catch(t){Qr.length=0,Bt(t,e,1),y=ua(Kr)}let L=y;if(b&&!1!==m){const e=Object.keys(b),{shapeFlag:t}=L;e.length&&7&t&&(o&&e.some(i)&&(b=xr(b,o)),L=ca(L,b,!1,!0))}return n.dirs&&(L=ca(L,null,!1,!0),L.dirs=L.dirs?L.dirs.concat(n.dirs):n.dirs),n.transition&&hn(L,n.transition),y=L,tn(v),y}const Lr=e=>{let t;for(const n in e)("class"===n||"style"===n||o(n))&&((t||(t={}))[n]=e[n]);return t},xr=(e,t)=>{const n={};for(const r in e)i(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function wr(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let a=0;a<r.length;a++){const o=r[a];if(t[o]!==e[o]&&!yr(n,o))return!0}return!1}const Cr={},Sr=()=>Object.create(Cr),kr=e=>Object.getPrototypeOf(e)===Cr;function Ir(e,n,r,a){const[o,i]=e.propsOptions;let l,s=!1;if(n)for(let t in n){if(S(t))continue;const u=n[t];let d;o&&c(o,d=E(t))?i&&i.includes(d)?(l||(l={}))[d]=u:r[d]=u:yr(e.emitsOptions,t)||t in a&&u===a[t]||(a[t]=u,s=!0)}if(i){const n=mt(r),a=l||t;for(let t=0;t<i.length;t++){const l=i[t];r[l]=Er(o,n,l,a[l],e,!c(a,l))}}return s}function Er(e,t,n,r,a,o){const i=e[n];if(null!=i){const e=c(i,"default");if(e&&void 0===r){const e=i.default;if(i.type!==Function&&!i.skipFactory&&h(e)){const{propsDefaults:o}=a;if(n in o)r=o[n];else{const i=ka(a);r=o[n]=e.call(null,t),i()}}else r=e;a.ce&&a.ce._setProp(n,r)}i[0]&&(o&&!e?r=!1:!i[1]||""!==r&&r!==_(n)||(r=!0))}return r}const Mr=new WeakMap;function _r(e,r,a=!1){const o=a?Mr:r.propsCache,i=o.get(e);if(i)return i;const s=e.props,u={},p=[];let f=!1;if(!h(e)){const t=e=>{f=!0;const[t,n]=_r(e,r,!0);l(u,t),n&&p.push(...n)};!a&&r.mixins.length&&r.mixins.forEach(t),e.extends&&t(e.extends),e.mixins&&e.mixins.forEach(t)}if(!s&&!f)return y(e)&&o.set(e,n),n;if(d(s))for(let e=0;e<s.length;e++){const n=E(s[e]);Tr(n)&&(u[n]=t)}else if(s)for(const e in s){const t=E(e);if(Tr(t)){const n=s[e],r=u[t]=d(n)||h(n)?{type:n}:l({},n),a=r.type;let o=!1,i=!0;if(d(a))for(let e=0;e<a.length;++e){const t=a[e],n=h(t)&&t.name;if("Boolean"===n){o=!0;break}"String"===n&&(i=!1)}else o=h(a)&&"Boolean"===a.name;r[0]=o,r[1]=i,(o||c(r,"default"))&&p.push(t)}}const g=[u,p];return y(e)&&o.set(e,g),g}function Tr(e){return"$"!==e[0]&&!S(e)}const Nr=e=>"_"===e||"_ctx"===e||"$stable"===e,Dr=e=>d(e)?e.map(ga):[ga(e)],Rr=(e,t,n)=>{if(t._n)return t;const r=nn((...e)=>Dr(t(...e)),n);return r._c=!1,r},Pr=(e,t,n)=>{const r=e._ctx;for(const n in e){if(Nr(n))continue;const a=e[n];if(h(a))t[n]=Rr(0,a,r);else if(null!=a){const e=Dr(a);t[n]=()=>e}}},Ar=(e,t)=>{const n=Dr(t);e.slots.default=()=>n},Or=(e,t,n)=>{for(const r in t)!n&&Nr(r)||(e[r]=t[r])};const Fr=function(e,t){t&&t.pendingBranch?d(e)?t.effects.push(...e):t.effects.push(e):(d(n=e)?$t.push(...n):Gt&&-1===n.id?Gt.splice(Ht+1,0,n):1&n.flags||($t.push(n),n.flags|=1),Kt());var n};function Br(e){return function(e,a){"boolean"!=typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&(F().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1);F().__VUE__=!0;const{insert:o,remove:i,patchProp:l,createElement:s,createText:u,createComment:d,setText:p,setElementText:f,parentNode:g,nextSibling:h,setScopeId:m=r,insertStaticContent:v}=e,y=(e,t,n,r=null,a=null,o=null,i=void 0,l=null,s=!!t.dynamicChildren)=>{if(e===t)return;e&&!oa(e,t)&&(r=J(e),K(e,a,o,!0),e=null),-2===t.patchFlag&&(s=!1,t.dynamicChildren=null);const{type:u,ref:c,shapeFlag:d}=t;switch(u){case Wr:L(e,t,n,r);break;case Kr:x(e,t,n,r);break;case Xr:null==e&&w(t,n,r,i);break;case zr:B(e,t,n,r,a,o,i,l,s);break;default:1&d?I(e,t,n,r,a,o,i,l,s):6&d?U(e,t,n,r,a,o,i,l,s):(64&d||128&d)&&u.process(e,t,n,r,a,o,i,l,s,ae)}null!=c&&a?bn(c,e&&e.ref,o,t||e,!t):null==c&&e&&null!=e.ref&&bn(e.ref,null,o,e,!0)},L=(e,t,n,r)=>{if(null==e)o(t.el=u(t.children),n,r);else{const n=t.el=e.el;t.children!==e.children&&p(n,t.children)}},x=(e,t,n,r)=>{null==e?o(t.el=d(t.children||""),n,r):t.el=e.el},w=(e,t,n,r)=>{[e.el,e.anchor]=v(e.children,t,n,r,e.el,e.anchor)},C=({el:e,anchor:t},n,r)=>{let a;for(;e&&e!==t;)a=h(e),o(e,n,r),e=a;o(t,n,r)},k=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=h(e),i(e),e=n;i(t)},I=(e,t,n,r,a,o,i,l,s)=>{if("svg"===t.type?i="svg":"math"===t.type&&(i="mathml"),null==e)M(t,n,r,a,o,i,l,s);else{const n=e.el&&e.el._isVueCE?e.el:null;try{n&&n._beginPatch(),D(e,t,a,o,i,l,s)}finally{n&&n._endPatch()}}},M=(e,t,n,r,a,i,u,c)=>{let d,p;const{props:g,shapeFlag:h,transition:m,dirs:v}=e;if(d=e.el=s(e.type,i,g&&g.is,g),8&h?f(d,e.children):16&h&&N(e.children,d,null,r,a,Ur(e,i),u,c),v&&an(e,null,r,"created"),T(d,e,e.scopeId,u,r),g){for(const e in g)"value"===e||S(e)||l(d,e,null,g[e],i,r);"value"in g&&l(d,"value",null,g.value,i),(p=g.onVnodeBeforeMount)&&ya(p,r,e)}v&&an(e,null,r,"beforeMount");const y=function(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}(a,m);y&&m.beforeEnter(d),o(d,t,n),((p=g&&g.onVnodeMounted)||y||v)&&Fr(()=>{p&&ya(p,r,e),y&&m.enter(d),v&&an(e,null,r,"mounted")},a)},T=(e,t,n,r,a)=>{if(n&&m(e,n),r)for(let t=0;t<r.length;t++)m(e,r[t]);if(a){let n=a.subTree;if(t===n||jr(n.type)&&(n.ssContent===t||n.ssFallback===t)){const t=a.vnode;T(e,t,t.scopeId,t.slotScopeIds,a.parent)}}},N=(e,t,n,r,a,o,i,l,s=0)=>{for(let u=s;u<e.length;u++){const s=e[u]=l?ha(e[u]):ga(e[u]);y(null,s,t,n,r,a,o,i,l)}},D=(e,n,r,a,o,i,s)=>{const u=n.el=e.el;let{patchFlag:c,dynamicChildren:d,dirs:p}=n;c|=16&e.patchFlag;const g=e.props||t,h=n.props||t;let m;if(r&&Vr(r,!1),(m=h.onVnodeBeforeUpdate)&&ya(m,r,n,e),p&&an(n,e,r,"beforeUpdate"),r&&Vr(r,!0),(g.innerHTML&&null==h.innerHTML||g.textContent&&null==h.textContent)&&f(u,""),d?A(e.dynamicChildren,d,u,r,a,Ur(n,o),i):s||q(e,n,u,null,r,a,Ur(n,o),i,!1),c>0){if(16&c)O(u,g,h,r,o);else if(2&c&&g.class!==h.class&&l(u,"class",null,h.class,o),4&c&&l(u,"style",g.style,h.style,o),8&c){const e=n.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t],a=g[n],i=h[n];i===a&&"value"!==n||l(u,n,a,i,o,r)}}1&c&&e.children!==n.children&&f(u,n.children)}else s||null!=d||O(u,g,h,r,o);((m=h.onVnodeUpdated)||p)&&Fr(()=>{m&&ya(m,r,n,e),p&&an(n,e,r,"updated")},a)},A=(e,t,n,r,a,o,i)=>{for(let l=0;l<t.length;l++){const s=e[l],u=t[l],c=s.el&&(s.type===zr||!oa(s,u)||198&s.shapeFlag)?g(s.el):n;y(s,u,c,null,r,a,o,i,!0)}},O=(e,n,r,a,o)=>{if(n!==r){if(n!==t)for(const t in n)S(t)||t in r||l(e,t,n[t],null,o,a);for(const t in r){if(S(t))continue;const i=r[t],s=n[t];i!==s&&"value"!==t&&l(e,t,s,i,o,a)}"value"in r&&l(e,"value",n.value,r.value,o)}},B=(e,t,n,r,a,i,l,s,c)=>{const d=t.el=e?e.el:u(""),p=t.anchor=e?e.anchor:u("");let{patchFlag:f,dynamicChildren:g,slotScopeIds:h}=t;h&&(s=s?s.concat(h):h),null==e?(o(d,n,r),o(p,n,r),N(t.children||[],n,p,a,i,l,s,c)):f>0&&64&f&&g&&e.dynamicChildren&&e.dynamicChildren.length===g.length?(A(e.dynamicChildren,g,n,a,i,l,s),(null!=t.key||a&&t===a.subTree)&&$r(e,t,!0)):q(e,t,n,p,a,i,l,s,c)},U=(e,t,n,r,a,o,i,l,s)=>{t.slotScopeIds=l,null==e?512&t.shapeFlag?a.ctx.activate(t,n,r,i,s):V(t,n,r,a,o,i,s):$(e,t,s)},V=(e,n,r,a,o,i,l)=>{const s=e.component=function(e,n,r){const a=e.type,o=(n?n.appContext:e.appContext)||ba,i={uid:La++,vnode:e,type:a,parent:n,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ee(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(o.provides),ids:n?n.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_r(a,o),emitsOptions:vr(a,o),emit:null,emitted:null,propsDefaults:t,inheritAttrs:a.inheritAttrs,ctx:t,data:t,props:t,attrs:t,slots:t,refs:t,setupState:t,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};i.ctx={_:i},i.root=n?n.root:i,i.emit=hr.bind(null,i),e.ce&&e.ce(i);return i}(e,a,o);if(wn(e)&&(s.ctx.renderer=ae),function(e,t=!1,n=!1){t&&Sa(t);const{props:r,children:a}=e.vnode,o=Ea(e);(function(e,t,n,r=!1){const a={},o=Sr();e.propsDefaults=Object.create(null),Ir(e,t,a,o);for(const t in e.propsOptions[0])t in a||(a[t]=void 0);n?e.props=r?a:ut(a):e.type.props?e.props=a:e.props=o,e.attrs=o})(e,r,o,t),((e,t,n)=>{const r=e.slots=Sr();if(32&e.vnode.shapeFlag){const e=t._;e?(Or(r,t,n),n&&P(r,"_",e,!0)):Pr(t,r)}else t&&Ar(e,t)})(e,a,n||t);const i=o?function(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Zn);const{setup:r}=n;if(r){ve();const n=e.setupContext=r.length>1?function(e){const t=t=>{e.exposed=t||{}};return{attrs:new Proxy(e.attrs,Da),slots:e.slots,emit:e.emit,expose:t}}(e):null,a=ka(e),o=Ot(r,e,0,[e.props,n]),i=b(o);if(ye(),a(),!i&&!e.sp||xn(e)||vn(e),i){if(o.then(Ia,Ia),t)return o.then(n=>{Ta(e,n,t)}).catch(t=>{Bt(t,e,0)});e.asyncDep=o}else Ta(e,o,t)}else Na(e,t)}(e,t):void 0;t&&Sa(!1)}(s,!1,l),s.asyncDep){if(o&&o.registerDep(s,G,l),!e.el){const t=s.subTree=ua(Kr);x(null,t,n,r),e.placeholder=t.el}}else G(s,e,n,r,o,i,l)},$=(e,t,n)=>{const r=t.component=e.component;if(function(e,t,n){const{props:r,children:a,component:o}=e,{props:i,children:l,patchFlag:s}=t,u=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&s>=0))return!(!a&&!l||l&&l.$stable)||r!==i&&(r?!i||wr(r,i,u):!!i);if(1024&s)return!0;if(16&s)return r?wr(r,i,u):!!i;if(8&s){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(i[n]!==r[n]&&!yr(u,n))return!0}}return!1}(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void H(r,t,n);r.next=t,r.update()}else t.el=e.el,r.vnode=t},G=(e,t,n,r,a,o,i)=>{const l=()=>{if(e.isMounted){let{next:t,bu:n,u:r,parent:s,vnode:u}=e;{const n=Gr(e);if(n)return t&&(t.el=u.el,H(e,t,i)),void n.asyncDep.then(()=>{e.isUnmounted||l()})}let c,d=t;Vr(e,!1),t?(t.el=u.el,H(e,t,i)):t=u,n&&R(n),(c=t.props&&t.props.onVnodeBeforeUpdate)&&ya(c,s,t,u),Vr(e,!0);const p=br(e),f=e.subTree;e.subTree=p,y(f,p,g(f.el),J(f),e,a,o),t.el=p.el,null===d&&function({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r!==e)break;(e=t.vnode).el=n,t=t.parent}}(e,p.el),r&&Fr(r,a),(c=t.props&&t.props.onVnodeUpdated)&&Fr(()=>ya(c,s,t,u),a)}else{let i;const{el:l,props:s}=t,{bm:u,m:c,parent:d,root:p,type:f}=e,g=xn(t);if(Vr(e,!1),u&&R(u),!g&&(i=s&&s.onVnodeBeforeMount)&&ya(i,d,t),Vr(e,!0),l&&ie){const t=()=>{e.subTree=br(e),ie(l,e.subTree,e,a,null)};g&&f.__asyncHydrate?f.__asyncHydrate(l,e,t):t()}else{p.ce&&!1!==p.ce._def.shadowRoot&&p.ce._injectChildStyle(f);const i=e.subTree=br(e);y(null,i,n,r,e,a,o),t.el=i.el}if(c&&Fr(c,a),!g&&(i=s&&s.onVnodeMounted)){const e=t;Fr(()=>ya(i,d,e),a)}(256&t.shapeFlag||d&&xn(d.vnode)&&256&d.vnode.shapeFlag)&&e.a&&Fr(e.a,a),e.isMounted=!0,t=n=r=null}};e.scope.on();const s=e.effect=new ne(l);e.scope.off();const u=e.update=s.run.bind(s),c=e.job=s.runIfDirty.bind(s);c.i=e,c.id=e.uid,s.scheduler=()=>Wt(c),Vr(e,!0),u()},H=(e,n,r)=>{n.component=e;const a=e.vnode.props;e.vnode=n,e.next=null,function(e,t,n,r){const{props:a,attrs:o,vnode:{patchFlag:i}}=e,l=mt(a),[s]=e.propsOptions;let u=!1;if(!(r||i>0)||16&i){let r;Ir(e,t,a,o)&&(u=!0);for(const o in l)t&&(c(t,o)||(r=_(o))!==o&&c(t,r))||(s?!n||void 0===n[o]&&void 0===n[r]||(a[o]=Er(s,l,o,void 0,e,!0)):delete a[o]);if(o!==l)for(const e in o)t&&c(t,e)||(delete o[e],u=!0)}else if(8&i){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let i=n[r];if(yr(e.emitsOptions,i))continue;const d=t[i];if(s)if(c(o,i))d!==o[i]&&(o[i]=d,u=!0);else{const t=E(i);a[t]=Er(s,l,t,d,e,!1)}else d!==o[i]&&(o[i]=d,u=!0)}}u&&_e(e.attrs,"set","")}(e,n.props,a,r),((e,n,r)=>{const{vnode:a,slots:o}=e;let i=!0,l=t;if(32&a.shapeFlag){const e=n._;e?r&&1===e?i=!1:Or(o,n,r):(i=!n.$stable,Pr(n,o)),l=n}else n&&(Ar(e,n),l={default:1});if(i)for(const e in o)Nr(e)||null!=l[e]||delete o[e]})(e,n.children,r),ve(),Xt(e),ye()},q=(e,t,n,r,a,o,i,l,s=!1)=>{const u=e&&e.children,c=e?e.shapeFlag:0,d=t.children,{patchFlag:p,shapeFlag:g}=t;if(p>0){if(128&p)return void z(u,d,n,r,a,o,i,l,s);if(256&p)return void j(u,d,n,r,a,o,i,l,s)}8&g?(16&c&&Y(u,a,o),d!==u&&f(n,d)):16&c?16&g?z(u,d,n,r,a,o,i,l,s):Y(u,a,o,!0):(8&c&&f(n,""),16&g&&N(d,n,r,a,o,i,l,s))},j=(e,t,r,a,o,i,l,s,u)=>{t=t||n;const c=(e=e||n).length,d=t.length,p=Math.min(c,d);let f;for(f=0;f<p;f++){const n=t[f]=u?ha(t[f]):ga(t[f]);y(e[f],n,r,null,o,i,l,s,u)}c>d?Y(e,o,i,!0,!1,p):N(t,r,a,o,i,l,s,u,p)},z=(e,t,r,a,o,i,l,s,u)=>{let c=0;const d=t.length;let p=e.length-1,f=d-1;for(;c<=p&&c<=f;){const n=e[c],a=t[c]=u?ha(t[c]):ga(t[c]);if(!oa(n,a))break;y(n,a,r,null,o,i,l,s,u),c++}for(;c<=p&&c<=f;){const n=e[p],a=t[f]=u?ha(t[f]):ga(t[f]);if(!oa(n,a))break;y(n,a,r,null,o,i,l,s,u),p--,f--}if(c>p){if(c<=f){const e=f+1,n=e<d?t[e].el:a;for(;c<=f;)y(null,t[c]=u?ha(t[c]):ga(t[c]),r,n,o,i,l,s,u),c++}}else if(c>f)for(;c<=p;)K(e[c],o,i,!0),c++;else{const g=c,h=c,m=new Map;for(c=h;c<=f;c++){const e=t[c]=u?ha(t[c]):ga(t[c]);null!=e.key&&m.set(e.key,c)}let v,b=0;const L=f-h+1;let x=!1,w=0;const C=new Array(L);for(c=0;c<L;c++)C[c]=0;for(c=g;c<=p;c++){const n=e[c];if(b>=L){K(n,o,i,!0);continue}let a;if(null!=n.key)a=m.get(n.key);else for(v=h;v<=f;v++)if(0===C[v-h]&&oa(n,t[v])){a=v;break}void 0===a?K(n,o,i,!0):(C[a-h]=c+1,a>=w?w=a:x=!0,y(n,t[a],r,null,o,i,l,s,u),b++)}const S=x?function(e){const t=e.slice(),n=[0];let r,a,o,i,l;const s=e.length;for(r=0;r<s;r++){const s=e[r];if(0!==s){if(a=n[n.length-1],e[a]<s){t[r]=a,n.push(r);continue}for(o=0,i=n.length-1;o<i;)l=o+i>>1,e[n[l]]<s?o=l+1:i=l;s<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}o=n.length,i=n[o-1];for(;o-- >0;)n[o]=i,i=t[i];return n}(C):n;for(v=S.length-1,c=L-1;c>=0;c--){const e=h+c,n=t[e],p=t[e+1],f=e+1<d?p.el||qr(p):a;0===C[c]?y(null,n,r,f,o,i,l,s,u):x&&(v<0||c!==S[v]?W(n,r,f,2):v--)}}},W=(e,t,n,r,a=null)=>{const{el:l,type:s,transition:u,children:c,shapeFlag:d}=e;if(6&d)return void W(e.component.subTree,t,n,r);if(128&d)return void e.suspense.move(t,n,r);if(64&d)return void s.move(e,t,n,ae);if(s===zr){o(l,t,n);for(let e=0;e<c.length;e++)W(c[e],t,n,r);return void o(e.anchor,t,n)}if(s===Xr)return void C(e,t,n);if(2!==r&&1&d&&u)if(0===r)u.beforeEnter(l),o(l,t,n),Fr(()=>u.enter(l),a);else{const{leave:r,delayLeave:a,afterLeave:s}=u,c=()=>{e.ctx.isUnmounted?i(l):o(l,t,n)},d=()=>{l._isLeaving&&l[gn](!0),r(l,()=>{c(),s&&s()})};a?a(l,c,d):d()}else o(l,t,n)},K=(e,t,n,r=!1,a=!1)=>{const{type:o,props:i,ref:l,children:s,dynamicChildren:u,shapeFlag:c,patchFlag:d,dirs:p,cacheIndex:f}=e;if(-2===d&&(a=!1),null!=l&&(ve(),bn(l,null,n,e,!0),ye()),null!=f&&(t.renderCache[f]=void 0),256&c)return void t.ctx.deactivate(e);const g=1&c&&p,h=!xn(e);let m;if(h&&(m=i&&i.onVnodeBeforeUnmount)&&ya(m,t,e),6&c)Z(e.component,n,r);else{if(128&c)return void e.suspense.unmount(n,r);g&&an(e,null,t,"beforeUnmount"),64&c?e.type.remove(e,t,n,ae,r):u&&!u.hasOnce&&(o!==zr||d>0&&64&d)?Y(u,t,n,!1,!0):(o===zr&&384&d||!a&&16&c)&&Y(s,t,n),r&&X(e)}(h&&(m=i&&i.onVnodeUnmounted)||g)&&Fr(()=>{m&&ya(m,t,e),g&&an(e,null,t,"unmounted")},n)},X=e=>{const{type:t,el:n,anchor:r,transition:a}=e;if(t===zr)return void Q(n,r);if(t===Xr)return void k(e);const o=()=>{i(n),a&&!a.persisted&&a.afterLeave&&a.afterLeave()};if(1&e.shapeFlag&&a&&!a.persisted){const{leave:t,delayLeave:r}=a,i=()=>t(n,o);r?r(e.el,o,i):i()}else o()},Q=(e,t)=>{let n;for(;e!==t;)n=h(e),i(e),e=n;i(t)},Z=(e,t,n)=>{const{bum:r,scope:a,job:o,subTree:i,um:l,m:s,a:u}=e;Hr(s),Hr(u),r&&R(r),a.stop(),o&&(o.flags|=8,K(i,e,t,n)),l&&Fr(l,t),Fr(()=>{e.isUnmounted=!0},t)},Y=(e,t,n,r=!1,a=!1,o=0)=>{for(let i=o;i<e.length;i++)K(e[i],t,n,r,a)},J=e=>{if(6&e.shapeFlag)return J(e.component.subTree);if(128&e.shapeFlag)return e.suspense.next();const t=h(e.anchor||e.el),n=t&&t[fn];return n?h(n):t};let te=!1;const re=(e,t,n)=>{let r;null==e?t._vnode&&(K(t._vnode,null,null,!0),r=t._vnode.component):y(t._vnode||null,e,t,null,null,null,n),t._vnode=e,te||(te=!0,Xt(r),Qt(),te=!1)},ae={p:y,um:K,m:W,r:X,mt:V,mc:N,pc:q,pbc:A,n:J,o:e};let oe,ie;a&&([oe,ie]=a(ae));return{render:re,hydrate:oe,createApp:fr(re,oe)}}(e)}function Ur({type:e,props:t},n){return"svg"===n&&"foreignObject"===e||"mathml"===n&&"annotation-xml"===e&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Vr({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function $r(e,t,n=!1){const r=e.children,a=t.children;if(d(r)&&d(a))for(let t=0;t<r.length;t++){const o=r[t];let i=a[t];1&i.shapeFlag&&!i.dynamicChildren&&((i.patchFlag<=0||32===i.patchFlag)&&(i=a[t]=ha(a[t]),i.el=o.el),n||-2===i.patchFlag||$r(o,i)),i.type===Wr&&(-1!==i.patchFlag?i.el=o.el:i.__elIndex=t+(e.type===zr?1:0)),i.type!==Kr||i.el||(i.el=o.el)}}function Gr(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Gr(t)}function Hr(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function qr(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?qr(t.subTree):null}const jr=e=>e.__isSuspense;const zr=Symbol.for("v-fgt"),Wr=Symbol.for("v-txt"),Kr=Symbol.for("v-cmt"),Xr=Symbol.for("v-stc"),Qr=[];let Zr=null;function Yr(e=!1){Qr.push(Zr=e?null:[])}let Jr=1;function ea(e,t=!1){Jr+=e,e<0&&Zr&&t&&(Zr.hasOnce=!0)}function ta(e){return e.dynamicChildren=Jr>0?Zr||n:null,Qr.pop(),Zr=Qr[Qr.length-1]||null,Jr>0&&Zr&&Zr.push(e),e}function na(e,t,n,r,a,o){return ta(sa(e,t,n,r,a,o,!0))}function ra(e,t,n,r,a){return ta(ua(e,t,n,r,a,!0))}function aa(e){return!!e&&!0===e.__v_isVNode}function oa(e,t){return e.type===t.type&&e.key===t.key}const ia=({key:e})=>null!=e?e:null,la=({ref:e,ref_key:t,ref_for:n})=>("number"==typeof e&&(e=""+e),null!=e?m(e)||Lt(e)||h(e)?{i:Jt,r:e,k:t,f:!!n}:e:null);function sa(e,t=null,n=null,r=0,a=null,o=(e===zr?0:1),i=!1,l=!1){const s={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ia(t),ref:t&&la(t),scopeId:en,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:Jt};return l?(ma(s,n),128&o&&e.normalize(s)):n&&(s.shapeFlag|=m(n)?8:16),Jr>0&&!i&&Zr&&(s.patchFlag>0||6&o)&&32!==s.patchFlag&&Zr.push(s),s}const ua=function(e,t=null,n=null,r=0,a=null,o=!1){e&&e!==$n||(e=Kr);if(aa(e)){const r=ca(e,t,!0);return n&&ma(r,n),Jr>0&&!o&&Zr&&(6&r.shapeFlag?Zr[Zr.indexOf(e)]=r:Zr.push(r)),r.patchFlag=-2,r}i=e,h(i)&&"__vccOpts"in i&&(e=e.__vccOpts);var i;if(t){t=function(e){return e?ht(e)||kr(e)?l({},e):e:null}(t);let{class:e,style:n}=t;e&&!m(e)&&(t.class=H(e)),y(n)&&(ht(n)&&!d(n)&&(n=l({},n)),t.style=B(n))}const s=m(e)?1:jr(e)?128:(e=>e.__isTeleport)(e)?64:y(e)?4:h(e)?2:0;return sa(e,t,n,r,a,s,o,!0)};function ca(e,t,n=!1,r=!1){const{props:a,ref:o,patchFlag:i,children:l,transition:s}=e,u=t?va(a||{},t):a,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&ia(u),ref:t&&t.ref?n&&o?d(o)?o.concat(la(t)):[o,la(t)]:la(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==zr?-1===i?16:16|i:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:s,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ca(e.ssContent),ssFallback:e.ssFallback&&ca(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return s&&r&&hn(c,s.clone(c)),c}function da(e=" ",t=0){return ua(Wr,null,e,t)}function pa(e,t){const n=ua(Xr,null,e);return n.staticCount=t,n}function fa(e="",t=!1){return t?(Yr(),ra(Kr,null,e)):ua(Kr,null,e)}function ga(e){return null==e||"boolean"==typeof e?ua(Kr):d(e)?ua(zr,null,e.slice()):aa(e)?ha(e):ua(Wr,null,String(e))}function ha(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:ca(e)}function ma(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if(d(t))n=16;else if("object"==typeof t){if(65&r){const n=t.default;return void(n&&(n._c&&(n._d=!1),ma(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||kr(t)?3===r&&Jt&&(1===Jt.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=Jt}}else h(t)?(t={default:t,_ctx:Jt},n=32):(t=String(t),64&r?(n=16,t=[da(t)]):n=8);e.children=t,e.shapeFlag|=n}function va(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const e in r)if("class"===e)t.class!==r.class&&(t.class=H([t.class,r.class]));else if("style"===e)t.style=B([t.style,r.style]);else if(o(e)){const n=t[e],a=r[e];!a||n===a||d(n)&&n.includes(a)||(t[e]=n?[].concat(n,a):a)}else""!==e&&(t[e]=r[e])}return t}function ya(e,t,n,r=null){Ft(e,t,7,[n,r])}const ba=dr();let La=0;let xa=null;const wa=()=>xa||Jt;let Ca,Sa;{const e=F(),t=(t,n)=>{let r;return(r=e[t])||(r=e[t]=[]),r.push(n),e=>{r.length>1?r.forEach(t=>t(e)):r[0](e)}};Ca=t("__VUE_INSTANCE_SETTERS__",e=>xa=e),Sa=t("__VUE_SSR_SETTERS__",e=>_a=e)}const ka=e=>{const t=xa;return Ca(e),e.scope.on(),()=>{e.scope.off(),Ca(t)}},Ia=()=>{xa&&xa.scope.off(),Ca(null)};function Ea(e){return 4&e.vnode.shapeFlag}let Ma,_a=!1;function Ta(e,t,n){h(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:y(t)&&(e.setupState=It(t)),Na(e,n)}function Na(e,t,n){const a=e.type;if(!e.render){if(!t&&Ma&&!a.render){const t=a.template||rr(e).template;if(t){const{isCustomElement:n,compilerOptions:r}=e.appContext.config,{delimiters:o,compilerOptions:i}=a,s=l(l({isCustomElement:n,delimiters:o},r),i);a.render=Ma(t,s)}}e.render=a.render||r}{const t=ka(e);ve();try{er(e)}finally{ye(),t()}}}const Da={get:(e,t)=>(Me(e,0,""),e[t])};function Ra(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(It(vt(e.exposed)),{get:(t,n)=>n in t?t[n]:n in Xn?Xn[n](e):void 0,has:(e,t)=>t in e||t in Xn})):e.proxy}function Pa(e,t=!0){return h(e)?e.displayName||e.name:e.name||t&&e.__name}const Aa=(e,t)=>{const n=function(e,t,n=!1){let r,a;return h(e)?r=e:(r=e.get,a=e.set),new Tt(r,a,n)}(e,0,_a);return n};function Oa(e,t,n){try{ea(-1);const r=arguments.length;return 2===r?y(t)&&!d(t)?aa(t)?ua(e,null,[t]):ua(e,t):ua(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&aa(n)&&(n=[n]),ua(e,t,n))}finally{ea(1)}}const Fa="3.5.26";
/**
* @vue/runtime-dom v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ba;const Ua="undefined"!=typeof window&&window.trustedTypes;if(Ua)try{Ba=Ua.createPolicy("vue",{createHTML:e=>e})}catch(e){}const Va=Ba?e=>Ba.createHTML(e):e=>e,$a="undefined"!=typeof document?document:null,Ga=$a&&$a.createElement("template"),Ha={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const a="svg"===t?$a.createElementNS("http://www.w3.org/2000/svg",e):"mathml"===t?$a.createElementNS("http://www.w3.org/1998/Math/MathML",e):n?$a.createElement(e,{is:n}):$a.createElement(e);return"select"===e&&r&&null!=r.multiple&&a.setAttribute("multiple",r.multiple),a},createText:e=>$a.createTextNode(e),createComment:e=>$a.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>$a.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,a,o){const i=n?n.previousSibling:t.lastChild;if(a&&(a===o||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),a!==o&&(a=a.nextSibling););else{Ga.innerHTML=Va("svg"===r?`<svg>${e}</svg>`:"mathml"===r?`<math>${e}</math>`:e);const a=Ga.content;if("svg"===r||"mathml"===r){const e=a.firstChild;for(;e.firstChild;)a.appendChild(e.firstChild);a.removeChild(e)}t.insertBefore(a,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},qa=Symbol("_vtc");const ja=Symbol("_vod"),za=Symbol("_vsh"),Wa={name:"show",beforeMount(e,{value:t},{transition:n}){e[ja]="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):Ka(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Ka(e,!0),r.enter(e)):r.leave(e,()=>{Ka(e,!1)}):Ka(e,t))},beforeUnmount(e,{value:t}){Ka(e,t)}};function Ka(e,t){e.style.display=t?e[ja]:"none",e[za]=!t}const Xa=Symbol(""),Qa=/(?:^|;)\s*display\s*:/;const Za=/\s*!important$/;function Ya(e,t,n){if(d(n))n.forEach(n=>Ya(e,t,n));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=function(e,t){const n=eo[t];if(n)return n;let r=E(t);if("filter"!==r&&r in e)return eo[t]=r;r=T(r);for(let n=0;n<Ja.length;n++){const a=Ja[n]+r;if(a in e)return eo[t]=a}return t}(e,t);Za.test(n)?e.setProperty(_(r),n.replace(Za,""),"important"):e[r]=n}}const Ja=["Webkit","Moz","ms"],eo={};const to="http://www.w3.org/1999/xlink";function no(e,t,n,r,a,o=q(t)){r&&t.startsWith("xlink:")?null==n?e.removeAttributeNS(to,t.slice(6,t.length)):e.setAttributeNS(to,t,n):null==n||o&&!j(n)?e.removeAttribute(t):e.setAttribute(t,o?"":v(n)?String(n):n)}function ro(e,t,n,r,a){if("innerHTML"===t||"textContent"===t)return void(null!=n&&(e[t]="innerHTML"===t?Va(n):n));const o=e.tagName;if("value"===t&&"PROGRESS"!==o&&!o.includes("-")){const r="OPTION"===o?e.getAttribute("value")||"":e.value,a=null==n?"checkbox"===e.type?"on":"":String(n);return r===a&&"_value"in e||(e.value=a),null==n&&e.removeAttribute(t),void(e._value=n)}let i=!1;if(""===n||null==n){const r=typeof e[t];"boolean"===r?n=j(n):null==n&&"string"===r?(n="",i=!0):"number"===r&&(n=0,i=!0)}try{e[t]=n}catch(e){}i&&e.removeAttribute(a||t)}function ao(e,t,n,r){e.addEventListener(t,n,r)}const oo=Symbol("_vei");function io(e,t,n,r,a=null){const o=e[oo]||(e[oo]={}),i=o[t];if(r&&i)i.value=r;else{const[n,l]=function(e){let t;if(lo.test(e)){let n;for(t={};n=e.match(lo);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}const n=":"===e[2]?e.slice(3):_(e.slice(2));return[n,t]}(t);if(r){const i=o[t]=function(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();Ft(function(e,t){if(d(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(e=>t=>!t._stopped&&e&&e(t))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=co(),n}(r,a);ao(e,n,i,l)}else i&&(!function(e,t,n,r){e.removeEventListener(t,n,r)}(e,n,i,l),o[t]=void 0)}}const lo=/(?:Once|Passive|Capture)$/;let so=0;const uo=Promise.resolve(),co=()=>so||(uo.then(()=>so=0),so=Date.now());const po=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123;const fo=e=>{const t=e.props["onUpdate:modelValue"]||!1;return d(t)?e=>R(t,e):t};function go(e){e.target.composing=!0}function ho(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const mo=Symbol("_assign");function vo(e,t,n){return t&&(e=e.trim()),n&&(e=A(e)),e}const yo={created(e,{modifiers:{lazy:t,trim:n,number:r}},a){e[mo]=fo(a);const o=r||a.props&&"number"===a.props.type;ao(e,t?"change":"input",t=>{t.target.composing||e[mo](vo(e.value,n,o))}),(n||o)&&ao(e,"change",()=>{e.value=vo(e.value,n,o)}),t||(ao(e,"compositionstart",go),ao(e,"compositionend",ho),ao(e,"change",ho))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:a,number:o}},i){if(e[mo]=fo(i),e.composing)return;const l=null==t?"":t;if((!o&&"number"!==e.type||/^0\d/.test(e.value)?e.value:A(e.value))!==l){if(document.activeElement===e&&"range"!==e.type){if(r&&t===n)return;if(a&&e.value.trim()===l)return}e.value=l}}},bo={deep:!0,created(e,t,n){e[mo]=fo(n),ao(e,"change",()=>{const t=e._modelValue,n=Co(e),r=e.checked,a=e[mo];if(d(t)){const e=W(t,n),o=-1!==e;if(r&&!o)a(t.concat(n));else if(!r&&o){const n=[...t];n.splice(e,1),a(n)}}else if(f(t)){const e=new Set(t);r?e.add(n):e.delete(n),a(e)}else a(So(e,r))})},mounted:Lo,beforeUpdate(e,t,n){e[mo]=fo(n),Lo(e,t,n)}};function Lo(e,{value:t,oldValue:n},r){let a;if(e._modelValue=t,d(t))a=W(t,r.props.value)>-1;else if(f(t))a=t.has(r.props.value);else{if(t===n)return;a=z(t,So(e,!0))}e.checked!==a&&(e.checked=a)}const xo={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const a=f(t);ao(e,"change",()=>{const t=Array.prototype.filter.call(e.options,e=>e.selected).map(e=>n?A(Co(e)):Co(e));e[mo](e.multiple?a?new Set(t):t:t[0]),e._assigning=!0,zt(()=>{e._assigning=!1})}),e[mo]=fo(r)},mounted(e,{value:t}){wo(e,t)},beforeUpdate(e,t,n){e[mo]=fo(n)},updated(e,{value:t}){e._assigning||wo(e,t)}};function wo(e,t){const n=e.multiple,r=d(t);if(!n||r||f(t)){for(let a=0,o=e.options.length;a<o;a++){const o=e.options[a],i=Co(o);if(n)if(r){const e=typeof i;o.selected="string"===e||"number"===e?t.some(e=>String(e)===String(i)):W(t,i)>-1}else o.selected=t.has(i);else if(z(Co(o),t))return void(e.selectedIndex!==a&&(e.selectedIndex=a))}n||-1===e.selectedIndex||(e.selectedIndex=-1)}}function Co(e){return"_value"in e?e._value:e.value}function So(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const ko=["ctrl","shift","alt","meta"],Io={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>ko.some(n=>e[`${n}Key`]&&!t.includes(n))},Eo=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(n,...r)=>{for(let e=0;e<t.length;e++){const r=Io[t[e]];if(r&&r(n,t))return}return e(n,...r)})},Mo=l({patchProp:(e,t,n,r,a,l)=>{const s="svg"===a;"class"===t?function(e,t,n){const r=e[qa];r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,r,s):"style"===t?function(e,t,n){const r=e.style,a=m(n);let o=!1;if(n&&!a){if(t)if(m(t))for(const e of t.split(";")){const t=e.slice(0,e.indexOf(":")).trim();null==n[t]&&Ya(r,t,"")}else for(const e in t)null==n[e]&&Ya(r,e,"");for(const e in n)"display"===e&&(o=!0),Ya(r,e,n[e])}else if(a){if(t!==n){const e=r[Xa];e&&(n+=";"+e),r.cssText=n,o=Qa.test(n)}}else t&&e.removeAttribute("style");ja in e&&(e[ja]=o?r.display:"",e[za]&&(r.display="none"))}(e,n,r):o(t)?i(t)||io(e,t,0,r,l):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,n,r){if(r)return"innerHTML"===t||"textContent"===t||!!(t in e&&po(t)&&h(n));if("spellcheck"===t||"draggable"===t||"translate"===t||"autocorrect"===t)return!1;if("sandbox"===t&&"IFRAME"===e.tagName)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if("width"===t||"height"===t){const t=e.tagName;if("IMG"===t||"VIDEO"===t||"CANVAS"===t||"SOURCE"===t)return!1}if(po(t)&&m(n))return!1;return t in e}(e,t,r,s))?(ro(e,t,r),e.tagName.includes("-")||"value"!==t&&"checked"!==t&&"selected"!==t||no(e,t,r,s,0,"value"!==t)):!e._isVueCE||!/[A-Z]/.test(t)&&m(r)?("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),no(e,t,r,s)):ro(e,E(t),r,0,t)}},Ha);let _o;
/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */
const To="undefined"!=typeof document;function No(e){return"object"==typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}const Do=Object.assign;function Ro(e,t){const n={};for(const r in t){const a=t[r];n[r]=Ao(a)?a.map(e):e(a)}return n}const Po=()=>{},Ao=Array.isArray;function Oo(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}const Fo=/#/g,Bo=/&/g,Uo=/\//g,Vo=/=/g,$o=/\?/g,Go=/\+/g,Ho=/%5B/g,qo=/%5D/g,jo=/%5E/g,zo=/%60/g,Wo=/%7B/g,Ko=/%7C/g,Xo=/%7D/g,Qo=/%20/g;function Zo(e){return null==e?"":encodeURI(""+e).replace(Ko,"|").replace(Ho,"[").replace(qo,"]")}function Yo(e){return Zo(e).replace(Go,"%2B").replace(Qo,"+").replace(Fo,"%23").replace(Bo,"%26").replace(zo,"`").replace(Wo,"{").replace(Xo,"}").replace(jo,"^")}function Jo(e){return Yo(e).replace(Vo,"%3D")}function ei(e){return function(e){return Zo(e).replace(Fo,"%23").replace($o,"%3F")}(e).replace(Uo,"%2F")}function ti(e){if(null==e)return null;try{return decodeURIComponent(""+e)}catch(e){}return""+e}const ni=/\/$/;function ri(e,t,n="/"){let r,a={},o="",i="";const l=t.indexOf("#");let s=t.indexOf("?");return s=l>=0&&s>l?-1:s,s>=0&&(r=t.slice(0,s),o=t.slice(s,l>0?l:t.length),a=e(o.slice(1))),l>=0&&(r=r||t.slice(0,l),i=t.slice(l,t.length)),r=function(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),a=r[r.length-1];".."!==a&&"."!==a||r.push("");let o,i,l=n.length-1;for(o=0;o<r.length;o++)if(i=r[o],"."!==i){if(".."!==i)break;l>1&&l--}return n.slice(0,l).join("/")+"/"+r.slice(o).join("/")}(null!=r?r:t,n),{fullPath:r+o+i,path:r,query:a,hash:ti(i)}}function ai(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function oi(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function ii(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!li(e[n],t[n]))return!1;return!0}function li(e,t){return Ao(e)?si(e,t):Ao(t)?si(t,e):e?.valueOf()===t?.valueOf()}function si(e,t){return Ao(t)?e.length===t.length&&e.every((e,n)=>e===t[n]):1===e.length&&e[0]===t}const ui={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let ci=function(e){return e.pop="pop",e.push="push",e}({}),di=function(e){return e.back="back",e.forward="forward",e.unknown="",e}({});function pi(e){if(!e)if(To){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),e.replace(ni,"")}const fi=/^[^#]+#/;function gi(e,t){return e.replace(fi,"#")+t}const hi=()=>({left:window.scrollX,top:window.scrollY});function mi(e){let t;if("el"in e){const n=e.el,r="string"==typeof n&&n.startsWith("#"),a="string"==typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!a)return;t=function(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.scrollX,null!=t.top?t.top:window.scrollY)}function vi(e,t){return(history.state?history.state.position-t:-1)+e}const yi=new Map;function bi(e){return"string"==typeof e||"symbol"==typeof e}let Li=function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e}({});const xi=Symbol("");function wi(e,t){return Do(new Error,{type:e,[xi]:!0},t)}function Ci(e,t){return e instanceof Error&&xi in e&&(null==t||!!(e.type&t))}Li.MATCHER_NOT_FOUND,Li.NAVIGATION_GUARD_REDIRECT,Li.NAVIGATION_ABORTED,Li.NAVIGATION_CANCELLED,Li.NAVIGATION_DUPLICATED;function Si(e){const t={};if(""===e||"?"===e)return t;const n=("?"===e[0]?e.slice(1):e).split("&");for(let e=0;e<n.length;++e){const r=n[e].replace(Go," "),a=r.indexOf("="),o=ti(a<0?r:r.slice(0,a)),i=a<0?null:ti(r.slice(a+1));if(o in t){let e=t[o];Ao(e)||(e=t[o]=[e]),e.push(i)}else t[o]=i}return t}function ki(e){let t="";for(let n in e){const r=e[n];n=Jo(n),null!=r?(Ao(r)?r.map(e=>e&&Yo(e)):[r&&Yo(r)]).forEach(e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))}):void 0!==r&&(t+=(t.length?"&":"")+n)}return t}function Ii(e){const t={};for(const n in e){const r=e[n];void 0!==r&&(t[n]=Ao(r)?r.map(e=>null==e?null:""+e):null==r?r:""+r)}return t}const Ei=Symbol(""),Mi=Symbol(""),_i=Symbol(""),Ti=Symbol(""),Ni=Symbol("");function Di(){let e=[];return{add:function(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}},list:()=>e.slice(),reset:function(){e=[]}}}function Ri(e,t,n,r,a,o=e=>e()){const i=r&&(r.enterCallbacks[a]=r.enterCallbacks[a]||[]);return()=>new Promise((l,s)=>{const u=e=>{var o;!1===e?s(wi(Li.NAVIGATION_ABORTED,{from:n,to:t})):e instanceof Error?s(e):"string"==typeof(o=e)||o&&"object"==typeof o?s(wi(Li.NAVIGATION_GUARD_REDIRECT,{from:t,to:e})):(i&&r.enterCallbacks[a]===i&&"function"==typeof e&&i.push(e),l())},c=o(()=>e.call(r&&r.instances[a],t,n,u));let d=Promise.resolve(c);e.length<3&&(d=d.then(u)),d.catch(e=>s(e))})}function Pi(e,t,n,r,a=e=>e()){const o=[];for(const i of e)for(const e in i.components){let l=i.components[e];if("beforeRouteEnter"===t||i.instances[e])if(No(l)){const s=(l.__vccOpts||l)[t];s&&o.push(Ri(s,n,r,i,e,a))}else{let s=l();o.push(()=>s.then(o=>{if(!o)throw new Error(`Couldn't resolve component "${e}" at "${i.path}"`);const l=(s=o).__esModule||"Module"===s[Symbol.toStringTag]||s.default&&No(s.default)?o.default:o;var s;i.mods[e]=o,i.components[e]=l;const u=(l.__vccOpts||l)[t];return u&&Ri(u,n,r,i,e,a)()}))}}return o}function Ai(e,t){const{pathname:n,search:r,hash:a}=t,o=e.indexOf("#");if(o>-1){let t=a.includes(e.slice(o))?e.slice(o).length:1,n=a.slice(t);return"/"!==n[0]&&(n="/"+n),ai(n,"")}return ai(n,e)+r+a}function Oi(e,t,n,r=!1,a=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:a?hi():null}}function Fi(e){const{history:t,location:n}=window,r={value:Ai(e,n)},a={value:t.state};function o(r,o,i){const l=e.indexOf("#"),s=l>-1?(n.host&&document.querySelector("base")?e:e.slice(l))+r:location.protocol+"//"+location.host+e+r;try{t[i?"replaceState":"pushState"](o,"",s),a.value=o}catch(e){console.error(e),n[i?"replace":"assign"](s)}}return a.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:r,state:a,push:function(e,n){const i=Do({},a.value,t.state,{forward:e,scroll:hi()});o(i.current,i,!0),o(e,Do({},Oi(r.value,e,null),{position:i.position+1},n),!1),r.value=e},replace:function(e,n){o(e,Do({},t.state,Oi(a.value.back,e,a.value.forward,!0),n,{position:a.value.position}),!0),r.value=e}}}function Bi(e){const t=Fi(e=pi(e)),n=function(e,t,n,r){let a=[],o=[],i=null;const l=({state:o})=>{const l=Ai(e,location),s=n.value,u=t.value;let c=0;if(o){if(n.value=l,t.value=o,i&&i===s)return void(i=null);c=u?o.position-u.position:0}else r(l);a.forEach(e=>{e(n.value,s,{delta:c,type:ci.pop,direction:c?c>0?di.forward:di.back:di.unknown})})};function s(){if("hidden"===document.visibilityState){const{history:e}=window;if(!e.state)return;e.replaceState(Do({},e.state,{scroll:hi()}),"")}}return window.addEventListener("popstate",l),window.addEventListener("pagehide",s),document.addEventListener("visibilitychange",s),{pauseListeners:function(){i=n.value},listen:function(e){a.push(e);const t=()=>{const t=a.indexOf(e);t>-1&&a.splice(t,1)};return o.push(t),t},destroy:function(){for(const e of o)e();o=[],window.removeEventListener("popstate",l),window.removeEventListener("pagehide",s),document.removeEventListener("visibilitychange",s)}}}(e,t.state,t.location,t.replace);const r=Do({location:"",base:e,go:function(e,t=!0){t||n.pauseListeners(),history.go(e)},createHref:gi.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}let Ui=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e}({});var Vi=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e}(Vi||{});const $i={type:Ui.Static,value:""},Gi=/[a-zA-Z0-9_]/;const Hi="[^/]+?",qi={sensitive:!1,strict:!1,start:!0,end:!0};var ji=function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e}(ji||{});const zi=/[.+*?^${}()[\]/\\]/g;function Wi(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&e[0]===ji.Static+ji.Segment?-1:1:e.length>t.length?1===t.length&&t[0]===ji.Static+ji.Segment?1:-1:0}function Ki(e,t){let n=0;const r=e.score,a=t.score;for(;n<r.length&&n<a.length;){const e=Wi(r[n],a[n]);if(e)return e;n++}if(1===Math.abs(a.length-r.length)){if(Xi(r))return 1;if(Xi(a))return-1}return a.length-r.length}function Xi(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Qi={strict:!1,end:!0,sensitive:!1};function Zi(e,t,n){const r=function(e,t){const n=Do({},qi,t),r=[];let a=n.start?"^":"";const o=[];for(const t of e){const e=t.length?[]:[ji.Root];n.strict&&!t.length&&(a+="/");for(let r=0;r<t.length;r++){const i=t[r];let l=ji.Segment+(n.sensitive?ji.BonusCaseSensitive:0);if(i.type===Ui.Static)r||(a+="/"),a+=i.value.replace(zi,"\\$&"),l+=ji.Static;else if(i.type===Ui.Param){const{value:e,repeatable:n,optional:s,regexp:u}=i;o.push({name:e,repeatable:n,optional:s});const c=u||Hi;c!==Hi&&(l+=ji.BonusCustomRegExp);let d=n?`((?:${c})(?:/(?:${c}))*)`:`(${c})`;r||(d=s&&t.length<2?`(?:/${d})`:"/"+d),s&&(d+="?"),a+=d,l+=ji.Dynamic,s&&(l+=ji.BonusOptional),n&&(l+=ji.BonusRepeatable),".*"===c&&(l+=ji.BonusWildcard)}e.push(l)}r.push(e)}if(n.strict&&n.end){const e=r.length-1;r[e][r[e].length-1]+=ji.BonusStrict}n.strict||(a+="/?"),n.end?a+="$":n.strict&&!a.endsWith("/")&&(a+="(?:/|$)");const i=new RegExp(a,n.sensitive?"":"i");return{re:i,score:r,keys:o,parse:function(e){const t=e.match(i),n={};if(!t)return null;for(let e=1;e<t.length;e++){const r=t[e]||"",a=o[e-1];n[a.name]=r&&a.repeatable?r.split("/"):r}return n},stringify:function(t){let n="",r=!1;for(const a of e){r&&n.endsWith("/")||(n+="/"),r=!1;for(const e of a)if(e.type===Ui.Static)n+=e.value;else if(e.type===Ui.Param){const{value:o,repeatable:i,optional:l}=e,s=o in t?t[o]:"";if(Ao(s)&&!i)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const u=Ao(s)?s.join("/"):s;if(!u){if(!l)throw new Error(`Missing required param "${o}"`);a.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=u}}return n||"/"}}}(function(e){if(!e)return[[]];if("/"===e)return[[$i]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${u}": ${e}`)}let n=Vi.Static,r=n;const a=[];let o;function i(){o&&a.push(o),o=[]}let l,s=0,u="",c="";function d(){u&&(n===Vi.Static?o.push({type:Ui.Static,value:u}):n===Vi.Param||n===Vi.ParamRegExp||n===Vi.ParamRegExpEnd?(o.length>1&&("*"===l||"+"===l)&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:Ui.Param,value:u,regexp:c,repeatable:"*"===l||"+"===l,optional:"*"===l||"?"===l})):t("Invalid state to consume buffer"),u="")}function p(){u+=l}for(;s<e.length;)if(l=e[s++],"\\"!==l||n===Vi.ParamRegExp)switch(n){case Vi.Static:"/"===l?(u&&d(),i()):":"===l?(d(),n=Vi.Param):p();break;case Vi.EscapeNext:p(),n=r;break;case Vi.Param:"("===l?n=Vi.ParamRegExp:Gi.test(l)?p():(d(),n=Vi.Static,"*"!==l&&"?"!==l&&"+"!==l&&s--);break;case Vi.ParamRegExp:")"===l?"\\"==c[c.length-1]?c=c.slice(0,-1)+l:n=Vi.ParamRegExpEnd:c+=l;break;case Vi.ParamRegExpEnd:d(),n=Vi.Static,"*"!==l&&"?"!==l&&"+"!==l&&s--,c="";break;default:t("Unknown state")}else r=n,n=Vi.EscapeNext;return n===Vi.ParamRegExp&&t(`Unfinished custom RegExp for param "${u}"`),d(),i(),a}(e.path),n),a=Do(r,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function Yi(e,t){const n=[],r=new Map;function a(e,n,r){const l=!r,s=el(e);s.aliasOf=r&&r.record;const u=Oo(t,e),c=[s];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)c.push(el(Do({},s,{components:r?r.record.components:s.components,path:e,aliasOf:r?r.record:s})))}let d,p;for(const t of c){const{path:c}=t;if(n&&"/"!==c[0]){const e=n.record.path,r="/"===e[e.length-1]?"":"/";t.path=n.record.path+(c&&r+c)}if(d=Zi(t,n,u),r?r.alias.push(d):(p=p||d,p!==d&&p.alias.push(d),l&&e.name&&!nl(d)&&o(e.name)),al(d)&&i(d),s.children){const e=s.children;for(let t=0;t<e.length;t++)a(e[t],d,r&&r.children[t])}r=r||d}return p?()=>{o(p)}:Po}function o(e){if(bi(e)){const t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(o),t.alias.forEach(o))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(o),e.alias.forEach(o))}}function i(e){const t=function(e,t){let n=0,r=t.length;for(;n!==r;){const a=n+r>>1;Ki(e,t[a])<0?r=a:n=a+1}const a=function(e){let t=e;for(;t=t.parent;)if(al(t)&&0===Ki(e,t))return t}(e);a&&(r=t.lastIndexOf(a,r-1));return r}(e,n);n.splice(t,0,e),e.record.name&&!nl(e)&&r.set(e.record.name,e)}return t=Oo(Qi,t),e.forEach(e=>a(e)),{addRoute:a,resolve:function(e,t){let a,o,i,l={};if("name"in e&&e.name){if(a=r.get(e.name),!a)throw wi(Li.MATCHER_NOT_FOUND,{location:e});i=a.record.name,l=Do(Ji(t.params,a.keys.filter(e=>!e.optional).concat(a.parent?a.parent.keys.filter(e=>e.optional):[]).map(e=>e.name)),e.params&&Ji(e.params,a.keys.map(e=>e.name))),o=a.stringify(l)}else if(null!=e.path)o=e.path,a=n.find(e=>e.re.test(o)),a&&(l=a.parse(o),i=a.record.name);else{if(a=t.name?r.get(t.name):n.find(e=>e.re.test(t.path)),!a)throw wi(Li.MATCHER_NOT_FOUND,{location:e,currentLocation:t});i=a.record.name,l=Do({},t.params,e.params),o=a.stringify(l)}const s=[];let u=a;for(;u;)s.unshift(u.record),u=u.parent;return{name:i,path:o,params:l,matched:s,meta:rl(s)}},removeRoute:o,clearRoutes:function(){n.length=0,r.clear()},getRoutes:function(){return n},getRecordMatcher:function(e){return r.get(e)}}}function Ji(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function el(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:tl(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function tl(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]="object"==typeof n?n[r]:n;return t}function nl(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function rl(e){return e.reduce((e,t)=>Do(e,t.meta),{})}function al({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function ol(e){const t=ln(_i),n=ln(Ti),r=Aa(()=>{const n=St(e.to);return t.resolve(n)}),a=Aa(()=>{const{matched:e}=r.value,{length:t}=e,a=e[t-1],o=n.matched;if(!a||!o.length)return-1;const i=o.findIndex(oi.bind(null,a));if(i>-1)return i;const l=ll(e[t-2]);return t>1&&ll(a)===l&&o[o.length-1].path!==l?o.findIndex(oi.bind(null,e[t-2])):i}),o=Aa(()=>a.value>-1&&function(e,t){for(const n in t){const r=t[n],a=e[n];if("string"==typeof r){if(r!==a)return!1}else if(!Ao(a)||a.length!==r.length||r.some((e,t)=>e.valueOf()!==a[t].valueOf()))return!1}return!0}(n.params,r.value.params)),i=Aa(()=>a.value>-1&&a.value===n.matched.length-1&&ii(n.params,r.value.params));return{route:r,href:Aa(()=>r.value.href),isActive:o,isExactActive:i,navigate:function(n={}){if(function(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return;if(e.defaultPrevented)return;if(void 0!==e.button&&0!==e.button)return;if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}e.preventDefault&&e.preventDefault();return!0}(n)){const n=t[St(e.replace)?"replace":"push"](St(e.to)).catch(Po);return e.viewTransition&&"undefined"!=typeof document&&"startViewTransition"in document&&document.startViewTransition(()=>n),n}return Promise.resolve()}}}const il=mn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:ol,setup(e,{slots:t}){const n=st(ol(e)),{options:r}=ln(_i),a=Aa(()=>({[sl(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[sl(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=t.default&&(1===(o=t.default(n)).length?o[0]:o);var o;return e.custom?r:Oa("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},r)}}});function ll(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const sl=(e,t,n)=>null!=e?e:null!=t?t:n;function ul(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const cl=mn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=ln(Ni),a=Aa(()=>e.route||r.value),o=ln(Mi,0),i=Aa(()=>{let e=St(o);const{matched:t}=a.value;let n;for(;(n=t[e])&&!n.components;)e++;return e}),l=Aa(()=>a.value.matched[i.value]);on(Mi,Aa(()=>i.value+1)),on(Ei,l),on(Ni,a);const s=xt();return un(()=>[s.value,l.value,e.name],([e,t,n],[r,a,o])=>{t&&(t.instances[n]=e,a&&a!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=a.leaveGuards),t.updateGuards.size||(t.updateGuards=a.updateGuards))),!e||!t||a&&oi(t,a)&&r||(t.enterCallbacks[n]||[]).forEach(t=>t(e))},{flush:"post"}),()=>{const r=a.value,o=e.name,i=l.value,u=i&&i.components[o];if(!u)return ul(n.default,{Component:u,route:r});const c=i.props[o],d=c?!0===c?r.params:"function"==typeof c?c(r):c:null,p=Oa(u,Do({},d,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(i.instances[o]=null)},ref:s}));return ul(n.default,{Component:p,route:r})||p}}});var dl,pl;(pl=dl||(dl={})).Select="FormSelect",pl.Toggle="FormToggle",pl.Input="FormInput";const fl=[0,83,67],gl={BASE_URL:"/midisaxo/",MODE:"production",DEV:!1,PROD:!0}?.VITE_FIRMWARE_REPO||"dolsoidduk/OpenDeck",hl=`https://api.github.com/repos/${gl}/releases`,ml=`https://github.com/${gl}`,vl="https://github.com/shanteacontrols/OpenDeck/wiki/Flashing-the-OpenDeck-firmware";var yl,bl,Ll,xl,wl,Cl,Sl,kl,Il,El,Ml,_l,Tl,Nl,Dl,Rl;(bl=yl||(yl={}))[bl.Request=0]="Request",bl[bl.Response=1]="Response",(xl=Ll||(Ll={}))[xl.Get=0]="Get",xl[xl.Set=1]="Set",xl[xl.Backup=2]="Backup",(Cl=wl||(wl={}))[Cl.Single=0]="Single",Cl[Cl.All=1]="All",(kl=Sl||(Sl={}))[kl.Global=0]="Global",kl[kl.Button=1]="Button",kl[kl.Encoder=2]="Encoder",kl[kl.Analog=3]="Analog",kl[kl.Led=4]="Led",kl[kl.Display=5]="Display",kl[kl.Touchscreen=6]="Touchscreen",(El=Il||(Il={}))[El.ControlChange7Bit=0]="ControlChange7Bit",El[El.Note=1]="Note",El[El.FSR=2]="FSR",El[El.Button=3]="Button",El[El.NRPN7bit=4]="NRPN7bit",El[El.NRPN14bit=5]="NRPN14bit",El[El.PitchBend=6]="PitchBend",El[El.ControlChange14Bit=7]="ControlChange14Bit",El[El.Reserved=8]="Reserved",(_l=Ml||(Ml={}))[_l.Note=0]="Note",_l[_l.ProgramChange=1]="ProgramChange",_l[_l.ProgramChangeInc=14]="ProgramChangeInc",_l[_l.ProgramChangeDec=15]="ProgramChangeDec",_l[_l.ControlChange=2]="ControlChange",_l[_l.ControlChangeOff=3]="ControlChangeOff",_l[_l.MmcStop=4]="MmcStop",_l[_l.MmcPlay=5]="MmcPlay",_l[_l.MmcRecord=6]="MmcRecord",_l[_l.MmcPause=7]="MmcPause",_l[_l.RealTimeClock=8]="RealTimeClock",_l[_l.RealTimeStart=9]="RealTimeStart",_l[_l.RealTimeContinue=10]="RealTimeContinue",_l[_l.RealTimeStop=11]="RealTimeStop",_l[_l.RealTimeActiveSensing=12]="RealTimeActiveSensing",_l[_l.RealTimeSystemReset=13]="RealTimeSystemReset",_l[_l.None=16]="None",_l[_l.PresetChange=17]="PresetChange",_l[_l.MultiValueIncResetNote=18]="MultiValueIncResetNote",_l[_l.MultiValueIncDecNote=19]="MultiValueIncDecNote",_l[_l.MultiValueIncResetCC=20]="MultiValueIncResetCC",_l[_l.MultiValueIncDecCC=21]="MultiValueIncDecCC",_l[_l.NoteOffOnly=22]="NoteOffOnly",_l[_l.ControlChange0Only=23]="ControlChange0Only",_l[_l.BankSelectProgramChange=24]="BankSelectProgramChange",_l[_l.ProgramChangeOffsetInc=25]="ProgramChangeOffsetInc",_l[_l.ProgramChangeOffsetDec=26]="ProgramChangeOffsetDec",_l[_l.BpmInc=27]="BpmInc",_l[_l.BpmDec=28]="BpmDec",_l[_l.MmcPlayStop=29]="MmcPlayStop",_l[_l.CustomSysEx=30]="CustomSysEx",_l[_l.SaxTransposeInc=31]="SaxTransposeInc",_l[_l.SaxTransposeDec=32]="SaxTransposeDec",_l[_l.SaxPitchBendCenterCapture=33]="SaxPitchBendCenterCapture",_l[_l.SaxFingeringKey=34]="SaxFingeringKey",(Nl=Tl||(Tl={}))[Nl.Controlchange7F=0]="Controlchange7F",Nl[Nl.Controlchange3F=1]="Controlchange3F",Nl[Nl.Controlchange41=9]="Controlchange41",Nl[Nl.ProgramChange=2]="ProgramChange",Nl[Nl.CC7bit=3]="CC7bit",Nl[Nl.PresetChange=4]="PresetChange",Nl[Nl.PitchBend=5]="PitchBend",Nl[Nl.NRPN7bit=6]="NRPN7bit",Nl[Nl.NRPN14bit=7]="NRPN14bit",Nl[Nl.CC14bit=8]="CC14bit",Nl[Nl.Bpm=10]="Bpm",Nl[Nl.SingleNoteWithVariableValue=11]="SingleNoteWithVariableValue",Nl[Nl.SingleNoteWithFixedValueBothDirections=12]="SingleNoteWithFixedValueBothDirections",Nl[Nl.SingleNoteWithFixedValueOneDirection0OtherDirection=13]="SingleNoteWithFixedValueOneDirection0OtherDirection",Nl[Nl.TwoNoteWithFixedValueBothDirections=14]="TwoNoteWithFixedValueBothDirections",(Rl=Dl||(Dl={}))[Rl.MidiInNoteSingleValue=0]="MidiInNoteSingleValue",Rl[Rl.LocalNoteSingleValue=1]="LocalNoteSingleValue",Rl[Rl.MidiInCcSingleValue=2]="MidiInCcSingleValue",Rl[Rl.LocalCcSingleValue=3]="LocalCcSingleValue",Rl[Rl.ProgramChange=4]="ProgramChange",Rl[Rl.PresetChange=5]="PresetChange",Rl[Rl.MidiInNoteMultiValue=6]="MidiInNoteMultiValue",Rl[Rl.LocalNoteMultiValue=7]="LocalNoteMultiValue",Rl[Rl.MidiInCcMultiValue=8]="MidiInCcMultiValue",Rl[Rl.LocalCcMultiValue=9]="LocalCcMultiValue",Rl[Rl.Static=10]="Static";const Pl=[16,1,15,14,8,9,10,11,12,13,4,5,6,7,17,22,23,27,28,30,33,34],Al=[16,8,9,10,11,12,13,25,26,27,28,17,30,31,32,33,34],Ol=[16,4,5,6,7,8,9,10,11,12,13,17,25,26,27,28,30,31,32,33,34],Fl=[3,8],Bl=[3,8],Ul=[],Vl=[4],$l=[5,3,8,6,7,11],Gl=[5,3,8,6,7],Hl=[5,3,8,6,7,11],ql=[12,13,14],jl=[14],zl=[5,4,10],Wl=[10],Kl=[5,10],Xl=[5];var Ql,Zl,Yl,Jl,es,ts;(Zl=Ql||(Ql={})).Setting="setting",Zl.Value="value",(Jl=Yl||(Yl={})).Predefined="predefined",Jl.Custom="custom",Jl.Configuration="configuration",(ts=es||(es={})).Pending="pending",ts.Sent="sent",ts.Error="error",ts.Done="done";const ns={},rs={};Object.values(Sl).filter(Number.isInteger).forEach(e=>{ns[e]={},rs[e]={itemsPerPage:16,currentPage:1}});const as={outputId:null,input:null,output:null,isBootloaderMode:null,connectionState:null,connectionError:null,connectionPromise:null,valueSize:null,valuesPerMessageRequest:null,boardName:null,firmwareFileName:null,firmwareVersion:null,bootLoaderSupport:!1,activePreset:null,supportedPresetsCount:null,numberOfComponents:[],unsupportedComponents:ns,isSystemOperationRunning:!1,systemOperationPercentage:null,viewSettings:rs},os=st(as);var is="object"==typeof process&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var ls={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},ss="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function us(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var cs=us(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:a}=ls,o=(t=e.exports={}).re=[],i=t.safeRe=[],l=t.src=[],s=t.safeSrc=[],u=t.t={};let c=0;const d="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",a],[d,r]],f=(e,t,n)=>{const r=(e=>{for(const[t,n]of p)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e})(t),a=c++;is(e,a,t),u[e]=a,l[a]=t,s[a]=r,o[a]=new RegExp(t,n?"g":void 0),i[a]=new RegExp(r,n?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),f("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${l[u.NONNUMERICIDENTIFIER]}|${l[u.NUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NONNUMERICIDENTIFIER]}|${l[u.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${d}+`),f("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),f("FULL",`^${l[u.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),f("LOOSE",`^${l[u.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),f("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),f("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),f("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?(?:${l[u.BUILD]})?(?:$|[^\\d])`),f("COERCERTL",l[u.COERCE],!0),f("COERCERTLFULL",l[u.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});const ds=Object.freeze({loose:!0}),ps=Object.freeze({});var fs=e=>e?"object"!=typeof e?ds:e:ps;const gs=/^[0-9]+$/,hs=(e,t)=>{if("number"==typeof e&&"number"==typeof t)return e===t?0:e<t?-1:1;const n=gs.test(e),r=gs.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1};var ms={compareIdentifiers:hs,rcompareIdentifiers:(e,t)=>hs(t,e)};const{MAX_LENGTH:vs,MAX_SAFE_INTEGER:ys}=ls,{safeRe:bs,t:Ls}=cs,{compareIdentifiers:xs}=ms;class ws{constructor(e,t){if(t=fs(t),e instanceof ws){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>vs)throw new TypeError(`version is longer than ${vs} characters`);is("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?bs[Ls.LOOSE]:bs[Ls.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>ys||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ys||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ys||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<ys)return t}return e}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(is("SemVer.compare",this.version,this.options,e),!(e instanceof ws)){if("string"==typeof e&&e===this.version)return 0;e=new ws(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof ws||(e=new ws(e,this.options)),this.major<e.major?-1:this.major>e.major?1:this.minor<e.minor?-1:this.minor>e.minor?1:this.patch<e.patch?-1:this.patch>e.patch?1:0}comparePre(e){if(e instanceof ws||(e=new ws(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],r=e.prerelease[t];if(is("prerelease compare",t,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return xs(n,r)}while(++t)}compareBuild(e){e instanceof ws||(e=new ws(e,this.options));let t=0;do{const n=this.build[t],r=e.build[t];if(is("build compare",t,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return xs(n,r)}while(++t)}inc(e,t,n){if(e.startsWith("pre")){if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(t){const e=`-${t}`.match(this.options.loose?bs[Ls.PRERELEASELOOSE]:bs[Ls.PRERELEASE]);if(!e||e[1]!==t)throw new Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"release":if(0===this.prerelease.length)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===n&&(r=[t]),0===xs(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}var Cs=ws;var Ss=(e,t,n)=>new Cs(e,n).compare(new Cs(t,n));var ks=(e,t,n)=>Ss(e,t,n)>0,Is=us(function(e,t){e.exports=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}function n(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=n(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}function o(e){var t={exports:{}};return e(t,t.exports),t.exports}var i=o(function(e){function t(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function n(t){e.exports.defaults=t}e.exports={defaults:t(),getDefaults:t,changeDefaults:n}}),l=/[&<>"']/,s=/[&<>"']/g,u=/[<>"']|&(?!#?\w+;)/,c=/[<>"']|&(?!#?\w+;)/g,d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},p=function(e){return d[e]};function f(e,t){if(t){if(l.test(e))return e.replace(s,p)}else if(u.test(e))return e.replace(c,p);return e}var g=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function h(e){return e.replace(g,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}var m=/(^|[^\[])\^/g;function v(e,t){e=e.source||e,t=t||"";var n={replace:function(t,r){return r=(r=r.source||r).replace(m,"$1"),e=e.replace(t,r),n},getRegex:function(){return new RegExp(e,t)}};return n}var y=/[^\w:]/g,b=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function L(e,t,n){if(e){var r;try{r=decodeURIComponent(h(n)).replace(y,"").toLowerCase()}catch(e){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}t&&!b.test(n)&&(n=k(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}var x={},w=/^[^:]+:\/*[^/]*$/,C=/^([^:]+:)[\s\S]*$/,S=/^([^:]+:\/*[^/]*)[\s\S]*$/;function k(e,t){x[" "+e]||(w.test(e)?x[" "+e]=e+"/":x[" "+e]=M(e,"/",!0));var n=-1===(e=x[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(C,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(S,"$1")+t:e+t}function I(e){for(var t,n,r=1;r<arguments.length;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function E(e,t){var n=e.replace(/\|/g,function(e,t,n){for(var r=!1,a=t;--a>=0&&"\\"===n[a];)r=!r;return r?"|":" |"}).split(/ \|/),r=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function M(e,t,n){var r=e.length;if(0===r)return"";for(var a=0;a<r;){var o=e.charAt(r-a-1);if(o!==t||n){if(o===t||!n)break;a++}else a++}return e.substr(0,r-a)}function _(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=e.length,r=0,a=0;a<n;a++)if("\\"===e[a])a++;else if(e[a]===t[0])r++;else if(e[a]===t[1]&&--r<0)return a;return-1}function T(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function N(e,t){if(t<1)return"";for(var n="";t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}var D={escape:f,unescape:h,edit:v,cleanUrl:L,resolveUrl:k,noopTest:{exec:function(){}},merge:I,splitCells:E,rtrim:M,findClosingBracket:_,checkSanitizeDeprecation:T,repeatString:N},R=i.defaults,P=D.rtrim,A=D.splitCells,O=D.escape,F=D.findClosingBracket;function B(e,t,n){var r=t.href,a=t.title?O(t.title):null,o=e[1].replace(/\\([\[\]])/g,"$1");return"!"!==e[0].charAt(0)?{type:"link",raw:n,href:r,title:a,text:o}:{type:"image",raw:n,href:r,title:a,text:O(o)}}function U(e,t){var n=e.match(/^(\s+)(?:```)/);if(null===n)return t;var r=n[1];return t.split("\n").map(function(e){var t=e.match(/^\s+/);return null===t?e:t[0].length>=r.length?e.slice(r.length):e}).join("\n")}var V=function(){function e(e){this.options=e||R}var t=e.prototype;return t.space=function(e){var t=this.rules.block.newline.exec(e);if(t)return t[0].length>1?{type:"space",raw:t[0]}:{raw:"\n"}},t.code=function(e,t){var n=this.rules.block.code.exec(e);if(n){var r=t[t.length-1];if(r&&"paragraph"===r.type)return{raw:n[0],text:n[0].trimRight()};var a=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?a:P(a,"\n")}}},t.fences=function(e){var t=this.rules.block.fences.exec(e);if(t){var n=t[0],r=U(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim():t[2],text:r}}},t.heading=function(e){var t=this.rules.block.heading.exec(e);if(t){var n=t[2].trim();if(/#$/.test(n)){var r=P(n,"#");this.options.pedantic?n=r.trim():r&&!/ $/.test(r)||(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n}}},t.nptable=function(e){var t=this.rules.block.nptable.exec(e);if(t){var n={type:"table",header:A(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[],raw:t[0]};if(n.header.length===n.align.length){var r,a=n.align.length;for(r=0;r<a;r++)/^ *-+: *$/.test(n.align[r])?n.align[r]="right":/^ *:-+: *$/.test(n.align[r])?n.align[r]="center":/^ *:-+ *$/.test(n.align[r])?n.align[r]="left":n.align[r]=null;for(a=n.cells.length,r=0;r<a;r++)n.cells[r]=A(n.cells[r],n.header.length);return n}}},t.hr=function(e){var t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}},t.blockquote=function(e){var t=this.rules.block.blockquote.exec(e);if(t){var n=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],text:n}}},t.list=function(e){var t=this.rules.block.list.exec(e);if(t){var n,r,a,o,i,l,s,u,c=t[0],d=t[2],p=d.length>1,f={type:"list",raw:c,ordered:p,start:p?+d.slice(0,-1):"",loose:!1,items:[]},g=t[0].match(this.rules.block.item),h=!1,m=g.length;a=this.rules.block.listItemStart.exec(g[0]);for(var v=0;v<m;v++){if(c=n=g[v],v!==m-1){if(o=this.rules.block.listItemStart.exec(g[v+1]),this.options.pedantic?o[1].length>a[1].length:o[1].length>a[0].length||o[1].length>3){g.splice(v,2,g[v]+"\n"+g[v+1]),v--,m--;continue}(!this.options.pedantic||this.options.smartLists?o[2][o[2].length-1]!==d[d.length-1]:p===(1===o[2].length))&&(i=g.slice(v+1).join("\n"),f.raw=f.raw.substring(0,f.raw.length-i.length),v=m-1),a=o}r=n.length,~(n=n.replace(/^ *([*+-]|\d+[.)]) ?/,"")).indexOf("\n ")&&(r-=n.length,n=this.options.pedantic?n.replace(/^ {1,4}/gm,""):n.replace(new RegExp("^ {1,"+r+"}","gm"),"")),l=h||/\n\n(?!\s*$)/.test(n),v!==m-1&&(h="\n"===n.charAt(n.length-1),l||(l=h)),l&&(f.loose=!0),this.options.gfm&&(u=void 0,(s=/^\[[ xX]\] /.test(n))&&(u=" "!==n[1],n=n.replace(/^\[[ xX]\] +/,""))),f.items.push({type:"list_item",raw:c,task:s,checked:u,loose:l,text:n})}return f}},t.html=function(e){var t=this.rules.block.html.exec(e);if(t)return{type:this.options.sanitize?"paragraph":"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):O(t[0]):t[0]}},t.def=function(e){var t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}},t.table=function(e){var t=this.rules.block.table.exec(e);if(t){var n={type:"table",header:A(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[]};if(n.header.length===n.align.length){n.raw=t[0];var r,a=n.align.length;for(r=0;r<a;r++)/^ *-+: *$/.test(n.align[r])?n.align[r]="right":/^ *:-+: *$/.test(n.align[r])?n.align[r]="center":/^ *:-+ *$/.test(n.align[r])?n.align[r]="left":n.align[r]=null;for(a=n.cells.length,r=0;r<a;r++)n.cells[r]=A(n.cells[r].replace(/^ *\| *| *\| *$/g,""),n.header.length);return n}}},t.lheading=function(e){var t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1]}},t.paragraph=function(e){var t=this.rules.block.paragraph.exec(e);if(t)return{type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1]}},t.text=function(e,t){var n=this.rules.block.text.exec(e);if(n){var r=t[t.length-1];return r&&"text"===r.type?{raw:n[0],text:n[0]}:{type:"text",raw:n[0],text:n[0]}}},t.escape=function(e){var t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:O(t[1])}},t.tag=function(e,t,n){var r=this.rules.inline.tag.exec(e);if(r)return!t&&/^<a /i.test(r[0])?t=!0:t&&/^<\/a>/i.test(r[0])&&(t=!1),!n&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?n=!0:n&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(n=!1),{type:this.options.sanitize?"text":"html",raw:r[0],inLink:t,inRawBlock:n,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):O(r[0]):r[0]}},t.link=function(e){var t=this.rules.inline.link.exec(e);if(t){var n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;var r=P(n.slice(0,-1),"\\");if((n.length-r.length)%2==0)return}else{var a=F(t[2],"()");if(a>-1){var o=(0===t[0].indexOf("!")?5:4)+t[1].length+a;t[2]=t[2].substring(0,a),t[0]=t[0].substring(0,o).trim(),t[3]=""}}var i=t[2],l="";if(this.options.pedantic){var s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);s&&(i=s[1],l=s[3])}else l=t[3]?t[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(i=this.options.pedantic&&!/>$/.test(n)?i.slice(1):i.slice(1,-1)),B(t,{href:i?i.replace(this.rules.inline._escapes,"$1"):i,title:l?l.replace(this.rules.inline._escapes,"$1"):l},t[0])}},t.reflink=function(e,t){var n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){var r=(n[2]||n[1]).replace(/\s+/g," ");if(!(r=t[r.toLowerCase()])||!r.href){var a=n[0].charAt(0);return{type:"text",raw:a,text:a}}return B(n,r,n[0])}},t.strong=function(e,t,n){void 0===n&&(n="");var r=this.rules.inline.strong.start.exec(e);if(r&&(!r[1]||r[1]&&(""===n||this.rules.inline.punctuation.exec(n)))){t=t.slice(-1*e.length);var a,o="**"===r[0]?this.rules.inline.strong.endAst:this.rules.inline.strong.endUnd;for(o.lastIndex=0;null!=(r=o.exec(t));)if(a=this.rules.inline.strong.middle.exec(t.slice(0,r.index+3)))return{type:"strong",raw:e.slice(0,a[0].length),text:e.slice(2,a[0].length-2)}}},t.em=function(e,t,n){void 0===n&&(n="");var r=this.rules.inline.em.start.exec(e);if(r&&(!r[1]||r[1]&&(""===n||this.rules.inline.punctuation.exec(n)))){t=t.slice(-1*e.length);var a,o="*"===r[0]?this.rules.inline.em.endAst:this.rules.inline.em.endUnd;for(o.lastIndex=0;null!=(r=o.exec(t));)if(a=this.rules.inline.em.middle.exec(t.slice(0,r.index+2)))return{type:"em",raw:e.slice(0,a[0].length),text:e.slice(1,a[0].length-1)}}},t.codespan=function(e){var t=this.rules.inline.code.exec(e);if(t){var n=t[2].replace(/\n/g," "),r=/[^ ]/.test(n),a=/^ /.test(n)&&/ $/.test(n);return r&&a&&(n=n.substring(1,n.length-1)),n=O(n,!0),{type:"codespan",raw:t[0],text:n}}},t.br=function(e){var t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}},t.del=function(e){var t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2]}},t.autolink=function(e,t){var n,r,a=this.rules.inline.autolink.exec(e);if(a)return r="@"===a[2]?"mailto:"+(n=O(this.options.mangle?t(a[1]):a[1])):n=O(a[1]),{type:"link",raw:a[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}},t.url=function(e,t){var n;if(n=this.rules.inline.url.exec(e)){var r,a;if("@"===n[2])a="mailto:"+(r=O(this.options.mangle?t(n[0]):n[0]));else{var o;do{o=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(o!==n[0]);r=O(n[0]),a="www."===n[1]?"http://"+r:r}return{type:"link",raw:n[0],text:r,href:a,tokens:[{type:"text",raw:r,text:r}]}}},t.inlineText=function(e,t,n){var r,a=this.rules.inline.text.exec(e);if(a)return r=t?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(a[0]):O(a[0]):a[0]:O(this.options.smartypants?n(a[0]):a[0]),{type:"text",raw:a[0],text:r}},e}(),$=D.noopTest,G=D.edit,H=D.merge,q={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:$,table:$,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};q.def=G(q.def).replace("label",q._label).replace("title",q._title).getRegex(),q.bullet=/(?:[*+-]|\d{1,9}[.)])/,q.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,q.item=G(q.item,"gm").replace(/bull/g,q.bullet).getRegex(),q.listItemStart=G(/^( *)(bull)/).replace("bull",q.bullet).getRegex(),q.list=G(q.list).replace(/bull/g,q.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+q.def.source+")").getRegex(),q._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",q._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,q.html=G(q.html,"i").replace("comment",q._comment).replace("tag",q._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),q.paragraph=G(q._paragraph).replace("hr",q.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",q._tag).getRegex(),q.blockquote=G(q.blockquote).replace("paragraph",q.paragraph).getRegex(),q.normal=H({},q),q.gfm=H({},q.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),q.gfm.nptable=G(q.gfm.nptable).replace("hr",q.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",q._tag).getRegex(),q.gfm.table=G(q.gfm.table).replace("hr",q.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",q._tag).getRegex(),q.pedantic=H({},q.normal,{html:G("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",q._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:$,paragraph:G(q.normal._paragraph).replace("hr",q.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",q.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var j={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:$,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",strong:{start:/^(?:(\*\*(?=[*punctuation]))|\*\*)(?![\s])|__/,middle:/^\*\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?)__$/,endAst:/[^punctuation\s]\*\*(?!\*)|[punctuation]\*\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]__(?!_)(?:(?=[punctuation*\s])|$)/},em:{start:/^(?:(\*(?=[punctuation]))|\*)(?![*\s])|_/,middle:/^\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?_$/,endAst:/[^punctuation\s]\*(?!\*)|[punctuation]\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]_(?!_)(?:(?=[punctuation*\s])|$)/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:$,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\s*punctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};j.punctuation=G(j.punctuation).replace(/punctuation/g,j._punctuation).getRegex(),j._blockSkip="\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>",j._overlapSkip="__[^_]*?__|\\*\\*\\[^\\*\\]*?\\*\\*",j._comment=G(q._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),j.em.start=G(j.em.start).replace(/punctuation/g,j._punctuation).getRegex(),j.em.middle=G(j.em.middle).replace(/punctuation/g,j._punctuation).replace(/overlapSkip/g,j._overlapSkip).getRegex(),j.em.endAst=G(j.em.endAst,"g").replace(/punctuation/g,j._punctuation).getRegex(),j.em.endUnd=G(j.em.endUnd,"g").replace(/punctuation/g,j._punctuation).getRegex(),j.strong.start=G(j.strong.start).replace(/punctuation/g,j._punctuation).getRegex(),j.strong.middle=G(j.strong.middle).replace(/punctuation/g,j._punctuation).replace(/overlapSkip/g,j._overlapSkip).getRegex(),j.strong.endAst=G(j.strong.endAst,"g").replace(/punctuation/g,j._punctuation).getRegex(),j.strong.endUnd=G(j.strong.endUnd,"g").replace(/punctuation/g,j._punctuation).getRegex(),j.blockSkip=G(j._blockSkip,"g").getRegex(),j.overlapSkip=G(j._overlapSkip,"g").getRegex(),j._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,j._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,j._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,j.autolink=G(j.autolink).replace("scheme",j._scheme).replace("email",j._email).getRegex(),j._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,j.tag=G(j.tag).replace("comment",j._comment).replace("attribute",j._attribute).getRegex(),j._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,j._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,j._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,j.link=G(j.link).replace("label",j._label).replace("href",j._href).replace("title",j._title).getRegex(),j.reflink=G(j.reflink).replace("label",j._label).getRegex(),j.reflinkSearch=G(j.reflinkSearch,"g").replace("reflink",j.reflink).replace("nolink",j.nolink).getRegex(),j.normal=H({},j),j.pedantic=H({},j.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:G(/^!?\[(label)\]\((.*?)\)/).replace("label",j._label).getRegex(),reflink:G(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",j._label).getRegex()}),j.gfm=H({},j.normal,{escape:G(j.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),j.gfm.url=G(j.gfm.url,"i").replace("email",j.gfm._extended_email).getRegex(),j.breaks=H({},j.gfm,{br:G(j.br).replace("{2,}","*").getRegex(),text:G(j.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var z={block:q,inline:j},W=i.defaults,K=z.block,X=z.inline,Q=D.repeatString;function Z(e){return e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function Y(e){var t,n,r="",a=e.length;for(t=0;t<a;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}var J=function(){function e(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||W,this.options.tokenizer=this.options.tokenizer||new V,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var t={block:K.normal,inline:X.normal};this.options.pedantic?(t.block=K.pedantic,t.inline=X.pedantic):this.options.gfm&&(t.block=K.gfm,this.options.breaks?t.inline=X.breaks:t.inline=X.gfm),this.tokenizer.rules=t}e.lex=function(t,n){return new e(n).lex(t)},e.lexInline=function(t,n){return new e(n).inlineTokens(t)};var n=e.prototype;return n.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens,!0),this.inline(this.tokens),this.tokens},n.blockTokens=function(e,t,n){var r,a,o,i;for(void 0===t&&(t=[]),void 0===n&&(n=!0),this.options.pedantic&&(e=e.replace(/^ +$/gm,""));e;)if(r=this.tokenizer.space(e))e=e.substring(r.raw.length),r.type&&t.push(r);else if(r=this.tokenizer.code(e,t))e=e.substring(r.raw.length),r.type?t.push(r):((i=t[t.length-1]).raw+="\n"+r.raw,i.text+="\n"+r.text);else if(r=this.tokenizer.fences(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.heading(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.nptable(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.hr(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.blockquote(e))e=e.substring(r.raw.length),r.tokens=this.blockTokens(r.text,[],n),t.push(r);else if(r=this.tokenizer.list(e)){for(e=e.substring(r.raw.length),o=r.items.length,a=0;a<o;a++)r.items[a].tokens=this.blockTokens(r.items[a].text,[],!1);t.push(r)}else if(r=this.tokenizer.html(e))e=e.substring(r.raw.length),t.push(r);else if(n&&(r=this.tokenizer.def(e)))e=e.substring(r.raw.length),this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});else if(r=this.tokenizer.table(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.lheading(e))e=e.substring(r.raw.length),t.push(r);else if(n&&(r=this.tokenizer.paragraph(e)))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.text(e,t))e=e.substring(r.raw.length),r.type?t.push(r):((i=t[t.length-1]).raw+="\n"+r.raw,i.text+="\n"+r.text);else if(e){var l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}throw new Error(l)}return t},n.inline=function(e){var t,n,r,a,o,i,l=e.length;for(t=0;t<l;t++)switch((i=e[t]).type){case"paragraph":case"text":case"heading":i.tokens=[],this.inlineTokens(i.text,i.tokens);break;case"table":for(i.tokens={header:[],cells:[]},a=i.header.length,n=0;n<a;n++)i.tokens.header[n]=[],this.inlineTokens(i.header[n],i.tokens.header[n]);for(a=i.cells.length,n=0;n<a;n++)for(o=i.cells[n],i.tokens.cells[n]=[],r=0;r<o.length;r++)i.tokens.cells[n][r]=[],this.inlineTokens(o[r],i.tokens.cells[n][r]);break;case"blockquote":this.inline(i.tokens);break;case"list":for(a=i.items.length,n=0;n<a;n++)this.inline(i.items[n].tokens)}return e},n.inlineTokens=function(e,t,n,r){var a;void 0===t&&(t=[]),void 0===n&&(n=!1),void 0===r&&(r=!1);var o,i,l,s=e;if(this.tokens.links){var u=Object.keys(this.tokens.links);if(u.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(s));)u.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,o.index)+"["+Q("a",o[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,o.index)+"["+Q("a",o[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;e;)if(i||(l=""),i=!1,a=this.tokenizer.escape(e))e=e.substring(a.raw.length),t.push(a);else if(a=this.tokenizer.tag(e,n,r))e=e.substring(a.raw.length),n=a.inLink,r=a.inRawBlock,t.push(a);else if(a=this.tokenizer.link(e))e=e.substring(a.raw.length),"link"===a.type&&(a.tokens=this.inlineTokens(a.text,[],!0,r)),t.push(a);else if(a=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(a.raw.length),"link"===a.type&&(a.tokens=this.inlineTokens(a.text,[],!0,r)),t.push(a);else if(a=this.tokenizer.strong(e,s,l))e=e.substring(a.raw.length),a.tokens=this.inlineTokens(a.text,[],n,r),t.push(a);else if(a=this.tokenizer.em(e,s,l))e=e.substring(a.raw.length),a.tokens=this.inlineTokens(a.text,[],n,r),t.push(a);else if(a=this.tokenizer.codespan(e))e=e.substring(a.raw.length),t.push(a);else if(a=this.tokenizer.br(e))e=e.substring(a.raw.length),t.push(a);else if(a=this.tokenizer.del(e))e=e.substring(a.raw.length),a.tokens=this.inlineTokens(a.text,[],n,r),t.push(a);else if(a=this.tokenizer.autolink(e,Y))e=e.substring(a.raw.length),t.push(a);else if(n||!(a=this.tokenizer.url(e,Y))){if(a=this.tokenizer.inlineText(e,r,Z))e=e.substring(a.raw.length),l=a.raw.slice(-1),i=!0,t.push(a);else if(e){var c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}throw new Error(c)}}else e=e.substring(a.raw.length),t.push(a);return t},t(e,null,[{key:"rules",get:function(){return{block:K,inline:X}}}]),e}(),ee=i.defaults,te=D.cleanUrl,ne=D.escape,re=function(){function e(e){this.options=e||ee}var t=e.prototype;return t.code=function(e,t,n){var r=(t||"").match(/\S*/)[0];if(this.options.highlight){var a=this.options.highlight(e,r);null!=a&&a!==e&&(n=!0,e=a)}return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="'+this.options.langPrefix+ne(r,!0)+'">'+(n?e:ne(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:ne(e,!0))+"</code></pre>\n"},t.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},t.html=function(e){return e},t.heading=function(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},t.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},t.list=function(e,t,n){var r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"},t.listitem=function(e){return"<li>"+e+"</li>\n"},t.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},t.paragraph=function(e){return"<p>"+e+"</p>\n"},t.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},t.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},t.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},t.strong=function(e){return"<strong>"+e+"</strong>"},t.em=function(e){return"<em>"+e+"</em>"},t.codespan=function(e){return"<code>"+e+"</code>"},t.br=function(){return this.options.xhtml?"<br/>":"<br>"},t.del=function(e){return"<del>"+e+"</del>"},t.link=function(e,t,n){if(null===(e=te(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<a href="'+ne(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>"},t.image=function(e,t,n){if(null===(e=te(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},t.text=function(e){return e},e}(),ae=function(){function e(){}var t=e.prototype;return t.strong=function(e){return e},t.em=function(e){return e},t.codespan=function(e){return e},t.del=function(e){return e},t.html=function(e){return e},t.text=function(e){return e},t.link=function(e,t,n){return""+n},t.image=function(e,t,n){return""+n},t.br=function(){return""},e}(),oe=function(){function e(){this.seen={}}var t=e.prototype;return t.serialize=function(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},t.getNextSafeSlug=function(e,t){var n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do{n=e+"-"+ ++r}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n},t.slug=function(e,t){void 0===t&&(t={});var n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)},e}(),ie=i.defaults,le=D.unescape,se=function(){function e(e){this.options=e||ie,this.options.renderer=this.options.renderer||new re,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new ae,this.slugger=new oe}e.parse=function(t,n){return new e(n).parse(t)},e.parseInline=function(t,n){return new e(n).parseInline(t)};var t=e.prototype;return t.parse=function(e,t){void 0===t&&(t=!0);var n,r,a,o,i,l,s,u,c,d,p,f,g,h,m,v,y,b,L="",x=e.length;for(n=0;n<x;n++)switch((d=e[n]).type){case"space":continue;case"hr":L+=this.renderer.hr();continue;case"heading":L+=this.renderer.heading(this.parseInline(d.tokens),d.depth,le(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue;case"code":L+=this.renderer.code(d.text,d.lang,d.escaped);continue;case"table":for(u="",s="",o=d.header.length,r=0;r<o;r++)s+=this.renderer.tablecell(this.parseInline(d.tokens.header[r]),{header:!0,align:d.align[r]});for(u+=this.renderer.tablerow(s),c="",o=d.cells.length,r=0;r<o;r++){for(s="",i=(l=d.tokens.cells[r]).length,a=0;a<i;a++)s+=this.renderer.tablecell(this.parseInline(l[a]),{header:!1,align:d.align[a]});c+=this.renderer.tablerow(s)}L+=this.renderer.table(u,c);continue;case"blockquote":c=this.parse(d.tokens),L+=this.renderer.blockquote(c);continue;case"list":for(p=d.ordered,f=d.start,g=d.loose,o=d.items.length,c="",r=0;r<o;r++)v=(m=d.items[r]).checked,y=m.task,h="",m.task&&(b=this.renderer.checkbox(v),g?m.tokens.length>0&&"text"===m.tokens[0].type?(m.tokens[0].text=b+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&"text"===m.tokens[0].tokens[0].type&&(m.tokens[0].tokens[0].text=b+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:b}):h+=b),h+=this.parse(m.tokens,g),c+=this.renderer.listitem(h,y,v);L+=this.renderer.list(c,p,f);continue;case"html":L+=this.renderer.html(d.text);continue;case"paragraph":L+=this.renderer.paragraph(this.parseInline(d.tokens));continue;case"text":for(c=d.tokens?this.parseInline(d.tokens):d.text;n+1<x&&"text"===e[n+1].type;)c+="\n"+((d=e[++n]).tokens?this.parseInline(d.tokens):d.text);L+=t?this.renderer.paragraph(c):c;continue;default:var w='Token with "'+d.type+'" type was not found.';if(this.options.silent)return void console.error(w);throw new Error(w)}return L},t.parseInline=function(e,t){t=t||this.renderer;var n,r,a="",o=e.length;for(n=0;n<o;n++)switch((r=e[n]).type){case"escape":case"text":a+=t.text(r.text);break;case"html":a+=t.html(r.text);break;case"link":a+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break;case"image":a+=t.image(r.href,r.title,r.text);break;case"strong":a+=t.strong(this.parseInline(r.tokens,t));break;case"em":a+=t.em(this.parseInline(r.tokens,t));break;case"codespan":a+=t.codespan(r.text);break;case"br":a+=t.br();break;case"del":a+=t.del(this.parseInline(r.tokens,t));break;default:var i='Token with "'+r.type+'" type was not found.';if(this.options.silent)return void console.error(i);throw new Error(i)}return a},e}(),ue=D.merge,ce=D.checkSanitizeDeprecation,de=D.escape,pe=i.getDefaults,fe=i.changeDefaults,ge=i.defaults;function he(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(n=t,t=null),t=ue({},he.defaults,t||{}),ce(t),n){var r,a=t.highlight;try{r=J.lex(e,t)}catch(e){return n(e)}var o=function(e){var o;if(!e)try{o=se.parse(r,t)}catch(t){e=t}return t.highlight=a,e?n(e):n(null,o)};if(!a||a.length<3)return o();if(delete t.highlight,!r.length)return o();var i=0;return he.walkTokens(r,function(e){"code"===e.type&&(i++,setTimeout(function(){a(e.text,e.lang,function(t,n){if(t)return o(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),0===--i&&o()})},0))}),void(0===i&&o())}try{var l=J.lex(e,t);return t.walkTokens&&he.walkTokens(l,t.walkTokens),se.parse(l,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+de(e.message+"",!0)+"</pre>";throw e}}return he.options=he.setOptions=function(e){return ue(he.defaults,e),fe(he.defaults),he},he.getDefaults=pe,he.defaults=ge,he.use=function(e){var t=ue({},e);if(e.renderer&&function(){var n=he.defaults.renderer||new re,r=function(t){var r=n[t];n[t]=function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];var l=e.renderer[t].apply(n,o);return!1===l&&(l=r.apply(n,o)),l}};for(var a in e.renderer)r(a);t.renderer=n}(),e.tokenizer&&function(){var n=he.defaults.tokenizer||new V,r=function(t){var r=n[t];n[t]=function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];var l=e.tokenizer[t].apply(n,o);return!1===l&&(l=r.apply(n,o)),l}};for(var a in e.tokenizer)r(a);t.tokenizer=n}(),e.walkTokens){var n=he.defaults.walkTokens;t.walkTokens=function(t){e.walkTokens(t),n&&n(t)}}he.setOptions(t)},he.walkTokens=function(e,t){for(var n,r=a(e);!(n=r()).done;){var o=n.value;switch(t(o),o.type){case"table":for(var i,l=a(o.tokens.header);!(i=l()).done;){var s=i.value;he.walkTokens(s,t)}for(var u,c=a(o.tokens.cells);!(u=c()).done;)for(var d,p=a(u.value);!(d=p()).done;){var f=d.value;he.walkTokens(f,t)}break;case"list":he.walkTokens(o.items,t);break;default:o.tokens&&he.walkTokens(o.tokens,t)}}},he.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=ue({},he.defaults,t||{}),ce(t);try{var n=J.lexInline(e,t);return t.walkTokens&&he.walkTokens(n,t.walkTokens),se.parseInline(n,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+de(e.message+"",!0)+"</pre>";throw e}},he.Parser=se,he.parser=se.parse,he.Renderer=re,he.TextRenderer=ae,he.Lexer=J,he.lexer=J.lex,he.Tokenizer=V,he.Slugger=oe,he.parse=he,he}()}),Es=us(function(e,t){!function(){function t(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function n(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){l(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function a(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof ss&&ss.global===ss?ss:void 0,i=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(e,t,i){var l=o.URL||o.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener","string"==typeof e?(s.href=e,s.origin===location.origin?a(s):r(s.href)?n(e,t,i):a(s,s.target="_blank")):(s.href=l.createObjectURL(e),setTimeout(function(){l.revokeObjectURL(s.href)},4e4),setTimeout(function(){a(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,o,i){if(o=o||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,i),o);else if(r(e))n(e,o,i);else{var l=document.createElement("a");l.href=e,l.target="_blank",setTimeout(function(){a(l)})}}:function(e,t,r,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return n(e,t,r);var l="application/octet-stream"===e.type,s=/constructor/i.test(o.HTMLElement)||o.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||l&&s||i)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=u?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},c.readAsDataURL(e)}else{var d=o.URL||o.webkitURL,p=d.createObjectURL(e);a?a.location=p:location.href=p,a=null,setTimeout(function(){d.revokeObjectURL(p)},4e4)}});o.saveAs=l.saveAs=l,e.exports=l}()});const Ms=e=>({...Et(ct(e.state)),...e.computed,...e.actions}),_s=e=>JSON.parse(localStorage.getItem(e)),Ts=(e,t)=>localStorage.setItem(e,JSON.stringify(t)),Ns=e=>parseInt(e,16),Ds=e=>Array.isArray(e)?e.map(e=>e.toString(16)):e.toString(16),Rs=e=>Array.isArray(e)?e.map(e=>e.toString(16)).join(" "):e.toString(16),Ps=e=>Array.isArray(e)?e.join(" "):e,As=e=>{if(e.length%2!=0)throw new Error("CANNOT DECODE 2 BYTE VALUE: UNEVEN DATA VALUE LENGTH");const t=[];for(let n=0;n<e.length/2;n++){const r=2*n;t.push(Os(e[r],e[r+1]))}return t},Os=(e,t)=>{1&e?t|=128:t&=-129;let n=e>>=1;return n<<=8,n|=t,n},Fs=e=>{let t=e>>8&255,n=255&e;return t=t<<1&127,n>>7&1?t|=1:t&=-2,n&=127,[t,n]},Bs=(e,t)=>e.length===t.length&&e.every((e,n)=>e===t[n]),Us=(e,t)=>e&&t&&Math.abs(t.getTime()-e.getTime()),Vs=e=>`0000${e}`.slice(-2),$s=e=>new Promise(t=>{setTimeout(t,e)});var Gs,Hs;(Hs=Gs||(Gs={})).Closed="closed",Hs.Pending="pending",Hs.Open="open";const qs=st({connectionState:Gs.Closed,inputs:[],outputs:[],log:!0,isWebMidiSupported:!1,debug:{tag:"(init)",supported:!1,enabled:!1,inputs:[],outputs:[],hasOnlyGenericThrough:!1}});var js,zs,Ws=us(function(e){!function(t){function n(){if(n.prototype._singleton)throw new Error("WebMidi is a singleton, it cannot be instantiated directly.");(n.prototype._singleton=this)._inputs=[],this._outputs=[],this._userHandlers={},this._stateChangeQueue=[],this._processingStateChange=!1,this._midiInterfaceEvents=["connected","disconnected"],this._nrpnBuffer=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],this._nrpnEventsEnabled=!0,this._nrpnTypes=["entry","increment","decrement"],this._notes=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],this._semitones={C:0,D:2,E:4,F:5,G:7,A:9,B:11},Object.defineProperties(this,{MIDI_SYSTEM_MESSAGES:{value:{sysex:240,timecode:241,songposition:242,songselect:243,tuningrequest:246,sysexend:247,clock:248,start:250,continue:251,stop:252,activesensing:254,reset:255,midimessage:0,unknownsystemmessage:-1},writable:!1,enumerable:!0,configurable:!1},MIDI_CHANNEL_MESSAGES:{value:{noteoff:8,noteon:9,keyaftertouch:10,controlchange:11,channelmode:11,nrpn:11,programchange:12,channelaftertouch:13,pitchbend:14},writable:!1,enumerable:!0,configurable:!1},MIDI_REGISTERED_PARAMETER:{value:{pitchbendrange:[0,0],channelfinetuning:[0,1],channelcoarsetuning:[0,2],tuningprogram:[0,3],tuningbank:[0,4],modulationrange:[0,5],azimuthangle:[61,0],elevationangle:[61,1],gain:[61,2],distanceratio:[61,3],maximumdistance:[61,4],maximumdistancegain:[61,5],referencedistanceratio:[61,6],panspreadangle:[61,7],rollangle:[61,8]},writable:!1,enumerable:!0,configurable:!1},MIDI_CONTROL_CHANGE_MESSAGES:{value:{bankselectcoarse:0,modulationwheelcoarse:1,breathcontrollercoarse:2,footcontrollercoarse:4,portamentotimecoarse:5,dataentrycoarse:6,volumecoarse:7,balancecoarse:8,pancoarse:10,expressioncoarse:11,effectcontrol1coarse:12,effectcontrol2coarse:13,generalpurposeslider1:16,generalpurposeslider2:17,generalpurposeslider3:18,generalpurposeslider4:19,bankselectfine:32,modulationwheelfine:33,breathcontrollerfine:34,footcontrollerfine:36,portamentotimefine:37,dataentryfine:38,volumefine:39,balancefine:40,panfine:42,expressionfine:43,effectcontrol1fine:44,effectcontrol2fine:45,holdpedal:64,portamento:65,sustenutopedal:66,softpedal:67,legatopedal:68,hold2pedal:69,soundvariation:70,resonance:71,soundreleasetime:72,soundattacktime:73,brightness:74,soundcontrol6:75,soundcontrol7:76,soundcontrol8:77,soundcontrol9:78,soundcontrol10:79,generalpurposebutton1:80,generalpurposebutton2:81,generalpurposebutton3:82,generalpurposebutton4:83,reverblevel:91,tremololevel:92,choruslevel:93,celestelevel:94,phaserlevel:95,databuttonincrement:96,databuttondecrement:97,nonregisteredparametercoarse:98,nonregisteredparameterfine:99,registeredparametercoarse:100,registeredparameterfine:101},writable:!1,enumerable:!0,configurable:!1},MIDI_NRPN_MESSAGES:{value:{entrymsb:6,entrylsb:38,increment:96,decrement:97,paramlsb:98,parammsb:99,nullactiveparameter:127},writable:!1,enumerable:!0,configurable:!1},MIDI_CHANNEL_MODE_MESSAGES:{value:{allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127},writable:!1,enumerable:!0,configurable:!1},octaveOffset:{value:0,writable:!0,enumerable:!0,configurable:!1}}),Object.defineProperties(this,{supported:{enumerable:!0,get:function(){return"requestMIDIAccess"in navigator}},enabled:{enumerable:!0,get:function(){return void 0!==this.interface}.bind(this)},inputs:{enumerable:!0,get:function(){return this._inputs}.bind(this)},outputs:{enumerable:!0,get:function(){return this._outputs}.bind(this)},sysexEnabled:{enumerable:!0,get:function(){return!(!this.interface||!this.interface.sysexEnabled)}.bind(this)},nrpnEventsEnabled:{enumerable:!0,get:function(){return!!this._nrpnEventsEnabled}.bind(this),set:function(e){return this._nrpnEventsEnabled=e,this._nrpnEventsEnabled}},nrpnTypes:{enumerable:!0,get:function(){return this._nrpnTypes}.bind(this)},time:{enumerable:!0,get:function(){return performance.now()}}})}var r=new n;function a(e){var t=this;this._userHandlers={channel:{},system:{}},this._midiInput=e,Object.defineProperties(this,{connection:{enumerable:!0,get:function(){return t._midiInput.connection}},id:{enumerable:!0,get:function(){return t._midiInput.id}},manufacturer:{enumerable:!0,get:function(){return t._midiInput.manufacturer}},name:{enumerable:!0,get:function(){return t._midiInput.name}},state:{enumerable:!0,get:function(){return t._midiInput.state}},type:{enumerable:!0,get:function(){return t._midiInput.type}}}),this._initializeUserHandlers(),this._midiInput.onmidimessage=this._onMidiMessage.bind(this)}function o(e){var t=this;this._midiOutput=e,Object.defineProperties(this,{connection:{enumerable:!0,get:function(){return t._midiOutput.connection}},id:{enumerable:!0,get:function(){return t._midiOutput.id}},manufacturer:{enumerable:!0,get:function(){return t._midiOutput.manufacturer}},name:{enumerable:!0,get:function(){return t._midiOutput.name}},state:{enumerable:!0,get:function(){return t._midiOutput.state}},type:{enumerable:!0,get:function(){return t._midiOutput.type}}})}n.prototype.enable=function(e,t){this.enabled||(this.supported?navigator.requestMIDIAccess({sysex:t}).then(function(t){var n,r=[],a=[];this.interface=t,this._resetInterfaceUserHandlers(),this.interface.onstatechange=function(e){r.push(e)};for(var o=t.inputs.values(),i=o.next();i&&!i.done;i=o.next())a.push(i.value.open());for(var l=t.outputs.values(),s=l.next();s&&!s.done;s=l.next())a.push(s.value.open());function u(){clearTimeout(n),this._updateInputsAndOutputs(),this.interface.onstatechange=this._onInterfaceStateChange.bind(this),"function"==typeof e&&e.call(this),r.forEach(function(e){this._onInterfaceStateChange(e)}.bind(this))}n=setTimeout(u.bind(this),200),Promise&&Promise.all(a).catch(function(e){}).then(u.bind(this))}.bind(this),function(t){"function"==typeof e&&e.call(this,t)}.bind(this)):"function"==typeof e&&e(new Error("The Web MIDI API is not supported by your browser.")))},n.prototype.disable=function(){if(!this.supported)throw new Error("The Web MIDI API is not supported by your browser.");this.enabled&&(this.removeListener(),this.inputs.forEach(function(e){e.removeListener()})),this.interface&&(this.interface.onstatechange=void 0),this.interface=void 0,this._inputs=[],this._outputs=[],this._nrpnEventsEnabled=!0,this._resetInterfaceUserHandlers()},n.prototype.addListener=function(e,t){if(!this.enabled)throw new Error("WebMidi must be enabled before adding event listeners.");if("function"!=typeof t)throw new TypeError("The 'listener' parameter must be a function.");if(!(0<=this._midiInterfaceEvents.indexOf(e)))throw new TypeError("The specified event type is not supported.");return this._userHandlers[e].push(t),this},n.prototype.hasListener=function(e,t){if(!this.enabled)throw new Error("WebMidi must be enabled before checking event listeners.");if("function"!=typeof t)throw new TypeError("The 'listener' parameter must be a function.");if(!(0<=this._midiInterfaceEvents.indexOf(e)))throw new TypeError("The specified event type is not supported.");for(var n=0;n<this._userHandlers[e].length;n++)if(this._userHandlers[e][n]===t)return!0;return!1},n.prototype.removeListener=function(e,t){if(!this.enabled)throw new Error("WebMidi must be enabled before removing event listeners.");if(void 0!==t&&"function"!=typeof t)throw new TypeError("The 'listener' parameter must be a function.");if(0<=this._midiInterfaceEvents.indexOf(e))if(t)for(var n=0;n<this._userHandlers[e].length;n++)this._userHandlers[e][n]===t&&this._userHandlers[e].splice(n,1);else this._userHandlers[e]=[];else{if(void 0!==e)throw new TypeError("The specified event type is not supported.");this._resetInterfaceUserHandlers()}return this},n.prototype.toMIDIChannels=function(e){var t;if("all"===e||void 0===e)t=["all"];else{if("none"===e)return[];t=Array.isArray(e)?e:[e]}return-1<t.indexOf("all")&&(t=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]),t.map(function(e){return parseInt(e)}).filter(function(e){return 1<=e&&e<=16})},n.prototype.getInputById=function(e){if(!this.enabled)throw new Error("WebMidi is not enabled.");e=String(e);for(var t=0;t<this.inputs.length;t++)if(this.inputs[t].id===e)return this.inputs[t];return!1},n.prototype.getOutputById=function(e){if(!this.enabled)throw new Error("WebMidi is not enabled.");e=String(e);for(var t=0;t<this.outputs.length;t++)if(this.outputs[t].id===e)return this.outputs[t];return!1},n.prototype.getInputByName=function(e){if(!this.enabled)throw new Error("WebMidi is not enabled.");for(var t=0;t<this.inputs.length;t++)if(~this.inputs[t].name.indexOf(e))return this.inputs[t];return!1},n.prototype.getOctave=function(e){if(null!=e&&0<=e&&e<=127)return Math.floor(Math.floor(e)/12-1)+Math.floor(r.octaveOffset)},n.prototype.getOutputByName=function(e){if(!this.enabled)throw new Error("WebMidi is not enabled.");for(var t=0;t<this.outputs.length;t++)if(~this.outputs[t].name.indexOf(e))return this.outputs[t];return!1},n.prototype.guessNoteNumber=function(e){var t=!1;if(e&&e.toFixed&&0<=e&&e<=127?t=Math.round(e):0<=parseInt(e)&&parseInt(e)<=127?t=parseInt(e):("string"==typeof e||e instanceof String)&&(t=this.noteNameToNumber(e)),!1===t)throw new Error("Invalid input value ("+e+").");return t},n.prototype.noteNameToNumber=function(e){"string"!=typeof e&&(e="");var t=e.match(/([CDEFGAB])(#{0,2}|b{0,2})(-?\d+)/i);if(!t)throw new RangeError("Invalid note name.");var n=r._semitones[t[1].toUpperCase()],a=12*(parseInt(t[3])+1-Math.floor(r.octaveOffset))+n;if(-1<t[2].toLowerCase().indexOf("b")?a-=t[2].length:-1<t[2].toLowerCase().indexOf("#")&&(a+=t[2].length),a<0||127<a)throw new RangeError("Invalid note name or note outside valid range.");return a},n.prototype._updateInputsAndOutputs=function(){this._updateInputs(),this._updateOutputs()},n.prototype._updateInputs=function(){for(var e=0;e<this._inputs.length;e++){for(var t=!0,n=this.interface.inputs.values(),r=n.next();r&&!r.done;r=n.next())if(this._inputs[e]._midiInput===r.value){t=!1;break}t&&this._inputs.splice(e,1)}this.interface&&this.interface.inputs.forEach(function(e){for(var t=!0,n=0;n<this._inputs.length;n++)this._inputs[n]._midiInput===e&&(t=!1);t&&this._inputs.push(new a(e))}.bind(this))},n.prototype._updateOutputs=function(){for(var e=0;e<this._outputs.length;e++){for(var t=!0,n=this.interface.outputs.values(),r=n.next();r&&!r.done;r=n.next())if(this._outputs[e]._midiOutput===r.value){t=!1;break}t&&this._outputs.splice(e,1)}this.interface&&this.interface.outputs.forEach(function(e){for(var t=!0,n=0;n<this._outputs.length;n++)this._outputs[n]._midiOutput===e&&(t=!1);t&&this._outputs.push(new o(e))}.bind(this))},n.prototype._onInterfaceStateChange=function(e){this._updateInputsAndOutputs();var t={timestamp:e.timeStamp,type:e.port.state};this.interface&&"connected"===e.port.state?"output"===e.port.type?t.port=this.getOutputById(e.port.id):"input"===e.port.type&&(t.port=this.getInputById(e.port.id)):t.port={connection:"closed",id:e.port.id,manufacturer:e.port.manufacturer,name:e.port.name,state:e.port.state,type:e.port.type},this._userHandlers[e.port.state].forEach(function(e){e(t)})},n.prototype._resetInterfaceUserHandlers=function(){for(var e=0;e<this._midiInterfaceEvents.length;e++)this._userHandlers[this._midiInterfaceEvents[e]]=[]},a.prototype.on=a.prototype.addListener=function(e,t,n){var a=this;if(void 0===t&&(t="all"),Array.isArray(t)||(t=[t]),t.forEach(function(e){if("all"!==e&&!(1<=e&&e<=16))throw new RangeError("The 'channel' parameter is invalid.")}),"function"!=typeof n)throw new TypeError("The 'listener' parameter must be a function.");if(void 0!==r.MIDI_SYSTEM_MESSAGES[e])this._userHandlers.system[e]||(this._userHandlers.system[e]=[]),this._userHandlers.system[e].push(n);else{if(void 0===r.MIDI_CHANNEL_MESSAGES[e])throw new TypeError("The specified event type is not supported.");if(-1<t.indexOf("all")){t=[];for(var o=1;o<=16;o++)t.push(o)}this._userHandlers.channel[e]||(this._userHandlers.channel[e]=[]),t.forEach(function(t){a._userHandlers.channel[e][t]||(a._userHandlers.channel[e][t]=[]),a._userHandlers.channel[e][t].push(n)})}return this},a.prototype.hasListener=function(e,t,n){var a=this;if("function"!=typeof n)throw new TypeError("The 'listener' parameter must be a function.");if(void 0===t&&(t="all"),t.constructor!==Array&&(t=[t]),void 0!==r.MIDI_SYSTEM_MESSAGES[e]){for(var o=0;o<this._userHandlers.system[e].length;o++)if(this._userHandlers.system[e][o]===n)return!0}else if(void 0!==r.MIDI_CHANNEL_MESSAGES[e]){if(-1<t.indexOf("all")){t=[];for(var i=1;i<=16;i++)t.push(i)}return!!this._userHandlers.channel[e]&&t.every(function(t){var r=a._userHandlers.channel[e][t];return r&&-1<r.indexOf(n)})}return!1},a.prototype.removeListener=function(e,t,n){var a=this;if(void 0!==n&&"function"!=typeof n)throw new TypeError("The 'listener' parameter must be a function.");if(void 0===t&&(t="all"),t.constructor!==Array&&(t=[t]),void 0!==r.MIDI_SYSTEM_MESSAGES[e])if(void 0===n)this._userHandlers.system[e]=[];else for(var o=0;o<this._userHandlers.system[e].length;o++)this._userHandlers.system[e][o]===n&&this._userHandlers.system[e].splice(o,1);else if(void 0!==r.MIDI_CHANNEL_MESSAGES[e]){if(-1<t.indexOf("all")){t=[];for(var i=1;i<=16;i++)t.push(i)}if(!this._userHandlers.channel[e])return this;t.forEach(function(t){var r=a._userHandlers.channel[e][t];if(r)if(void 0===n)a._userHandlers.channel[e][t]=[];else for(var o=0;o<r.length;o++)r[o]===n&&r.splice(o,1)})}else{if(void 0!==e)throw new TypeError("The specified event type is not supported.");this._initializeUserHandlers()}return this},a.prototype._initializeUserHandlers=function(){for(var e in r.MIDI_CHANNEL_MESSAGES)Object.prototype.hasOwnProperty.call(r.MIDI_CHANNEL_MESSAGES,e)&&(this._userHandlers.channel[e]={});for(var t in r.MIDI_SYSTEM_MESSAGES)Object.prototype.hasOwnProperty.call(r.MIDI_SYSTEM_MESSAGES,t)&&(this._userHandlers.system[t]=[])},a.prototype._onMidiMessage=function(e){if(0<this._userHandlers.system.midimessage.length){var t={target:this,data:e.data,timestamp:e.timeStamp,type:"midimessage"};this._userHandlers.system.midimessage.forEach(function(e){e(t)})}e.data[0]<240?(this._parseChannelEvent(e),this._parseNrpnEvent(e)):e.data[0]<=255&&this._parseSystemEvent(e)},a.prototype._parseNrpnEvent=function(e){var t,n,a=e.data[0]>>4,o=15&e.data[0],i=1+o;if(1<e.data.length&&(t=e.data[1],n=2<e.data.length?e.data[2]:void 0),r.nrpnEventsEnabled&&a===r.MIDI_CHANNEL_MESSAGES.controlchange&&(t>=r.MIDI_NRPN_MESSAGES.increment&&t<=r.MIDI_NRPN_MESSAGES.parammsb||t===r.MIDI_NRPN_MESSAGES.entrymsb||t===r.MIDI_NRPN_MESSAGES.entrylsb)){var l={target:this,type:"controlchange",data:e.data,timestamp:e.timeStamp,channel:i,controller:{number:t,name:this.getCcNameByNumber(t)},value:n};if(l.controller.number===r.MIDI_NRPN_MESSAGES.parammsb&&l.value!=r.MIDI_NRPN_MESSAGES.nullactiveparameter)r._nrpnBuffer[o]=[],r._nrpnBuffer[o][0]=l;else if(1===r._nrpnBuffer[o].length&&l.controller.number===r.MIDI_NRPN_MESSAGES.paramlsb)r._nrpnBuffer[o].push(l);else if(2!==r._nrpnBuffer[o].length||l.controller.number!==r.MIDI_NRPN_MESSAGES.increment&&l.controller.number!==r.MIDI_NRPN_MESSAGES.decrement&&l.controller.number!==r.MIDI_NRPN_MESSAGES.entrymsb)if(3===r._nrpnBuffer[o].length&&r._nrpnBuffer[o][2].number===r.MIDI_NRPN_MESSAGES.entrymsb&&l.controller.number===r.MIDI_NRPN_MESSAGES.entrylsb)r._nrpnBuffer[o].push(l);else if(3<=r._nrpnBuffer[o].length&&r._nrpnBuffer[o].length<=4&&l.controller.number===r.MIDI_NRPN_MESSAGES.parammsb&&l.value===r.MIDI_NRPN_MESSAGES.nullactiveparameter)r._nrpnBuffer[o].push(l);else if(4<=r._nrpnBuffer[o].length&&r._nrpnBuffer[o].length<=5&&l.controller.number===r.MIDI_NRPN_MESSAGES.paramlsb&&l.value===r.MIDI_NRPN_MESSAGES.nullactiveparameter){r._nrpnBuffer[o].push(l);var s=[];r._nrpnBuffer[o].forEach(function(e){s.push(e.data)});var u=r._nrpnBuffer[o][0].value<<7|r._nrpnBuffer[o][1].value,c=r._nrpnBuffer[o][2].value;6===r._nrpnBuffer[o].length&&(c=r._nrpnBuffer[o][2].value<<7|r._nrpnBuffer[o][3].value);var d="";switch(r._nrpnBuffer[o][2].controller.number){case r.MIDI_NRPN_MESSAGES.entrymsb:d=r._nrpnTypes[0];break;case r.MIDI_NRPN_MESSAGES.increment:d=r._nrpnTypes[1];break;case r.MIDI_NRPN_MESSAGES.decrement:d=r._nrpnTypes[2];break;default:throw new Error("The NPRN type was unidentifiable.")}var p={timestamp:l.timestamp,channel:l.channel,type:"nrpn",data:s,controller:{number:u,type:d,name:"Non-Registered Parameter "+u},value:c};r._nrpnBuffer[o]=[],this._userHandlers.channel[p.type]&&this._userHandlers.channel[p.type][p.channel]&&this._userHandlers.channel[p.type][p.channel].forEach(function(e){e(p)})}else r._nrpnBuffer[o]=[];else r._nrpnBuffer[o].push(l)}},a.prototype._parseChannelEvent=function(e){var t,n,a=e.data[0]>>4,o=1+(15&e.data[0]);1<e.data.length&&(t=e.data[1],n=2<e.data.length?e.data[2]:void 0);var i={target:this,data:e.data,timestamp:e.timeStamp,channel:o};a===r.MIDI_CHANNEL_MESSAGES.noteoff||a===r.MIDI_CHANNEL_MESSAGES.noteon&&0===n?(i.type="noteoff",i.note={number:t,name:r._notes[t%12],octave:r.getOctave(t)},i.velocity=n/127,i.rawVelocity=n):a===r.MIDI_CHANNEL_MESSAGES.noteon?(i.type="noteon",i.note={number:t,name:r._notes[t%12],octave:r.getOctave(t)},i.velocity=n/127,i.rawVelocity=n):a===r.MIDI_CHANNEL_MESSAGES.keyaftertouch?(i.type="keyaftertouch",i.note={number:t,name:r._notes[t%12],octave:r.getOctave(t)},i.value=n/127):a===r.MIDI_CHANNEL_MESSAGES.controlchange&&0<=t&&t<=119?(i.type="controlchange",i.controller={number:t,name:this.getCcNameByNumber(t)},i.value=n):a===r.MIDI_CHANNEL_MESSAGES.channelmode&&120<=t&&t<=127?(i.type="channelmode",i.controller={number:t,name:this.getChannelModeByNumber(t)},i.value=n):a===r.MIDI_CHANNEL_MESSAGES.programchange?(i.type="programchange",i.value=t):a===r.MIDI_CHANNEL_MESSAGES.channelaftertouch?(i.type="channelaftertouch",i.value=t/127):a===r.MIDI_CHANNEL_MESSAGES.pitchbend?(i.type="pitchbend",i.value=((n<<7)+t-8192)/8192):i.type="unknownchannelmessage",this._userHandlers.channel[i.type]&&this._userHandlers.channel[i.type][o]&&this._userHandlers.channel[i.type][o].forEach(function(e){e(i)})},a.prototype.getCcNameByNumber=function(e){if(!(0<=(e=Math.floor(e))&&e<=119))throw new RangeError("The control change number must be between 0 and 119.");for(var t in r.MIDI_CONTROL_CHANGE_MESSAGES)if(Object.prototype.hasOwnProperty.call(r.MIDI_CONTROL_CHANGE_MESSAGES,t)&&e===r.MIDI_CONTROL_CHANGE_MESSAGES[t])return t},a.prototype.getChannelModeByNumber=function(e){if(!(120<=(e=Math.floor(e))&&status<=127))throw new RangeError("The control change number must be between 120 and 127.");for(var t in r.MIDI_CHANNEL_MODE_MESSAGES)if(Object.prototype.hasOwnProperty.call(r.MIDI_CHANNEL_MODE_MESSAGES,t)&&e===r.MIDI_CHANNEL_MODE_MESSAGES[t])return t},a.prototype._parseSystemEvent=function(e){var t=e.data[0],n={target:this,data:e.data,timestamp:e.timeStamp};t===r.MIDI_SYSTEM_MESSAGES.sysex?n.type="sysex":t===r.MIDI_SYSTEM_MESSAGES.timecode?n.type="timecode":t===r.MIDI_SYSTEM_MESSAGES.songposition?n.type="songposition":t===r.MIDI_SYSTEM_MESSAGES.songselect?(n.type="songselect",n.song=e.data[1]):t===r.MIDI_SYSTEM_MESSAGES.tuningrequest?n.type="tuningrequest":t===r.MIDI_SYSTEM_MESSAGES.clock?n.type="clock":t===r.MIDI_SYSTEM_MESSAGES.start?n.type="start":t===r.MIDI_SYSTEM_MESSAGES.continue?n.type="continue":t===r.MIDI_SYSTEM_MESSAGES.stop?n.type="stop":t===r.MIDI_SYSTEM_MESSAGES.activesensing?n.type="activesensing":t===r.MIDI_SYSTEM_MESSAGES.reset?n.type="reset":n.type="unknownsystemmessage",this._userHandlers.system[n.type]&&this._userHandlers.system[n.type].forEach(function(e){e(n)})},o.prototype.send=function(e,t,n){if(!(128<=e&&e<=255))throw new RangeError("The status byte must be an integer between 128 (0x80) and 255 (0xFF).");void 0===t&&(t=[]),Array.isArray(t)||(t=[t]);var r=[];return t.forEach(function(e){var t=Math.floor(e);if(!(0<=t&&t<=255))throw new RangeError("Data bytes must be integers between 0 (0x00) and 255 (0xFF).");r.push(t)}),this._midiOutput.send([e].concat(r),parseFloat(n)||0),this},o.prototype.sendSysex=function(e,t,n){if(!r.sysexEnabled)throw new Error("Sysex message support must first be activated.");return n=n||{},e=[].concat(e),t.forEach(function(e){if(e<0||127<e)throw new RangeError("The data bytes of a sysex message must be integers between 0 (0x00) and 127 (0x7F).")}),t=e.concat(t,r.MIDI_SYSTEM_MESSAGES.sysexend),this.send(r.MIDI_SYSTEM_MESSAGES.sysex,t,this._parseTimeParameter(n.time)),this},o.prototype.sendTimecodeQuarterFrame=function(e,t){return t=t||{},this.send(r.MIDI_SYSTEM_MESSAGES.timecode,e,this._parseTimeParameter(t.time)),this},o.prototype.sendSongPosition=function(e,t){t=t||{};var n=(e=Math.floor(e)||0)>>7&127,a=127&e;return this.send(r.MIDI_SYSTEM_MESSAGES.songposition,[n,a],this._parseTimeParameter(t.time)),this},o.prototype.sendSongSelect=function(e,t){if(t=t||{},!(0<=(e=Math.floor(e))&&e<=127))throw new RangeError("The song number must be between 0 and 127.");return this.send(r.MIDI_SYSTEM_MESSAGES.songselect,[e],this._parseTimeParameter(t.time)),this},o.prototype.sendTuningRequest=function(e){return e=e||{},this.send(r.MIDI_SYSTEM_MESSAGES.tuningrequest,void 0,this._parseTimeParameter(e.time)),this},o.prototype.sendClock=function(e){return e=e||{},this.send(r.MIDI_SYSTEM_MESSAGES.clock,void 0,this._parseTimeParameter(e.time)),this},o.prototype.sendStart=function(e){return e=e||{},this.send(r.MIDI_SYSTEM_MESSAGES.start,void 0,this._parseTimeParameter(e.time)),this},o.prototype.sendContinue=function(e){return e=e||{},this.send(r.MIDI_SYSTEM_MESSAGES.continue,void 0,this._parseTimeParameter(e.time)),this},o.prototype.sendStop=function(e){return e=e||{},this.send(r.MIDI_SYSTEM_MESSAGES.stop,void 0,this._parseTimeParameter(e.time)),this},o.prototype.sendActiveSensing=function(e){return e=e||{},this.send(r.MIDI_SYSTEM_MESSAGES.activesensing,[],this._parseTimeParameter(e.time)),this},o.prototype.sendReset=function(e){return e=e||{},this.send(r.MIDI_SYSTEM_MESSAGES.reset,void 0,this._parseTimeParameter(e.time)),this},o.prototype.stopNote=function(e,t,n){if("all"===e)return this.sendChannelMode("allnotesoff",0,t,n);var a=64;return(n=n||{}).rawVelocity?!isNaN(n.velocity)&&0<=n.velocity&&n.velocity<=127&&(a=n.velocity):!isNaN(n.velocity)&&0<=n.velocity&&n.velocity<=1&&(a=127*n.velocity),this._convertNoteToArray(e).forEach(function(e){r.toMIDIChannels(t).forEach(function(t){this.send((r.MIDI_CHANNEL_MESSAGES.noteoff<<4)+(t-1),[e,Math.round(a)],this._parseTimeParameter(n.time))}.bind(this))}.bind(this)),this},o.prototype.playNote=function(e,t,n){var a,o=64;if((n=n||{}).rawVelocity?!isNaN(n.velocity)&&0<=n.velocity&&n.velocity<=127&&(o=n.velocity):!isNaN(n.velocity)&&0<=n.velocity&&n.velocity<=1&&(o=127*n.velocity),a=this._parseTimeParameter(n.time),this._convertNoteToArray(e).forEach(function(e){r.toMIDIChannels(t).forEach(function(t){this.send((r.MIDI_CHANNEL_MESSAGES.noteon<<4)+(t-1),[e,Math.round(o)],a)}.bind(this))}.bind(this)),!isNaN(n.duration)){n.duration<=0&&(n.duration=0);var i=64;n.rawVelocity?!isNaN(n.release)&&0<=n.release&&n.release<=127&&(i=n.release):!isNaN(n.release)&&0<=n.release&&n.release<=1&&(i=127*n.release),this._convertNoteToArray(e).forEach(function(e){r.toMIDIChannels(t).forEach(function(t){this.send((r.MIDI_CHANNEL_MESSAGES.noteoff<<4)+(t-1),[e,Math.round(i)],(a||r.time)+n.duration)}.bind(this))}.bind(this))}return this},o.prototype.sendKeyAftertouch=function(e,t,n,a){var o=this;if(a=a||{},t<1||16<t)throw new RangeError("The channel must be between 1 and 16.");(isNaN(n)||n<0||1<n)&&(n=.5);var i=Math.round(127*n);return this._convertNoteToArray(e).forEach(function(e){r.toMIDIChannels(t).forEach(function(t){o.send((r.MIDI_CHANNEL_MESSAGES.keyaftertouch<<4)+(t-1),[e,i],o._parseTimeParameter(a.time))})}),this},o.prototype.sendControlChange=function(e,t,n,a){if(a=a||{},"string"==typeof e){if(void 0===(e=r.MIDI_CONTROL_CHANGE_MESSAGES[e]))throw new TypeError("Invalid controller name.")}else if(!(0<=(e=Math.floor(e))&&e<=119))throw new RangeError("Controller numbers must be between 0 and 119.");if(!(0<=(t=Math.floor(t)||0)&&t<=127))throw new RangeError("Controller value must be between 0 and 127.");return r.toMIDIChannels(n).forEach(function(n){this.send((r.MIDI_CHANNEL_MESSAGES.controlchange<<4)+(n-1),[e,t],this._parseTimeParameter(a.time))}.bind(this)),this},o.prototype._selectRegisteredParameter=function(e,t,n){var a=this;if(e[0]=Math.floor(e[0]),!(0<=e[0]&&e[0]<=127))throw new RangeError("The control65 value must be between 0 and 127");if(e[1]=Math.floor(e[1]),!(0<=e[1]&&e[1]<=127))throw new RangeError("The control64 value must be between 0 and 127");return r.toMIDIChannels(t).forEach(function(){a.sendControlChange(101,e[0],t,{time:n}),a.sendControlChange(100,e[1],t,{time:n})}),this},o.prototype._selectNonRegisteredParameter=function(e,t,n){var a=this;if(e[0]=Math.floor(e[0]),!(0<=e[0]&&e[0]<=127))throw new RangeError("The control63 value must be between 0 and 127");if(e[1]=Math.floor(e[1]),!(0<=e[1]&&e[1]<=127))throw new RangeError("The control62 value must be between 0 and 127");return r.toMIDIChannels(t).forEach(function(){a.sendControlChange(99,e[0],t,{time:n}),a.sendControlChange(98,e[1],t,{time:n})}),this},o.prototype._setCurrentRegisteredParameter=function(e,t,n){var a=this;if((e=[].concat(e))[0]=Math.floor(e[0]),!(0<=e[0]&&e[0]<=127))throw new RangeError("The msb value must be between 0 and 127");return r.toMIDIChannels(t).forEach(function(){a.sendControlChange(6,e[0],t,{time:n})}),e[1]=Math.floor(e[1]),0<=e[1]&&e[1]<=127&&r.toMIDIChannels(t).forEach(function(){a.sendControlChange(38,e[1],t,{time:n})}),this},o.prototype._deselectRegisteredParameter=function(e,t){var n=this;return r.toMIDIChannels(e).forEach(function(){n.sendControlChange(101,127,e,{time:t}),n.sendControlChange(100,127,e,{time:t})}),this},o.prototype.setRegisteredParameter=function(e,t,n,a){var o=this;if(a=a||{},!Array.isArray(e)){if(!r.MIDI_REGISTERED_PARAMETER[e])throw new Error("The specified parameter is not available.");e=r.MIDI_REGISTERED_PARAMETER[e]}return r.toMIDIChannels(n).forEach(function(){o._selectRegisteredParameter(e,n,a.time),o._setCurrentRegisteredParameter(t,n,a.time),o._deselectRegisteredParameter(n,a.time)}),this},o.prototype.setNonRegisteredParameter=function(e,t,n,a){var o=this;if(a=a||{},!(0<=e[0]&&e[0]<=127&&0<=e[1]&&e[1]<=127))throw new Error("Position 0 and 1 of the 2-position parameter array must both be between 0 and 127.");return t=[].concat(t),r.toMIDIChannels(n).forEach(function(){o._selectNonRegisteredParameter(e,n,a.time),o._setCurrentRegisteredParameter(t,n,a.time),o._deselectRegisteredParameter(n,a.time)}),this},o.prototype.incrementRegisteredParameter=function(e,t,n){var a=this;if(n=n||{},!Array.isArray(e)){if(!r.MIDI_REGISTERED_PARAMETER[e])throw new Error("The specified parameter is not available.");e=r.MIDI_REGISTERED_PARAMETER[e]}return r.toMIDIChannels(t).forEach(function(){a._selectRegisteredParameter(e,t,n.time),a.sendControlChange(96,0,t,{time:n.time}),a._deselectRegisteredParameter(t,n.time)}),this},o.prototype.decrementRegisteredParameter=function(e,t,n){if(n=n||{},!Array.isArray(e)){if(!r.MIDI_REGISTERED_PARAMETER[e])throw new TypeError("The specified parameter is not available.");e=r.MIDI_REGISTERED_PARAMETER[e]}return r.toMIDIChannels(t).forEach(function(){this._selectRegisteredParameter(e,t,n.time),this.sendControlChange(97,0,t,{time:n.time}),this._deselectRegisteredParameter(t,n.time)}.bind(this)),this},o.prototype.setPitchBendRange=function(e,t,n,a){var o=this;if(a=a||{},!(0<=(e=Math.floor(e)||0)&&e<=127))throw new RangeError("The semitones value must be between 0 and 127");if(!(0<=(t=Math.floor(t)||0)&&t<=127))throw new RangeError("The cents value must be between 0 and 127");return r.toMIDIChannels(n).forEach(function(){o.setRegisteredParameter("pitchbendrange",[e,t],n,{time:a.time})}),this},o.prototype.setModulationRange=function(e,t,n,a){var o=this;if(a=a||{},!(0<=(e=Math.floor(e)||0)&&e<=127))throw new RangeError("The semitones value must be between 0 and 127");if(!(0<=(t=Math.floor(t)||0)&&t<=127))throw new RangeError("The cents value must be between 0 and 127");return r.toMIDIChannels(n).forEach(function(){o.setRegisteredParameter("modulationrange",[e,t],n,{time:a.time})}),this},o.prototype.setMasterTuning=function(e,t,n){var a=this;if(n=n||{},(e=parseFloat(e)||0)<=-65||64<=e)throw new RangeError("The value must be a decimal number larger than -65 and smaller than 64.");var o=Math.floor(e)+64,i=e-Math.floor(e),l=(i=Math.round((i+1)/2*16383))>>7&127,s=127&i;return r.toMIDIChannels(t).forEach(function(){a.setRegisteredParameter("channelcoarsetuning",o,t,{time:n.time}),a.setRegisteredParameter("channelfinetuning",[l,s],t,{time:n.time})}),this},o.prototype.setTuningProgram=function(e,t,n){var a=this;if(n=n||{},!(0<=(e=Math.floor(e))&&e<=127))throw new RangeError("The program value must be between 0 and 127");return r.toMIDIChannels(t).forEach(function(){a.setRegisteredParameter("tuningprogram",e,t,{time:n.time})}),this},o.prototype.setTuningBank=function(e,t,n){var a=this;if(n=n||{},!(0<=(e=Math.floor(e)||0)&&e<=127))throw new RangeError("The bank value must be between 0 and 127");return r.toMIDIChannels(t).forEach(function(){a.setRegisteredParameter("tuningbank",e,t,{time:n.time})}),this},o.prototype.sendChannelMode=function(e,t,n,a){if(a=a||{},"string"==typeof e){if(!(e=r.MIDI_CHANNEL_MODE_MESSAGES[e]))throw new TypeError("Invalid channel mode message name.")}else if(!(120<=(e=Math.floor(e))&&e<=127))throw new RangeError("Channel mode numerical identifiers must be between 120 and 127.");if((t=Math.floor(t)||0)<0||127<t)throw new RangeError("Value must be an integer between 0 and 127.");return r.toMIDIChannels(n).forEach(function(n){this.send((r.MIDI_CHANNEL_MESSAGES.channelmode<<4)+(n-1),[e,t],this._parseTimeParameter(a.time))}.bind(this)),this},o.prototype.sendProgramChange=function(e,t,n){var a=this;if(n=n||{},e=Math.floor(e),isNaN(e)||e<0||127<e)throw new RangeError("Program numbers must be between 0 and 127.");return r.toMIDIChannels(t).forEach(function(t){a.send((r.MIDI_CHANNEL_MESSAGES.programchange<<4)+(t-1),[e],a._parseTimeParameter(n.time))}),this},o.prototype.sendChannelAftertouch=function(e,t,n){var a=this;n=n||{},e=parseFloat(e),(isNaN(e)||e<0||1<e)&&(e=.5);var o=Math.round(127*e);return r.toMIDIChannels(t).forEach(function(e){a.send((r.MIDI_CHANNEL_MESSAGES.channelaftertouch<<4)+(e-1),[o],a._parseTimeParameter(n.time))}),this},o.prototype.sendPitchBend=function(e,t,n){var a=this;if(n=n||{},isNaN(e)||e<-1||1<e)throw new RangeError("Pitch bend value must be between -1 and 1.");var o=Math.round((e+1)/2*16383),i=o>>7&127,l=127&o;return r.toMIDIChannels(t).forEach(function(e){a.send((r.MIDI_CHANNEL_MESSAGES.pitchbend<<4)+(e-1),[l,i],a._parseTimeParameter(n.time))}),this},o.prototype._parseTimeParameter=function(e){var t,n=parseFloat(e);return"string"==typeof e&&"+"===e.substring(0,1)?n&&0<n&&(t=r.time+n):n>r.time&&(t=n),t},o.prototype._convertNoteToArray=function(e){var t=[];return Array.isArray(e)||(e=[e]),e.forEach(function(e){t.push(r.guessNoteNumber(e))}),t},e.exports?e.exports=r:t.WebMidi||(t.WebMidi=r)}(ss)});(zs=js||(js={}))[zs.STATUS=2]="STATUS",zs[zs.HANDSHAKE=3]="HANDSHAKE",zs[zs.WISH=4]="WISH",zs[zs.AMOUNT=5]="AMOUNT",zs[zs.BLOCK=6]="BLOCK",zs[zs.SECTION=7]="SECTION",zs[zs.PART=8]="PART",zs[zs.INDEX=9]="INDEX",zs[zs.NEW_VALUE=10]="NEW_VALUE",zs[zs.MSG_LENGTH=11]="MSG_LENGTH",zs[zs.WRITE=12]="WRITE",zs[zs.NOT_SUPPORTED=13]="NOT_SUPPORTED",zs[zs.READ=14]="READ",zs[zs.UART_INTERFACE_ALLOCATED=80]="UART_INTERFACE_ALLOCATED",zs[zs.UKNOWN_ERROR=704]="UKNOWN_ERROR",zs[zs.UI_QUEUE_REQ_ID_CONFLICT=711]="UI_QUEUE_REQ_ID_CONFLICT",zs[zs.UI_QUEUE_REQ_DATA_MISSING=712]="UI_QUEUE_REQ_DATA_MISSING",zs[zs.UI_QUEUE_REQ_ALREADY_ACTIVE=713]="UI_QUEUE_REQ_ALREADY_ACTIVE",zs[zs.UI_QUEUE_REQ_NONE_ACTIVE=714]="UI_QUEUE_REQ_NONE_ACTIVE",zs[zs.UI_QUEUE_SPECIAL_REQ_ID_MISMATCH=715]="UI_QUEUE_SPECIAL_REQ_ID_MISMATCH",zs[zs.UI_QUEUE_REQUEST_DECODE_ERROR=716]="UI_QUEUE_REQUEST_DECODE_ERROR",zs[zs.UI_QUEUE_REQUEST_SEND_ERROR=717]="UI_QUEUE_REQUEST_SEND_ERROR",zs[zs.UI_QUEUE_REQ_DATA_INVALID=718]="UI_QUEUE_REQ_DATA_INVALID",zs[zs.UI_QUEUE_REQ_TIMED_OUT=719]="UI_QUEUE_REQ_TIMED_OUT",zs[zs.UI_QUEUE_EMBEDED_RESPONSE_MISMATCH=720]="UI_QUEUE_EMBEDED_RESPONSE_MISMATCH";const Ks={code:704,description:"Missing error description (READ error)."},Xs={704:Ks,2:{code:2,description:"This error happens when MESSAGE_STATUS isn't REQUEST (0) in request."},3:{code:3,description:"This error is returned when request is correct, but handshake request hasn't been sent to board (or SysEx connection has been closed)."},4:{code:4,description:"This error is returned when WISH is anything other than GET, SET or BACKUP."},5:{code:5,description:"This error is returned when AMOUNT is anything other than SINGLE or ALL."},6:{code:6,description:"This error is returned when BLOCK byte is incorrect."},7:{code:7,description:"This error is returned when SECTION byte is incorrect."},8:{code:8,description:"This error is returned when message part is incorrect."},9:{code:9,description:"This error is returned when wanted parameter is incorrect."},10:{code:10,description:"This error is returned when NEW_VALUE is incorrect."},11:{code:11,description:"This error is returned when request is too short."},12:{code:12,description:"This error is returned when writing new value to board has failed. This can happen if EEPROM on board is damaged (less likely) or if new value is incorrect (more likely)."},13:{code:13,description:"This error is returned when X is not supported by the board."},80:{code:80,description:"This error is returned when other peripheral already allocated wanted interface."},14:{code:14,description:"Missing error description (READ error)."},711:{code:711,description:"A Qeue Request tried to acquire next increment ID but it was already used by another request."},712:{code:712,description:"Could not start request, no request found for passed id."},713:{code:713,description:"A Qeue Request was found already active upon starting."},714:{code:714,description:"No Request active in Qeue upon receiving a MIDI response."},715:{code:715,description:"Request did not match specialRequestId event data payload"},716:{code:716,description:"Failed to decode request data."},717:{code:717,description:"Failed to send request."},718:{code:718,description:"Invalid request data."},719:{code:719,description:"Request sent but timed out."},720:{code:720,description:"Received a request not matching the active one."}},Qs=e=>Xs[e]||Ks,Zs=[{name:"Midisaxo Pico (RP2040)",id:[57,14,62,98],oldId:[],firmwareFileName:null},{name:"Midisaxo XIAO RP2040",id:[22,121,39,83],oldId:[],firmwareFileName:null},{name:"Midisaxo XIAO RP2040 (Convenience)",id:[47,46,49,66],oldId:[],firmwareFileName:null},{name:"Arduino Leonardo",id:[1,58,76,24],oldId:[1,52,50,124],firmwareFileName:null},{name:"Arduino Mega",id:[9,16,0,18],oldId:[1,16,0,18],firmwareFileName:null},{name:"Arduino Pro Micro",id:[1,107,33,98],oldId:[1,5,13,73],firmwareFileName:null},{name:"Arduino Uno",id:[1,67,14,63],oldId:[1,11,120,50],firmwareFileName:null},{name:"Teensy++ 2.0",id:[112,11,64,30],oldId:[1,11,64,30],firmwareFileName:"teensy2pp.sysex"},{name:"DubFocus v1",id:[],oldId:[1,92,109,93],firmwareFileName:null},{name:"DubFocus 12",id:[85,74,109,41],oldId:[],firmwareFileName:"dubfocus12.sysex"},{name:"DubFocus 16",id:[61,70,72,25],oldId:[],firmwareFileName:"dubfocus16.sysex"},{name:"STM32F4 Discovery",id:[43,19,68,122],oldId:[],firmwareFileName:"discovery.sysex"},{name:"Jamiel",id:[1,12,108,80],oldId:[1,78,126,38],firmwareFileName:null},{name:"Cardamom",id:[99,82,54,48],oldId:[],firmwareFileName:"cardamom.sysex"},{name:"OpenDeck M v2",id:[122,56,41,19],oldId:[],firmwareFileName:"opendeck2.sysex"},{name:"OpenDeck M v1",id:[1,112,51,106],oldId:[1,91,42,85],firmwareFileName:null},{name:"Rooibos",id:[120,82,29,13],oldId:[],firmwareFileName:"rooibos.sysex"},{name:"Bergamot",id:[48,106,107,21],oldId:[],firmwareFileName:"bergamot.sysex"},{name:"DubFocus 16C",id:[44,111,98,103],oldId:[],firmwareFileName:"dubfocus16c.sysex"},{name:"OpenDeck S v1",id:[62,78,115,114],oldId:[],firmwareFileName:"opendeck_s.sysex"},{name:"BlackPill F401CC",id:[114,110,70,97],oldId:[],firmwareFileName:"blackpill401cc.sysex"},{name:"BlackPill F401CE",id:[122,28,101,39],oldId:[],firmwareFileName:"blackpill401ce.sysex"},{name:"BlackPill F411",id:[18,87,110,75],oldId:[],firmwareFileName:"blackpill411.sysex"},{name:"OpenDeck L v3A",id:[51,64,66,79],oldId:[],firmwareFileName:"opendeck3a.sysex"},{name:"OpenDeck L v3B",id:[70,68,60,41],oldId:[],firmwareFileName:"opendeck3b.sysex"},{name:"nRF52840DK",id:[79,4,3,17],oldId:[],firmwareFileName:"nrf52840dk.sysex"},{name:"Raspberry Pi Pico",id:[59,72,34,30],oldId:[],firmwareFileName:"pico.sysex"},{name:"OpenDeck M v2.1",id:[78,103,95,35],oldId:[],firmwareFileName:"opendeck21.sysex"},{name:"OpenDeck L v3.1",id:[9,65,127,60],oldId:[],firmwareFileName:"opendeck31.sysex"},{name:"OpenDeck M v2.2",id:[61,65,31,7],oldId:[],firmwareFileName:"opendeck22.sysex"},{name:"DubFocus 12SR",id:[67,39,10,25],oldId:[],firmwareFileName:"dubfocus12sr.sysex"},{name:"Arduino Nano 33 BLE",id:[33,108,99,106],oldId:[],firmwareFileName:"nano33ble.sysex"},{name:"Adafruit ItsyBitsy nRF52840 Express",id:[59,48,3,95],oldId:[],firmwareFileName:"af_ib_nrf52840.sysex"},{name:"DubFocus 16T",id:[48,49,96,25],oldId:[],firmwareFileName:"dubfocus16t.sysex"}],Ys=(e,t,n)=>{const r=xt(!0),a=st(Pd(e,t)),o=()=>{const e=rp.isConnected;return e&&"object"==typeof e&&"value"in e?!!e.value:!!e},i=async(e,t,n)=>{if((Vf.state.boardName||"").toLowerCase().includes("midisaxo xiao rp2040")&&(Vf.state.numberOfComponents?.[Sl.Touchscreen]||0)>0){if(e===Sl.Global&&"dinMidiState"===t){const e=n?0:1;return void await Vf.actions.setComponentSectionValue({block:Sl.Touchscreen,section:0,index:0,value:e},()=>{}).catch(()=>{})}if(e===Sl.Touchscreen&&"enableTouchscreen"===t){const e=n?0:1;await Vf.actions.setComponentSectionValue({block:Sl.Global,section:0,index:3,value:e},()=>{}).catch(()=>{})}}},l=Vf.actions.getFilteredSectionsForBlock(e,t),s=async()=>{if(!o())return void(r.value=!1);r.value=!0;const i=t===Ql.Value&&n?n.value:void 0;try{const n=await Vf.actions.getComponentSettings(e,t,i);Object.assign(a,n)}catch(e){return cf.error("ERROR WHILE LOADING FORM DATA",e),void(r.value=!1)}$s(100).then(()=>r.value=!1)},u=async(t,n,l)=>{if(!r.value){if(!o())return a[t]=n.value,void(l&&l(n.value));a[t]=n.value,l&&l(n.value),r.value=!0;try{await Vf.actions.setComponentSectionValue(n,()=>{}),await i(e,t,n.value),$s(100).then(()=>r.value=!1),l&&l(n.value)}catch(e){cf.error("ERROR WHILE SAVING SETTING DATA",e),await s()}}};return Tn(()=>{if(o())return s();r.value=!1}),un(()=>o(),e=>{e&&s()}),n&&un([n],()=>n&&n.value&&s()),{formData:a,loading:r,loadData:s,onSettingChange:t=>{const{key:n,value:r,section:a,settingIndex:o,onLoad:i}=t;return u(n,{block:e,section:a,index:o,value:r},i)},onValueChange:t=>{const{key:r,value:a,section:o,onLoad:i}=t,l={block:e,section:o,index:n.value,value:a};return u(r,l,i)},showField:e=>e&&(!e.showIf||e.showIf(a)),sections:l,blockDefinition:Rd[e]}},Js=e=>{const t=xt(null),n=()=>t.value=(new Date).getTime();return{isHighlighted:Aa(()=>{const r=e.value&&t.value-e.value<250;return r&&$s(10).then(n),r})}},eu=(e,t)=>()=>{if(!window.confirm(e))return!1;t()};var tu=(e,t,n)=>Ss(e,t,n)<0;var nu=(e,t,n=!1)=>{if(e instanceof Cs)return e;try{return new Cs(e,t)}catch(e){if(!n)return null;throw e}};var ru=(e,t)=>{const n=nu(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null};const au=e=>{const t=[];for(let n=e.startIndex;n<=e.endIndex;n++)t.push(n);return{...e,indexArray:t}};var ou=mn({name:"AnalogModeSummary",setup(){const{isConnected:e}=$f,t=xt(!1),n=xt(""),r=xt({}),a=xt(null),o=async()=>{if(e.value&&!t.value){t.value=!0,n.value="";try{const[e,t,n,o]=await Promise.all([Vf.actions.getComponentSettings(Sl.Global,Ql.Setting).catch(()=>null),Vf.actions.getComponentSettings(Sl.Analog,Ql.Value,0).catch(()=>null),Vf.actions.getComponentSettings(Sl.Analog,Ql.Value,1).catch(()=>null),Vf.actions.getComponentSettings(Sl.Analog,Ql.Value,2).catch(()=>null)]);a.value=e,r.value={0:t,1:n,2:o}}catch{n.value="   (/ )"}finally{t.value=!1}}};un(()=>e.value,e=>{e?o():(r.value={},a.value=null,n.value="")},{immediate:!0});const i=Aa(()=>!!(a.value||{}).saxBreathControllerEnable),l=e=>{if(!e)return"?";if(!(1===Number(e.enabled)))return"OFF";const t=Number(e.type);if(t===Il.PitchBend)return"PB";if(t===Il.Reserved)return"RES";if(t===Il.ControlChange7Bit){const t=Number(e.midiIdLSB);return 1===t?"MOD":2===t?"CC2":11===t?"CC11":`CC${Number.isFinite(t)?t:"?"}`}return`T${Number.isFinite(t)?t:"?"}`},s=Aa(()=>{const e=r.value[0],t=r.value[1],n=r.value[2];return`${l(e)} / ${l(t)} / ${l(n)}`}),u=Aa(()=>{const e=r.value[0],t=r.value[1],n=r.value[2];return!!e&&!!t&&!!n&&1===Number(e.enabled)&&Number(e.type)===Il.ControlChange7Bit&&2===Number(e.midiIdLSB)&&1===Number(t.enabled)&&Number(t.type)===Il.ControlChange7Bit&&11===Number(t.midiIdLSB)&&1===Number(n.enabled)&&Number(n.type)===Il.PitchBend}),c=Aa(()=>{const e=r.value[1],t=r.value[2];return!!e&&!!t&&1===Number(e.enabled)&&Number(e.type)===Il.PitchBend&&1===Number(t.enabled)&&Number(t.type)===Il.Reserved}),d=Aa(()=>{if(!e.value)return{badgeText:" ",badgeClass:"border-gray-700 text-gray-300",detailsText:"      ."};if(u.value){const e=i.value?" Analog CC2/CC11/PB   .\n Sax Breath CC     CC   . (Sax Breath Controller OFF )":" Analog CC2/CC11/PB   .\nSax Breath CC   OFF  .";return{badgeText:"Analog  (CC2/CC11/PB)",badgeClass:i.value?"border-red-500/60 text-red-300":"border-green-500/60 text-green-300",detailsText:e}}return c.value?{badgeText:"  PB (+ amount)",badgeClass:"border-green-500/60 text-green-300",detailsText:"Analog #2 Reserved       (  )    .\n Analog #2  Pitch Bend   ."}:i.value?{badgeText:"Sax Breath Controller",badgeClass:"border-yellow-500/60 text-yellow-300",detailsText:"Sax Breath Controller CC  .\n(Analog CC2/CC11       )"}:{badgeText:"",badgeClass:"border-gray-700 text-gray-300",detailsText:"    . Analog 1~3  ."}});return{isConnected:e,modeStatusLoading:t,modeStatusError:n,refreshModeStatus:o,breathSenderEnabled:i,analogSummaryText:s,currentMode:d}}});const iu={key:0,class:"surface-neutral border border-gray-700/60 rounded px-4 py-3 mb-4 text-sm"},lu={class:"mt-2 flex flex-wrap items-center gap-2 text-xs"},su={class:"font-mono text-gray-300"},uu={key:0,class:"mt-2 text-xs text-gray-300 whitespace-pre-line"},cu={class:"mt-3 flex flex-wrap items-center gap-2"},du=["disabled"],pu={key:0,class:"text-xs text-red-300"};ou.render=function(e,t,n,r,a,o){return e.isConnected?(Yr(),na("div",iu,[t[4]||(t[4]=sa("div",{class:"text-gray-200 font-semibold"}," ",-1)),sa("div",lu,[sa("span",{class:H(["px-2 py-0.5 rounded border",e.currentMode.badgeClass])},X(e.currentMode.badgeText),3),t[1]||(t[1]=sa("span",{class:"text-gray-400"},"Sax Breath CC  :",-1)),sa("span",{class:H(["font-mono",e.breathSenderEnabled?"text-yellow-300":"text-gray-300"])},X(e.breathSenderEnabled?"ON":"OFF"),3),t[2]||(t[2]=sa("span",{class:"text-gray-500"},"|",-1)),t[3]||(t[3]=sa("span",{class:"text-gray-400"},"Analog 1~3:",-1)),sa("span",su,X(e.analogSummaryText),1)]),e.currentMode.detailsText?(Yr(),na("div",uu,X(e.currentMode.detailsText),1)):fa("",!0),sa("div",cu,[sa("button",{class:"px-2 py-1 border border-gray-700 rounded text-xs text-gray-200 hover:border-gray-500",disabled:e.modeStatusLoading,onClick:t[0]||(t[0]=Eo((...t)=>e.refreshModeStatus&&e.refreshModeStatus(...t),["prevent"]))},X(e.modeStatusLoading?"...":" "),9,du),e.modeStatusError?(Yr(),na("span",pu,X(e.modeStatusError),1)):fa("",!0)])])):fa("",!0)};const fu=1002,gu=1001;var hu=mn({name:"AnalogForm",components:{AnalogModeSummary:ou},props:{block:{required:!0,type:Number},gridCols:{default:3,type:Number}},setup(e){const{numberOfComponents:t,outputId:n}=$f,r=Aa(()=>Number(jL.currentRoute.value.params.index)),{formData:a,loading:o,onValueChange:i,showField:l,sections:s,blockDefinition:u}=Ys(e.block,Ql.Value,r),c=Aa(()=>{const e=Number(a.type),t=Number(a.midiIdLSB),n=Number(a.midiIdMSB);return e===Il.ControlChange7Bit&&0===n&&1===t?gu:e===Il.ControlChange7Bit&&0===n&&2===t?fu:e===Il.ControlChange7Bit&&0===n&&11===t?1011:e}),d=async(e,t,n)=>{await i({key:e,section:t,value:n})};return{outputId:n,numberOfComponents:t,index:r,formData:a,loading:o,onValueChange:i,showField:l,sections:s,blockDefinition:u,uiAnalogType:c,onAnalogTypeChange:async e=>{const t=Number(e?.value);if(Number.isFinite(t)){if(t===gu||t===fu||1011===t){await d("enabled",0,1),await d("type",2,Il.ControlChange7Bit);let e=11;t===gu?e=1:t===fu&&(e=2),await d("midiIdLSB",3,e),await d("midiIdMSB",4,0);try{await Vf.actions.setComponentSectionValue({block:Sl.Global,section:2,index:6,value:0},()=>{})}catch{}return}return i(e)}}}}});const mu={class:"w-full section-heading"},vu={class:"section-heading-inner flex"},yu={class:"mr-6 text-gray-400"},bu={class:"hidden md:block md:flex-grow text-right"},Lu={class:"section-content"};hu.render=function(e,t,n,r,a,o){const i=Vn("router-link"),l=Vn("Siblinks"),s=Vn("SpinnerOverlay"),u=Vn("AnalogModeSummary"),c=Vn("FormField");return Yr(),na("form",{class:"relative section",novalidate:"",onSubmit:t[0]||(t[0]=Eo(()=>{},["prevent"]))},[sa("h1",mu,[sa("div",vu,[ua(i,{class:"mr-6",to:{name:e.blockDefinition.routeName}},{default:nn(()=>[sa("h2",null,X(e.blockDefinition.title)+"s",1)]),_:1},8,["to"]),t[1]||(t[1]=sa("span",{class:"mr-6"},"",-1)),sa("div",yu,[da(X(e.blockDefinition.title)+" ",1),sa("strong",null,X(e.index),1)]),sa("div",bu,[ua(l,{"param-key":"index",current:e.index,total:e.numberOfComponents[e.block],params:{outputId:e.outputId}},null,8,["current","total","params"])])])]),e.loading?(Yr(),ra(s,{key:0})):fa("",!0),sa("div",Lu,[ua(u),sa("div",{class:H(["form-grid",`lg:grid-cols-${e.gridCols}`])},[(Yr(!0),na(zr,null,jn(e.sections,t=>(Yr(),na(zr,null,[e.showField(t)?(Yr(),ra(c,{key:t.key,class:H(`col-span-${t.colspan||1}`),value:"type"===t.key?e.uiAnalogType:e.formData[t.key],"field-definition":t,onModified:n=>"type"===t.key?e.onAnalogTypeChange:e.onValueChange},null,8,["class","value","field-definition","onModified"])):fa("",!0)],64))),256))],2)])],32)};var xu=mn({name:"DeviceGrid",props:{index:{required:!0,type:Number},outputId:{required:!0,type:String},routeName:{required:!0,type:String},highlight:{default:null,type:Number}},setup(e){const{highlight:t}=Et(e);return{...Js(t)}}});xu.render=function(e,t,n,r,a,o){const i=Vn("ButtonLink");return Yr(),ra(i,{to:{name:e.routeName,params:{outputId:e.outputId,index:e.index}},class:H({"btn-highlight":e.isHighlighted})},{default:nn(()=>[zn(e.$slots,"default")]),_:3},8,["to","class"])};const wu=e=>{const t=(e=>{const t=(e||"").trim();if(!t)return[];const n=t.replace(/\.{3,}/g,"").replace(//g,"").replace(/,/g," ").replace(/\n/g," ").replace(/\t/g," ").replace(/\s+/g," ").trim();if(/^[0-9a-fA-F]+$/.test(n)&&n.length>=2&&n.length%2==0){const e=[];for(let t=0;t<n.length;t+=2)e.push(n.slice(t,t+2));return e}return n.split(" ").filter(Boolean)})(e);if(!t.length)return{bytes:[]};const n=[];for(const e of t){const t=e.toLowerCase().startsWith("0x")?e.slice(2):e;if(!/^[0-9a-fA-F]{1,2}$/.test(t))return{bytes:[],error:` HEX : '${e}' (: F0  0xF0)`};const r=parseInt(t,16);if(Number.isNaN(r)||r<0||r>255)return{bytes:[],error:`HEX   : '${e}'`};n.push(r)}return{bytes:n}},Cu=e=>(255&e).toString(16).toUpperCase().padStart(2,"0"),Su=e=>{if(!e.length)return{error:"HEX  ."};const t=(e=>{const t=[];for(let n=0;n<e.length;){const r=255&e[n];if(r>=248){t.push({kind:"realtime",status:r}),n+=1;continue}if(r<128||r>239)return`   : ${Cu(r)} (: 8n/9n/Bn/Cn  RealTime)`;const a=1+(15&r),o=240&r;if(192!==o&&208!==o){if(n+2>=e.length)return` : ${Cu(r)} ( 2 )`;t.push({kind:"channel",status:r,channel:a,type:o,data1:127&e[n+1],data2:127&e[n+2]}),n+=3}else{if(n+1>=e.length)return` : ${Cu(r)} ( 1 )`;t.push({kind:"channel",status:r,channel:a,type:o,data1:127&e[n+1]}),n+=2}}return t})(e);if("string"==typeof t)return{error:t};const n=t;if(1===n.length&&"realtime"===n[0].kind)switch(n[0].status){case 248:return{messageType:Ml.RealTimeClock};case 250:return{messageType:Ml.RealTimeStart};case 251:return{messageType:Ml.RealTimeContinue};case 252:return{messageType:Ml.RealTimeStop};case 254:return{messageType:Ml.RealTimeActiveSensing};case 255:return{messageType:Ml.RealTimeSystemReset};default:return{error:`  1 : ${Cu(n[0].status)} (: F8/FA/FB/FC/FE/FF)`}}const r=n.filter(e=>"channel"===e.kind);if(Array.from(new Set(r.map(e=>e.channel))).length>1)return{error:"    . (   )"};const a=r.filter(e=>192===e.type),o=r.filter(e=>176===e.type);if(1===a.length&&(o.length>=1||e.length>2)){const e=a[0].channel,t=127&a[0].data1;let n=0,r=0;for(const t of o)t.channel===e&&(0===t.data1&&"number"==typeof t.data2&&(n=127&t.data2),32===t.data1&&"number"==typeof t.data2&&(r=127&t.data2));if(o.some(e=>0===e.data1||32===e.data1)){const a=n<<7|r;return{messageType:Ml.BankSelectProgramChange,midiChannel:e,midiId:t,value:a}}}if(1!==r.length||1!==n.length)return{error:"  .  Bank Select(CC0/CC32)+PC  ."};const i=r[0];if(192===i.type)return{messageType:Ml.ProgramChange,midiChannel:i.channel,midiId:127&i.data1};if(128===i.type)return{messageType:Ml.NoteOffOnly,midiChannel:i.channel,midiId:i.data1};if(144===i.type){const e=i.data2??0;return 0===e?{messageType:Ml.NoteOffOnly,midiChannel:i.channel,midiId:i.data1}:{messageType:Ml.Note,midiChannel:i.channel,midiId:i.data1,value:e}}return 176===i.type?{messageType:Ml.ControlChange,midiChannel:i.channel,midiId:i.data1,value:i.data2??0}:{error:` HEX  Note(8n/9n), CC(Bn), PC(Cn), Bank Select(CC0/CC32)+PC, RealTime . (: ${e.map(Cu).join(" ")})`}};var ku=mn({name:"DeviceTableComponentRow",props:{formData:{type:Object,default:()=>({})},showField:{required:!0,type:Function},onValueChange:{required:!0,type:Function},index:{required:!0,type:Number},sections:{required:!0,type:Object},highlight:{type:Number,default:null}},setup(e){const{highlight:t}=Et(e),n=xt(""),r=xt(null),a=xt("HEX     . (Note/CC/PC/RealTime  )"),o=xt(!1),i=()=>{const e=$f.isConnected;return e&&"object"==typeof e&&"value"in e?!!e.value:!!e},l=async(t,n,r)=>{e.formData[t]=r,await Vf.actions.setComponentSectionValue({block:Sl.Button,section:n,index:e.index,value:r},()=>{})},s=async()=>{r.value=null;const t=wu(n.value);if(t.error)return void(r.value=t.error);const s=Su(t.bytes);if("error"in s)r.value=s.error;else{if(e.formData.messageType=s.messageType,"number"==typeof s.midiChannel&&(e.formData.midiChannel=s.midiChannel),"number"==typeof s.midiId&&(e.formData.midiId=s.midiId),"number"==typeof s.value&&(e.formData.value=s.value),!i())return o.value=!0,void(a.value="   .   ( ).");try{await l("messageType",1,s.messageType),"number"==typeof s.midiChannel&&await l("midiChannel",4,s.midiChannel),"number"==typeof s.midiId&&await l("midiId",2,s.midiId),"number"==typeof s.value&&await l("value",3,s.value),a.value="."}catch(e){const t=e instanceof Error?e.message:"string"==typeof e?e:JSON.stringify(e);r.value=" . /(WebMIDI)  ."+(t?` (${t})`:"")}}};return un(()=>i(),async e=>{e&&o.value&&(o.value=!1,await s())}),{...Js(t),rawMidiText:n,rawMidiError:r,rawMidiHelpText:a,applyRawMidiText:s}}});const Iu={class:"form-table-row"},Eu=["name"],Mu={key:0,class:"help-text"},_u={key:1,class:"error-message text-red-500"};ku.render=function(e,t,n,r,a,o){const i=Vn("FormField");return Yr(),na("div",Iu,[sa("div",null,[sa("span",{class:H(["btn",{"btn-highlight":e.isHighlighted}])},X(e.index),3)]),(Yr(!0),na(zr,null,jn(e.sections,n=>(Yr(),na(zr,null,["rawMidiHex"===n.key&&e.showField(n,e.formData)?(Yr(),na("div",{key:`${e.index}-raw-midi-hex`,class:H(["form-field",{error:!!e.rawMidiError}])},[t[2]||(t[2]=sa("label",{class:"label"},[da(" MIDI (HEX) "),sa("small",{class:"instructions"},"Note/CC/PC/RealTime")],-1)),rn(sa("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.rawMidiText=t),class:"form-input mt-1 py-1 text-sm block w-full",type:"text",name:`rawMidiHex-${e.index}`,placeholder:": 90 3C 7F / B0 07 40 / C0 10 / FA",onChange:t[1]||(t[1]=(...t)=>e.applyRawMidiText&&e.applyRawMidiText(...t))},null,40,Eu),[[yo,e.rawMidiText]]),e.rawMidiHelpText?(Yr(),na("p",Mu,X(e.rawMidiHelpText),1)):fa("",!0),e.rawMidiError?(Yr(),na("p",_u,X(e.rawMidiError),1)):fa("",!0)],2)):e.showField(n,e.formData)?(Yr(),ra(i,{key:n.key,index:e.index,value:e.formData[n.key],"field-definition":n,onModified:e.onValueChange},null,8,["index","value","field-definition","onModified"])):fa("",!0)],64))),256))])};var Tu=mn({name:"DeviceGrid",components:{DeviceGridButton:xu,DeviceTableComponentRow:ku},props:{title:{default:"",type:String},block:{required:!0,type:Number},segmentGrid:{type:Boolean,default:!1},routeName:{required:!0,type:String}},setup(e){const{outputId:t,setViewSetting:n,showMsbControls:r,numberOfComponents:a}=$f,{highlights:o}=uf,{block:i,segmentGrid:l}=Et(e),s=l.value?((e,t)=>{const n=Aa(()=>e.value[Sl.Button]||0),r=Aa(()=>e.value[Sl.Analog]||0),a=Aa(()=>e.value[Sl.Led]||0),o=Aa(()=>e.value[Sl.Touchscreen]||0);return Aa(()=>{const e=[];switch(t.value){case Sl.Button:tu(ru(os.firmwareVersion),"5.4.0")||ks(ru(os.firmwareVersion),"6.5.0")?(e.push({title:"Buttons",startIndex:0,endIndex:n.value-r.value-o.value-1}),r.value>0&&e.push({title:"Analog",startIndex:n.value-r.value-o.value,endIndex:n.value-r.value-o.value+r.value-1}),o.value>0&&e.push({title:"Touchscreen",startIndex:n.value-r.value+r.value-o.value,endIndex:n.value-r.value+r.value-1})):(e.push({title:"Buttons",startIndex:0,endIndex:n.value-r.value-1},{title:"Analog",startIndex:n.value-r.value,endIndex:n.value-r.value+r.value-o.value-1}),o.value>0&&e.push({title:"Touchscreen",startIndex:n.value-r.value+r.value-o.value,endIndex:n.value-r.value+r.value-1}));break;case Sl.Analog:tu(ru(os.firmwareVersion),"5.4.0")||ks(ru(os.firmwareVersion),"6.5.0")?e.push({title:"Analog",startIndex:0,endIndex:r.value-1}):e.push({title:"Analog",startIndex:0,endIndex:r.value-o.value-1},{title:"Touchscreen",startIndex:r.value-o.value,endIndex:r.value-1});break;case Sl.Led:e.push({title:"LED",startIndex:0,endIndex:a.value-o.value-1},{title:"Touchscreen",startIndex:a.value-o.value,endIndex:a.value-1})}return e.map(au)})})(a,i):void 0,{componentCount:u,indexRange:c,pages:d,pageSizes:p,sections:f,viewSetting:g}=(e=>{const t=Aa(()=>Vf.state.viewSettings[e]),n=Aa(()=>Vf.state.numberOfComponents[e]||0),r=Aa(()=>Math.ceil(n.value/t.value.itemsPerPage)),a=Aa(()=>(t.value.currentPage-1)*t.value.itemsPerPage),o=Aa(()=>a.value+t.value.itemsPerPage),i=Aa(()=>o.value>n.value?n.value:o.value),l=[16,32,56,112],s=Aa(()=>l.filter(e=>e<n.value)),u=Aa(()=>{const e=[];for(let t=a.value;t<i.value;t++)e.push(t);return e}),c=Aa(()=>{const n=Rd[e].sections;return t.value.viewListAsTable&&e===Sl.Button?{RawMidiHex:{showIf:()=>!0,block:Sl.Button,key:"rawMidiHex",type:Ql.Value,section:-1,component:dl.Input,label:"MIDI (HEX)",helpText:"HEX     . (Note/CC/PC/RealTime  SysEx(F0..F7)  )"},...n}:n});return{componentCount:n,indexRange:u,pages:r,pageSizes:s,sections:c,viewSetting:t}})(i.value),{columnViewData:h,loading:m,showField:v,onValueChange:y}=((e,t)=>{const n=xt(!1),r=Pd(e,Ql.Value),a=st({}),o=Aa(()=>!!t.value.viewListAsTable),i=async()=>{if(2!==Vf.state.valueSize||!o.value)return void(n.value=!1);n.value=!0;const t=await Vf.actions.getSectionValues(e);Object.keys(t).forEach(e=>{t[e].forEach((t,n)=>{a[n]||(a[n]={...r}),a[n][e]=t})}),$s(100).then(()=>n.value=!1)};return Tn(()=>i()),un([o],()=>o.value&&i()),{columnViewData:a,loading:n,loadData:i,showField:(e,t)=>e&&(!e.showIf||e.showIf(t)),onValueChange:t=>{const{key:r,value:o,section:l,index:s,onLoad:u}=t,c={block:e,section:l,index:s,value:o};if(!n.value)return n.value=!0,Vf.actions.setComponentSectionValue(c,()=>{a[s][r]=c.value,$s(100).then(()=>n.value=!1),u&&u(c.value)}).catch(e=>(cf.error("ERROR WHILE SAVING SETTING DATA",e),i()))}}})(i.value,g);return{outputId:t,highlights:o,columnViewData:h,loading:m,showField:v,onValueChange:y,setViewSetting:n,componentCount:u,viewSetting:g,indexRange:c,pages:d,pageSizes:p,sections:f,showMsbControls:r,segments:s}}});const Nu={class:"section-heading"},Du={key:0,class:"section-heading-inner text-center"},Ru={key:0,class:"section-heading"},Pu={class:"section-heading-inner-sm clearfix"},Au={class:""},Ou={key:0,class:"ml-6 float-right"},Fu=["onClick"],Bu={key:1,class:"ml-6 mt-4 md:mt-0 float-right"},Uu=["onClick"],Vu={class:"form-table"},$u={key:2,class:"device-grid"},Gu={class:"text-xl font-bold"},Hu={key:3,class:"text-center text-gray-400 py-8"},qu={class:"section-heading text-center"},ju={class:"section-heading-inner-sm"},zu={class:"device-grid"},Wu={class:"text-xl font-bold"};Tu.render=function(e,t,n,r,a,o){const i=Vn("SpinnerOverlay"),l=Vn("DeviceTableComponentRow"),s=Vn("DeviceGridButton");return Yr(),na("div",{class:H(["section",{wide:e.viewSetting.viewListAsTable}])},[sa("div",Nu,[e.title?(Yr(),na("h2",Du,X(e.title),1)):fa("",!0)]),e.showMsbControls?fa("",!0):(Yr(),na("div",Ru,[sa("div",Pu,[sa("span",Au,[sa("span",{class:H(["btn btn-xs mr-2",{"btn-active":!e.viewSetting.viewListAsTable}]),onClick:t[0]||(t[0]=t=>e.setViewSetting(e.block,{viewListAsTable:!1}))}," Grid ",2),sa("span",{class:H(["btn btn-xs",{"btn-active":e.viewSetting.viewListAsTable}]),onClick:t[1]||(t[1]=t=>e.setViewSetting(e.block,{viewListAsTable:!0}))}," Table ",2)]),e.viewSetting.viewListAsTable&&e.pageSizes.length?(Yr(),na("span",Ou,[t[3]||(t[3]=sa("span",{class:"text-xs"},"Show",-1)),(Yr(!0),na(zr,null,jn(e.pageSizes,t=>(Yr(),na("span",{key:`page-size-${t}`,class:H(["btn btn-xs ml-1",{"btn-active":t===e.viewSetting.itemsPerPage}]),onClick:n=>e.setViewSetting(e.block,{itemsPerPage:t})},X(t),11,Fu))),128))])):fa("",!0),e.viewSetting.viewListAsTable&&e.pages>1?(Yr(),na("span",Bu,[t[4]||(t[4]=sa("span",{class:"text-xs ml-4"},"Page",-1)),(Yr(!0),na(zr,null,jn(e.pages,t=>(Yr(),na("span",{key:`page-size-${t}`,class:H(["btn btn-xs ml-1",{"btn-active":t===e.viewSetting.currentPage}]),onClick:n=>e.setViewSetting(e.block,{currentPage:t})},X(t),11,Uu))),128))])):fa("",!0)])])),e.viewSetting.viewListAsTable?(Yr(),na("form",{key:1,class:"relative",novalidate:"",onSubmit:t[2]||(t[2]=Eo(()=>{},["prevent"]))},[e.loading?(Yr(),ra(i,{key:0})):fa("",!0),sa("div",Vu,[(Yr(!0),na(zr,null,jn(e.indexRange,t=>(Yr(),ra(l,{key:`table-form-${t}`,index:t,"form-data":e.columnViewData[t],"show-field":e.showField,sections:e.sections,"on-value-change":e.onValueChange,highlight:e.highlights[e.block][t]},null,8,["index","form-data","show-field","sections","on-value-change","highlight"]))),128))])],32)):!e.segments&&e.componentCount>0?(Yr(),na("div",$u,[(Yr(!0),na(zr,null,jn(e.componentCount,t=>(Yr(),ra(s,{key:`button-${t}`,"output-id":e.outputId,"route-name":e.routeName,index:t-1,highlight:e.highlights[e.block][t-1]},{default:nn(()=>[sa("span",Gu,X(t-1),1)]),_:2},1032,["output-id","route-name","index","highlight"]))),128))])):e.segments||e.loading||0!==e.componentCount?e.segments&&e.segments.length?(Yr(!0),na(zr,{key:4},jn(e.segments,(t,n)=>(Yr(),na("div",{key:`grid-segment-${n}`,class:"grid-segment"},[sa("h3",qu,[sa("div",ju,X(t.title),1)]),sa("div",zu,[(Yr(!0),na(zr,null,jn(t.indexArray,t=>(Yr(),ra(s,{key:`button-${t}`,"output-id":e.outputId,"route-name":e.routeName,index:t,highlight:e.highlights[e.block][t]},{default:nn(()=>[sa("span",Wu,X(t),1)]),_:2},1032,["output-id","route-name","index","highlight"]))),128))])]))),128)):fa("",!0):(Yr(),na("div",Hu,[...t[5]||(t[5]=[da("       . ",-1),sa("div",{class:"text-xs text-gray-500 mt-2"}," (     0   .) ",-1)])]))],2)};var Ku=mn({name:"AnalogList",components:{DeviceGrid:Tu,AnalogModeSummary:ou},props:{block:{required:!0,type:Number},routeName:{required:!0,type:String},segmentGrid:{type:Boolean,default:!1}}});Ku.render=function(e,t,n,r,a,o){const i=Vn("AnalogModeSummary"),l=Vn("DeviceGrid");return Yr(),na("div",null,[ua(i),ua(l,{block:e.block,"route-name":e.routeName,"segment-grid":e.segmentGrid},null,8,["block","route-name","segment-grid"])])};var Xu=mn({name:"RouteWrapper"});Xu.render=function(e,t,n,r,a,o){const i=Vn("router-view");return Yr(),ra(i,{key:e.$route.fullPath})};var Qu=mn({name:"AnalogIcon"});const Zu={"aria-hidden":"true",focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 640",rel:"Sine Wave by Marco Galtarossa from the Noun Project"};Qu.render=function(e,t,n,r,a,o){return Yr(),na("svg",Zu,[...t[0]||(t[0]=[sa("path",{fill:"currentColor","fill-opacity":"1",d:"M510 171.7C485.19 170.92 477.35 272.27 468.03 320.94C448.38 423.39 442.18 502.75 383.73 504.31C325.28 505.87 319.14 423.39 299.51 320.95C290.19 272.3 283.29 172.48 256.16 171.7C229.03 170.92 222.1 272.29 212.77 320.95C193.13 423.39 190.85 501.2 134.74 502.76C78.63 504.31 59.63 488.35 40 385.9C30.5 336.34 -7.33 344.32 -24.45 336.36C-24.36 332.22 -69.77 285.21 -27.67 298.43C14.44 311.64 57.75 283.73 77.38 386.17C86.71 434.82 100.81 463.22 128.51 462.35C156.21 461.48 162.55 361.77 171.88 313.11C191.52 210.66 188.35 129.74 256.13 129.74C323.91 129.74 320.37 211.44 340 313.89C349.32 362.55 351.15 463.13 383.72 462.35C416.29 461.57 420.67 361.77 430 313.1C449.64 210.65 448.27 131.29 511.4 129.74C574.53 128.19 566.81 207.99 587.91 290C609.01 372.01 633.78 308.68 645.44 320C653.22 327.55 652.18 340.34 642.33 358.39C595.91 382.89 566.74 370.4 554.82 320.94C536.94 246.75 534.81 172.48 510 171.7Z"},null,-1)])])};const Yu={Enabled:{block:Sl.Analog,key:"enabled",type:Ql.Value,section:0,component:dl.Toggle,label:"Enable",helpText:"Enables or disables analog input. Disabled by default to avoid sending erratic values when nothing\n    is connected to the input."},Invert:{showIf:e=>e.type!==Il.Button&&!!e.enabled,key:"invert",type:Ql.Value,section:1,component:dl.Toggle,label:"Invert direction",helpText:"Inverts the direction of the analog input. For example, if CC MIDI message is used, when the potentiometer is\n    at its left edge, sent CC value is 0, and when it's at its right edge, sent value is 127. If inversion is enabled, vice\n    versa applies.",block:Sl.Analog},Type:{showIf:e=>!!e.enabled,key:"type",type:Ql.Value,section:2,component:dl.Select,options:[{value:Il.ControlChange7Bit,text:"Control change 7-bit"},{value:1001,text:"ModWheel (CC1 preset)"},{value:1002,text:"Breath Controller (CC2 preset)"},{value:1011,text:"Expression (CC11 preset)"},{value:Il.Note,text:"Note"},{value:Il.FSR,text:"FSR"},{value:Il.Button,text:"Button"},{value:Il.NRPN7bit,text:"NRPN 7-bit"},{value:Il.NRPN14bit,text:"NRPN 14-bit"},{value:Il.PitchBend,text:"Pitch bend"},{value:Il.ControlChange14Bit,text:"Control change 14-bit"},{value:Il.Reserved,text:"Reserved (internal, no MIDI output)"}],label:"Message type",helpText:"Tip: Presets automatically set message type to Control change 7-bit and MIDI ID to CC1/CC2/CC11.",block:Sl.Analog},MidiIdLSB:{showIf:e=>!Fl.includes(e.type)&&!!e.enabled,key:"midiIdLSB",type:Ql.Value,section:3,component:dl.Input,min:0,max:127,max2Byte:16383,label:"MIDI ID (LSB)",helpText:"",block:Sl.Analog,isLsb:!0},MidiIdMSB:{showIf:e=>!Fl.includes(e.type)&&!!e.enabled,isMsb:!0,key:"midiIdMSB",type:Ql.Value,section:4,component:dl.Input,min:0,max:127,label:"MIDI ID (MSB)",helpText:"",block:Sl.Analog},LowerLimitLSB:{showIf:e=>e.type!==Il.Button&&!!e.enabled,isLsb:!0,key:"lowerLimitLSB",type:Ql.Value,section:5,component:dl.Input,min:0,max:127,max2Byte:16383,label:"Lower limit (LSB)",helpText:"Specifies the minimum value which is sent by the analog input. Scaling is used\n    here, so this value will be sent when the analog input is at its lowest position. Limit is\n    type-dependent. For most types, total range is 0-127. For pitch bend, 14-bit NRPN and\n    14-bit CC, total range is 0-16383.",block:Sl.Analog},LowerLimitMSB:{showIf:e=>e.type!==Il.Button&&!!e.enabled,isMsb:!0,key:"lowerLimitMSB",type:Ql.Value,section:6,component:dl.Input,min:0,max:127,label:"Lower limit (MSB)",helpText:"Specifies the minimum value which is sent by the analog input. Scaling is used\n    here, so this value will be sent when the analog input is at its lowest position. Limit is\n    type-dependent. For most types, total range is 0-127. For pitch bend, 14-bit NRPN and\n    14-bit CC, total range is 0-16383.",block:Sl.Analog},UpperLimitLSB:{showIf:e=>e.type!==Il.Button&&!!e.enabled,isLsb:!0,key:"upperLimitLSB",type:Ql.Value,section:7,component:dl.Input,min:0,max:127,max2Byte:16383,label:"Upper limit (LSB)",helpText:"Specifies the maximum value which is sent by the analog input. Scaling is used\n    here, so this value will be sent when the analog input is at its highest position. Limit is\n    type-dependent. For most types, total range is 0-127. For pitch bend, 14-bit NRPN and\n    14-bit CC, total range is 0-16383.",block:Sl.Analog},UpperLimitMSB:{showIf:e=>e.type!==Il.Button&&!!e.enabled,isMsb:!0,key:"upperLimitMSB",type:Ql.Value,section:8,component:dl.Input,min:0,max:127,label:"Upper limit (MSB)",helpText:"Specifies the maximum value which is sent by the analog input. Scaling is used\n    here, so this value will be sent when the analog input is at its highest position. Limit is\n    type-dependent. For most types, total range is 0-127. For pitch bend, 14-bit NRPN and\n    14-bit CC, total range is 0-16383.",block:Sl.Analog},MidiChannel:{showIf:e=>!Bl.includes(e.type)&&!!e.enabled,key:"midiChannel",type:Ql.Value,block:Sl.Analog,section:9,component:dl.Input,min:1,max:17,label:"MIDI channel",helpText:"Setting the channel to value 17 will cause sending of data on each MIDI channel."},LowerAdcOffset:{showIf:e=>e.type!==Il.Button&&!!e.enabled,key:"lowerAdcOffset",type:Ql.Value,section:10,component:dl.Input,min:0,max:100,label:"Lower ADC offset",helpText:"Specifies lower offset percentage which is used to calculate minimum ADC value upon which MIDI\n    values will be based. Useful for inputs which cannot reach minimum ADC value. If for example, the board has\n    nominal ADC range 0-4095, setting this value to 10 will calculate MIDI values based on 409-4095 range (assuming\n    the upper offset is 0), that is, lower 10% of ADC range will be cut off.",block:Sl.Analog},UpperAdcOffset:{showIf:e=>e.type!==Il.Button&&!!e.enabled,key:"upperAdcOffset",type:Ql.Value,section:11,component:dl.Input,min:0,max:100,label:"Upper ADC offset",helpText:"Specifies upper offset percentage which is used to calculate maximum ADC value upon which MIDI\n    values will be based. Useful for inputs which cannot reach maximum ADC value. If for example, the board has\n    nominal ADC range 0-4095, setting this value to 10 will calculate MIDI values based on 0-3685 range (assuming\n    the lower offset is 0), that is, upper 10% of ADC range will be cut off.",block:Sl.Analog}},Ju={block:Sl.Analog,title:"Analog",routeName:"device-analogs",iconComponent:vt(Qu),componentCountResponseIndex:2,sections:Yu,routes:[{path:"analogs",name:"device-analogs",component:Xu,redirect:{name:"device-analogs-list"},children:[{path:"list",name:"device-analogs-list",component:Ku,props:{block:Sl.Analog,routeName:"device-analogs-form",segmentGrid:!0}},{path:"analogs/:index",name:"device-analogs-form",component:hu,props:{block:Sl.Analog}}]}]};var ec=mn({name:"ButtonForm",props:{block:{required:!0,type:Number},gridCols:{default:3,type:Number}},setup(e){const{numberOfComponents:t,outputId:n,isConnected:r,boardName:a,firmwareVersion:o,isBootloaderMode:i,name:l,manufacturer:s}=$f,u=Aa(()=>Number(jL.currentRoute.value.params.index)),c=Ys(e.block,Ql.Value,u),d=xt(""),p=xt(null),f=xt("HEX     . (Note/CC/PC/RealTime  )"),g=xt(!1),h=Aa(()=>Number(c.formData.messageType)===Ml.BankSelectProgramChange),m=Aa(()=>Number(c.formData.messageType)===Ml.CustomSysEx),v=xt(""),y=xt(null),b=xt(null),L=Aa(()=>qs.inputs),x=xt(""),w=xt(!1);let C=null,S=null;const k=()=>{if(C&&S)try{C.removeListener("sysex","all",S)}catch{}C=null,S=null,w.value=!1},I={length:6,data:7},E={length:5,data:6},M=xt(null),_=e=>{const t=Number(e);if(Number.isFinite(t)){const e=Qs(t);return`${t} (${js[t]||"UNKNOWN"}): ${e.description}`}return e instanceof Error?e.message:"string"==typeof e?e:JSON.stringify(e)},T=e=>{const t=Number(e);return Number.isFinite(t)&&[js.SECTION,js.NOT_SUPPORTED].includes(t)},N=async()=>{if(M.value)return M.value;if(!r.value)return I;try{return await Vf.actions.getValue(Sl.Button,I.length,0),M.value={...I},M.value}catch(e){if(!T(e))throw e}try{return await Vf.actions.getValue(Sl.Button,E.length,0),M.value={...E},M.value}catch(e){if(!T(e))throw e}return null},D=()=>{if(k(),!m.value)return void(y.value="SysEx    .");if(!L.value.length)return void(y.value="  MIDI   . (WebMIDI /   )");const e=(()=>{const e=L.value||[];return e.length?x.value?e.find(e=>e.id===x.value)||null:e.find(e=>!e.name.includes("OpenDeck"))||e[0]:null})();if(!e)return void(y.value="     .");w.value=!0,b.value=`SysEx   : ${e.name} (1    )`,y.value=null;const t=t=>{const n=Array.from(t.data||[]);if(n.length<2||240!==n[0]||247!==n[n.length-1])return;if(n.length>=5&&n[1]===fl[0]&&n[2]===fl[1]&&n[3]===fl[2])return;k();const r=n.map(e=>Number(e).toString(16).toUpperCase().padStart(2,"0")).join(" ");v.value=r,b.value=`SysEx  : ${e.name}`,(async()=>{try{await O()}catch(e){y.value=`  : ${_(e)}`}})()};C=e,S=t;try{e.addListener("sysex","all",t)}catch(e){k(),y.value=`SysEx   : ${_(e)}`}},R=Aa(()=>{const e=u.value;return Math.max(0,Math.min(127,Math.floor(e)))}),P=async()=>{if(!m.value)return;if(u.value>=128)return void(y.value=`  (${u.value}) SysEx  (0-127) .`);const e=Number(c.formData.value??0),t=R.value;if(t!==e&&(c.formData.value=t,r.value))try{await K("value",3,t)}catch{}},A=async()=>{if(!m.value)return;if(y.value=null,b.value=null,!r.value)return void(b.value="   .");const e=R.value;c.loading.value=!0;try{const t=await N();if(!t)return void(b.value=" / SysEx    . (    )");const n=await Vf.actions.getValue(Sl.Button,t.length,e),r=Math.max(0,Math.min(32,n)),a=[];for(let n=0;n<r;n++){const r=32*e+n,o=await Vf.actions.getValue(Sl.Button,t.data,r);a.push(255&o)}v.value=[240,...a,247].map(e=>e.toString(16).toUpperCase().padStart(2,"0")).join(" "),b.value=` ${e}   ( ${a.length})`}catch(e){y.value=` : ${_(e)}`}finally{c.loading.value=!1}},O=async()=>{if(!m.value)return;y.value=null,b.value=null;const e=(()=>{const e=wu(v.value);if(e.error)return{ok:!1,error:e.error};const t=e.bytes;if(t.length<2)return{ok:!1,error:"SysEx  2(F0...F7) ."};if(240!==t[0]||247!==t[t.length-1])return{ok:!1,error:"F0  F7  ."};const n=t.slice(1,-1);return n.length>32?{ok:!1,error:" 32(F0/F7 )  ."}:"number"==typeof n.find(e=>e<0||e>127)?{ok:!1,error:"SysEx payload 00-7F(7-bit ) . : 0x90  MIDI  SysEx   . (Note/CC/PC SysEx   MIDI(HEX) )"}:{ok:!0,payload:n,normalized:[240,...n,247].map(e=>e.toString(16).toUpperCase().padStart(2,"0")).join(" ")}})();if(!e.ok)return void(y.value=e.error);if(v.value=e.normalized,!r.value)return void(b.value="   ,    .");const t=R.value;c.loading.value=!0;try{const n=await N();if(!n)return void(y.value=" / SysEx   . (    )");await Vf.actions.setComponentSectionValue({block:Sl.Button,section:n.length,index:t,value:e.payload.length},()=>{});for(let r=0;r<e.payload.length;r++){const a=32*t+r;await Vf.actions.setComponentSectionValue({block:Sl.Button,section:n.data,index:a,value:e.payload[r]},()=>{})}b.value=` ${t}   ( ${e.payload.length})`}catch(e){y.value=` : ${_(e)}`}finally{c.loading.value=!1}},F=Aa(()=>{const e=Number(c.formData.value??0);return Number.isFinite(e)?Math.max(0,Math.min(16383,e)):0}),B=Aa(()=>F.value>>7&127),U=Aa(()=>127&F.value),V=xt(0),$=xt(0);un(()=>[h.value,F.value],([e])=>{e&&(V.value=B.value,$.value=U.value)},{immediate:!0});const G=Aa(()=>(Math.max(0,Math.min(127,Number(V.value)||0))<<7)+Math.max(0,Math.min(127,Number($.value)||0))),H=Aa({get:()=>G.value,set:e=>{const t=Math.max(0,Math.min(16383,Math.floor(Number(e)||0)));V.value=t>>7&127,$.value=127&t}}),q=async()=>{const e=Math.max(0,Math.min(16383,G.value));c.formData.value=e,r.value&&await K("value",3,e)},j=xt(null);un(()=>[h.value,G.value,F.value],([e])=>{e&&(()=>{if(!h.value)return;Math.max(0,Math.min(16383,G.value))!==F.value&&(j.value&&window.clearTimeout(j.value),j.value=window.setTimeout(async()=>{j.value=null,Math.max(0,Math.min(16383,G.value))!==F.value&&await q()},250))})()});const z=Aa(()=>!m.value),W=Aa(()=>{const e=[];return s?.value&&e.push(String(s.value)),a?.value?e.push(String(a.value)):l?.value&&e.push(String(l.value)),e.filter(Boolean).join(" ")}),K=async(t,n,r)=>{const a={block:e.block,section:n,index:u.value,value:r};c.formData[t]=r,await Vf.actions.setComponentSectionValue(a,()=>{})},X=async()=>{if(!z.value)return;p.value=null;const e=wu(d.value);if(e.error)return void(p.value=e.error);const t=Su(e.bytes);if("error"in t)p.value=t.error;else{if(c.formData.messageType=t.messageType,"number"==typeof t.midiChannel&&(c.formData.midiChannel=t.midiChannel),"number"==typeof t.midiId&&(c.formData.midiId=t.midiId),"number"==typeof t.value&&(c.formData.value=t.value),!r.value)return g.value=!0,void(f.value="   .   .");c.loading.value=!0;try{await K("messageType",1,t.messageType),"number"==typeof t.midiChannel&&await K("midiChannel",4,t.midiChannel),"number"==typeof t.midiId&&await K("midiId",2,t.midiId),"number"==typeof t.value&&await K("value",3,t.value),f.value="."}catch(e){const t=e instanceof Error?e.message:"string"==typeof e?e:JSON.stringify(e);p.value=" . /(WebMIDI)  ."+(t?` (${t})`:"")}finally{c.loading.value=!1}}};return un(()=>c.loading.value,e=>{}),un(()=>u.value,()=>{g.value=!1,p.value=null,f.value="HEX     . (Note/CC/PC/RealTime  )"}),un(()=>[r.value,m.value,R.value],async([e,t])=>{e&&t&&(await P(),await A())},{immediate:!0}),un(()=>m.value,async e=>{if(!e)return k(),y.value=null,void(b.value=null);b.value="SysEx F0..F7 , payload 00-7F(7-bit) . : F0 7E 7F 06 01 F7",await P()},{immediate:!0}),Rn(()=>{k()}),un(()=>r.value,async e=>{e&&g.value&&(g.value=!1,await X())}),{...c,showFieldForCurrentMode:e=>m.value?"messageType"===e?.key:c.showField(e),outputId:n,numberOfComponents:t,index:u,deviceLabel:W,firmwareVersion:o,isBootloaderMode:i,showRawMidiHex:z,rawMidiText:d,rawMidiError:p,rawMidiHelpText:f,applyRawMidiText:X,isBankSelectProgramChange:h,bankValue:F,bankMsbFromBank:B,bankLsbFromBank:U,bankCalcMsb:V,bankCalcLsb:$,calcBank:G,calcBankModel:H,nudgeCalcBank:e=>{H.value=H.value+e},applyCalcBank:q,isCustomSysEx:m,sysExText:v,sysExError:y,sysExHelpText:b,availableMidiInputs:L,sysExCaptureInputId:x,isSysExCaptureArmed:w,toggleSysExCapture:()=>{if(w.value)return k(),void(b.value="SysEx  .");D()},reloadSysExMacro:A,saveSysExMacro:O}}});const tc={class:"w-full section-heading"},nc={class:"section-heading-inner flex"},rc={class:"mr-6 text-gray-400"},ac={class:"hidden md:block md:flex-grow text-right"},oc={key:1,class:"text-sm mb-4"},ic={class:"section-content"},lc={key:0,class:"help-text"},sc={key:1,class:"error-message text-red-500"},uc={key:0,class:"help-text"},cc={key:1,class:"error-message text-red-500"},dc={class:"mt-2"},pc=["disabled"],fc=["value"],gc={class:"mt-2 flex gap-2"},hc={class:"form-field"},mc={class:"grid grid-cols-1 md:grid-cols-3 gap-2"},vc={class:"relative mt-1"},yc={class:"absolute top-0 right-0 bottom-0 flex flex-col justify-center pr-2"},bc={class:"help-text"};ec.render=function(e,t,n,r,a,o){const i=Vn("router-link"),l=Vn("Siblinks"),s=Vn("SpinnerOverlay"),u=Vn("FormField");return Yr(),na("form",{class:"relative section",novalidate:"",onSubmit:t[14]||(t[14]=Eo(()=>{},["prevent"]))},[sa("h1",tc,[sa("div",nc,[ua(i,{class:"mr-6",to:{name:e.blockDefinition.routeName}},{default:nn(()=>[sa("h2",null,X(e.blockDefinition.title)+"s",1)]),_:1},8,["to"]),t[15]||(t[15]=sa("span",{class:"mr-6"},"",-1)),sa("div",rc,[da(X(e.blockDefinition.title)+" ",1),sa("strong",null,X(e.index),1)]),sa("div",ac,[ua(l,{"param-key":"index",current:e.index,total:e.numberOfComponents[e.block],params:{outputId:e.outputId}},null,8,["current","total","params"])])])]),e.loading?(Yr(),ra(s,{key:0})):fa("",!0),e.deviceLabel?(Yr(),na("p",oc,[t[16]||(t[16]=da("  : ",-1)),sa("strong",null,X(e.deviceLabel),1),e.firmwareVersion?(Yr(),na(zr,{key:0},[da(" / FW: "+X(e.firmwareVersion),1)],64)):fa("",!0),e.isBootloaderMode?(Yr(),na(zr,{key:1},[da(" / Bootloader ")],64)):fa("",!0)])):fa("",!0),sa("div",ic,[sa("div",{class:H(["form-grid",`lg:grid-cols-${e.gridCols}`])},[e.showRawMidiHex?(Yr(),na("div",{key:0,class:H(`col-span-${e.gridCols}`)},[sa("div",{class:H(["form-field",{error:!!e.rawMidiError}])},[t[17]||(t[17]=sa("label",{class:"label"},[da(" MIDI (HEX) "),sa("small",{class:"instructions"},"Note/CC/PC/RealTime ")],-1)),rn(sa("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.rawMidiText=t),class:"form-input mt-1 py-1 text-sm block w-full",type:"text",name:"rawMidiHex",placeholder:": 90 3C 7F / B0 07 40 / C0 10 / FA",onChange:t[1]||(t[1]=(...t)=>e.applyRawMidiText&&e.applyRawMidiText(...t))},null,544),[[yo,e.rawMidiText]]),e.rawMidiHelpText?(Yr(),na("p",lc,X(e.rawMidiHelpText),1)):fa("",!0),e.rawMidiError?(Yr(),na("p",sc,X(e.rawMidiError),1)):fa("",!0)],2)],2)):fa("",!0),e.isCustomSysEx?(Yr(),na("div",{key:1,class:H(`col-span-${e.gridCols}`)},[sa("div",{class:H(["form-field",{error:!!e.sysExError}])},[t[21]||(t[21]=sa("label",{class:"label"},[da(" SysEx (HEX) "),sa("small",{class:"instructions"},"F0 ... F7  ")],-1)),rn(sa("textarea",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.sysExText=t),class:"form-input mt-1 py-1 text-sm block w-full",rows:"4",name:"sysexHex",placeholder:": F0 7E 7F 06 01 F7",onChange:t[3]||(t[3]=(...t)=>e.saveSysExMacro&&e.saveSysExMacro(...t))},null,544),[[yo,e.sysExText]]),t[22]||(t[22]=sa("p",{class:"help-text"},"  32(F0/F7 ) . SysEx      . ",-1)),e.sysExHelpText?(Yr(),na("p",uc,X(e.sysExHelpText),1)):fa("",!0),e.sysExError?(Yr(),na("p",cc,X(e.sysExError),1)):fa("",!0),sa("div",dc,[t[19]||(t[19]=sa("label",{class:"label"},[da(" SysEx    "),sa("small",{class:"instructions"},"   (WebMIDI)  SysEx")],-1)),rn(sa("select",{"onUpdate:modelValue":t[4]||(t[4]=t=>e.sysExCaptureInputId=t),class:"form-input mt-1 py-1 text-sm block w-full",disabled:e.isSysExCaptureArmed},[t[18]||(t[18]=sa("option",{value:""},"( )",-1)),(Yr(!0),na(zr,null,jn(e.availableMidiInputs,e=>(Yr(),na("option",{key:e.id,value:e.id},X(e.name),9,fc))),128))],8,pc),[[xo,e.sysExCaptureInputId]]),t[20]||(t[20]=sa("p",{class:"help-text"},"   SysEx 1     . ",-1))]),sa("div",gc,[sa("button",{class:"btn btn-xs",type:"button",onClick:t[5]||(t[5]=(...t)=>e.toggleSysExCapture&&e.toggleSysExCapture(...t))},X(e.isSysExCaptureArmed?"SysEx  ":"MIDI SysEx 1 "),1),sa("button",{class:"btn btn-xs",type:"button",onClick:t[6]||(t[6]=(...t)=>e.reloadSysExMacro&&e.reloadSysExMacro(...t))},"     "),sa("button",{class:"btn btn-xs",type:"button",onClick:t[7]||(t[7]=(...t)=>e.saveSysExMacro&&e.saveSysExMacro(...t))},"  ")])],2)],2)):fa("",!0),e.isBankSelectProgramChange&&!e.isCustomSysEx?(Yr(),na("div",{key:2,class:H(`col-span-${e.gridCols}`)},[sa("div",hc,[t[26]||(t[26]=sa("label",{class:"label"},[da(" Bank  "),sa("small",{class:"instructions"},"MSB/LSB  Bank(0-16383)")],-1)),sa("div",mc,[sa("div",null,[t[23]||(t[23]=sa("label",{class:"label text-xs"},"MSB (0-127)",-1)),rn(sa("input",{"onUpdate:modelValue":t[8]||(t[8]=t=>e.bankCalcMsb=t),class:"form-input mt-1 py-1 text-sm block w-full",type:"number",min:"0",max:"127"},null,512),[[yo,e.bankCalcMsb,void 0,{number:!0}]])]),sa("div",null,[t[24]||(t[24]=sa("label",{class:"label text-xs"},"LSB (0-127)",-1)),rn(sa("input",{"onUpdate:modelValue":t[9]||(t[9]=t=>e.bankCalcLsb=t),class:"form-input mt-1 py-1 text-sm block w-full",type:"number",min:"0",max:"127"},null,512),[[yo,e.bankCalcLsb,void 0,{number:!0}]])]),sa("div",null,[t[25]||(t[25]=sa("label",{class:"label text-xs"}," Bank",-1)),sa("div",vc,[rn(sa("input",{"onUpdate:modelValue":t[10]||(t[10]=t=>e.calcBankModel=t),class:"form-input py-1 text-sm block w-full pr-8",type:"number",min:"0",max:"16383"},null,512),[[yo,e.calcBankModel,void 0,{number:!0}]]),sa("div",yc,[sa("button",{class:"px-1 text-xs leading-none text-gray-400 hover:text-gray-200 focus:outline-none",type:"button",onClick:t[11]||(t[11]=t=>e.nudgeCalcBank(1)),"aria-label":"Bank +1",title:"Bank +1"},"  "),sa("button",{class:"px-1 text-xs leading-none text-gray-400 hover:text-gray-200 focus:outline-none",type:"button",onClick:t[12]||(t[12]=t=>e.nudgeCalcBank(-1)),"aria-label":"Bank -1",title:"Bank -1"},"  ")])])])]),sa("p",bc,"  Bank="+X(e.bankValue)+"  MSB="+X(e.bankMsbFromBank)+" / LSB="+X(e.bankLsbFromBank),1),t[27]||(t[27]=sa("p",{class:"help-text"},"  : CC#0(MSB)  CC#32(LSB)  Program Change ",-1)),sa("button",{class:"btn btn-xs",type:"button",onClick:t[13]||(t[13]=(...t)=>e.applyCalcBank&&e.applyCalcBank(...t))}," Bank  ")])],2)):fa("",!0),(Yr(!0),na(zr,null,jn(e.sections,t=>(Yr(),na(zr,null,[e.showFieldForCurrentMode(t)?(Yr(),ra(u,{key:t.key,class:H(`col-span-${t.colspan||1}`),value:e.formData[t.key],"field-definition":t,onModified:e.onValueChange},null,8,["class","value","field-definition","onModified"])):fa("",!0)],64))),256))],2)])],32)};var Lc=mn({name:"IconButton"});const xc={"aria-hidden":"true",focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 640"};Lc.render=function(e,t,n,r,a,o){return Yr(),na("svg",xc,[...t[0]||(t[0]=[sa("path",{fill:"currentColor",d:"M348.7 84.16L357.94 85.48L367.05 87.16L376.03 89.18L384.88 91.56L393.59 94.27L402.14 97.31L410.54 100.67L418.78 104.35L426.84 108.33L434.72 112.61L442.41 117.19L449.91 122.05L457.21 127.19L464.3 132.6L471.17 138.27L477.81 144.19L484.22 150.36L490.39 156.77L496.32 163.42L501.99 170.29L507.4 177.37L512.53 184.67L517.4 192.17L521.97 199.86L526.25 207.75L530.24 215.81L533.92 224.04L537.28 232.44L540.32 241L543.03 249.7L545.4 258.55L547.43 267.54L549.11 276.65L550.42 285.88L551.37 295.23L551.95 304.68L552.14 314.22L551.95 323.77L551.37 333.22L550.42 342.57L549.11 351.8L547.43 360.91L545.4 369.9L543.03 378.75L540.32 387.45L537.28 396.01L533.92 404.41L530.24 412.64L526.25 420.7L521.97 428.59L517.4 436.28L512.53 443.78L507.4 451.07L501.99 458.16L496.32 465.03L490.39 471.67L484.22 478.09L477.81 484.26L471.17 490.18L464.3 495.85L457.21 501.26L449.91 506.4L442.41 511.26L434.72 515.84L426.84 520.12L418.78 524.1L410.54 527.78L402.14 531.14L393.59 534.18L384.88 536.89L376.03 539.26L367.05 541.29L357.94 542.97L348.7 544.29L339.36 545.24L329.91 545.81L320.36 546.01L310.81 545.81L301.36 545.24L292.02 544.29L282.79 542.97L273.67 541.29L264.69 539.26L255.84 536.89L247.13 534.18L238.58 531.14L230.18 527.78L221.94 524.1L213.88 520.12L206 515.84L198.31 511.26L190.81 506.4L183.51 501.26L176.42 495.85L169.55 490.18L162.91 484.26L156.5 478.09L150.33 471.67L144.4 465.03L138.73 458.16L133.32 451.07L128.19 443.78L123.33 436.28L118.75 428.59L114.47 420.7L110.48 412.64L106.81 404.41L103.44 396.01L100.4 387.45L97.69 378.75L95.32 369.9L93.29 360.91L91.61 351.8L90.3 342.57L89.35 333.22L88.77 323.77L88.58 314.22L88.77 304.68L89.35 295.23L90.3 285.88L91.61 276.65L93.29 267.54L95.32 258.55L97.69 249.7L100.4 241L103.44 232.44L106.81 224.04L110.48 215.81L114.47 207.75L118.75 199.86L123.33 192.17L128.19 184.67L133.32 177.37L138.73 170.29L144.4 163.42L150.33 156.77L156.5 150.36L162.91 144.19L169.55 138.27L176.42 132.6L183.51 127.19L190.81 122.05L198.31 117.19L206 112.61L213.88 108.33L221.94 104.35L230.18 100.67L238.58 97.31L247.13 94.27L255.84 91.56L264.69 89.18L273.67 87.16L282.79 85.48L292.02 84.16L301.36 83.21L310.81 82.64L320.36 82.44L329.91 82.64L339.36 83.21L339.36 83.21L348.7 84.16ZM294.85 107.17L286.54 108.35L278.34 109.86L270.26 111.69L262.29 113.82L254.46 116.26L246.75 119L239.2 122.03L231.78 125.33L224.53 128.92L217.44 132.78L210.51 136.89L203.76 141.27L197.2 145.89L190.82 150.76L184.64 155.86L178.66 161.19L172.88 166.75L167.33 172.52L162 178.5L156.89 184.68L152.03 191.06L147.4 197.63L143.03 204.38L138.91 211.3L135.06 218.39L131.47 225.65L128.16 233.06L125.14 240.62L122.4 248.32L119.96 256.16L117.82 264.12L116 272.21L114.49 280.41L113.3 288.72L112.45 297.13L111.93 305.63L111.76 314.22L111.93 322.82L112.45 331.32L113.3 339.73L114.49 348.04L116 356.24L117.82 364.33L119.96 372.29L122.4 380.13L125.14 387.83L128.16 395.39L131.47 402.8L135.06 410.06L138.91 417.15L143.03 424.07L147.4 430.82L152.03 437.39L156.89 443.77L162 449.95L167.33 455.93L172.88 461.7L178.66 467.26L184.64 472.59L190.82 477.69L197.2 482.56L203.76 487.18L210.51 491.56L217.44 495.67L224.53 499.53L231.78 503.11L239.2 506.42L246.75 509.45L254.46 512.19L262.29 514.62L270.26 516.76L278.34 518.59L286.54 520.1L294.85 521.28L303.26 522.14L311.77 522.65L320.36 522.83L328.95 522.65L337.46 522.14L345.87 521.28L354.18 520.1L362.38 518.59L370.47 516.76L378.43 514.62L386.27 512.19L393.97 509.45L401.53 506.42L408.94 503.11L416.19 499.53L423.28 495.67L430.21 491.56L436.96 487.18L443.53 482.56L449.9 477.69L456.09 472.59L462.07 467.26L467.84 461.7L473.39 455.93L478.72 449.95L483.83 443.77L488.69 437.39L493.32 430.82L497.69 424.07L501.81 417.15L505.67 410.06L509.25 402.8L512.56 395.39L515.59 387.83L518.32 380.13L520.76 372.29L522.9 364.33L524.72 356.24L526.23 348.04L527.42 339.73L528.27 331.32L528.79 322.82L528.96 314.22L528.79 305.63L528.27 297.13L527.42 288.72L526.23 280.41L524.72 272.21L522.9 264.12L520.76 256.16L518.32 248.32L515.59 240.62L512.56 233.06L509.25 225.65L505.67 218.39L501.81 211.3L497.69 204.38L493.32 197.63L488.69 191.06L483.83 184.68L478.72 178.5L473.39 172.52L467.84 166.75L462.07 161.19L456.09 155.86L449.9 150.76L443.53 145.89L436.96 141.27L430.21 136.89L423.28 132.78L416.19 128.92L408.94 125.33L401.53 122.03L393.97 119L386.27 116.26L378.43 113.82L370.47 111.69L362.38 109.86L354.18 108.35L345.87 107.17L337.46 106.31L328.95 105.8L320.36 105.62L311.77 105.8L303.26 106.31L303.26 106.31L294.85 107.17Z"},null,-1),sa("path",{fill:"currentColor",d:"M343.54 39.74L354.63 40.87L365.58 42.43L376.39 44.42L387.05 46.83L397.55 49.64L407.88 52.86L418.03 56.47L428 60.46L437.77 64.82L447.33 69.54L456.68 74.63L465.81 80.06L474.71 85.82L483.37 91.92L491.77 98.33L499.92 105.06L507.81 112.09L515.42 119.41L522.74 127.02L529.77 134.9L536.49 143.05L542.91 151.46L549.01 160.12L554.77 169.02L560.2 178.15L565.28 187.5L570.01 197.06L574.37 206.83L578.36 216.8L581.97 226.95L585.19 237.28L588 247.78L590.41 258.44L592.4 269.25L593.96 280.2L595.09 291.29L595.77 302.5L596 313.83L595.77 325.16L595.09 336.37L593.96 347.46L592.4 358.41L590.41 369.22L588 379.88L585.19 390.38L581.97 400.71L578.36 410.86L574.37 420.83L570.01 430.6L565.28 440.16L560.2 449.52L554.77 458.64L549.01 467.54L542.91 476.2L536.49 484.61L529.77 492.76L522.74 500.64L515.42 508.25L507.81 515.57L499.92 522.6L491.77 529.33L483.37 535.74L474.71 541.84L465.81 547.6L456.68 553.03L447.33 558.12L437.77 562.84L428 567.21L418.03 571.19L407.88 574.8L397.55 578.02L387.05 580.83L376.39 583.24L365.58 585.23L354.63 586.79L343.54 587.92L332.33 588.6L321 588.83L309.67 588.6L298.46 587.92L287.37 586.79L276.42 585.23L265.61 583.24L254.95 580.83L244.45 578.02L234.12 574.8L223.96 571.19L214 567.21L204.23 562.84L194.67 558.12L185.31 553.03L176.19 547.6L167.29 541.84L158.63 535.74L150.22 529.33L142.07 522.6L134.19 515.57L126.58 508.25L119.26 500.64L112.23 492.76L105.5 484.61L99.09 476.2L92.99 467.54L87.22 458.64L81.8 449.52L76.71 440.16L71.99 430.6L67.62 420.83L63.64 410.86L60.03 400.71L56.81 390.38L54 379.88L51.59 369.22L49.6 358.41L48.04 347.46L46.91 336.37L46.23 325.16L46 313.83L46.23 302.5L46.91 291.29L48.04 280.2L49.6 269.25L51.59 258.44L54 247.78L56.81 237.28L60.03 226.95L63.64 216.8L67.62 206.83L71.99 197.06L76.71 187.5L81.8 178.15L87.22 169.02L92.99 160.12L99.09 151.46L105.5 143.05L112.23 134.9L119.26 127.02L126.58 119.41L134.19 112.09L142.07 105.06L150.22 98.33L158.63 91.92L167.29 85.82L176.19 80.06L185.31 74.63L194.67 69.54L204.23 64.82L214 60.46L223.96 56.47L234.12 52.86L244.45 49.64L254.95 46.83L265.61 44.42L276.42 42.43L287.37 40.87L298.46 39.74L309.67 39.06L321 38.83L332.33 39.06L343.54 39.74ZM299.28 50.88L288.6 51.97L278.04 53.47L267.62 55.39L257.35 57.71L247.23 60.42L237.28 63.52L227.5 67L217.89 70.84L208.48 75.04L199.26 79.6L190.25 84.5L181.45 89.73L172.88 95.29L164.54 101.16L156.44 107.34L148.58 113.83L140.99 120.6L133.65 127.66L126.6 134.99L119.82 142.58L113.34 150.44L107.16 158.54L101.28 166.88L95.73 175.46L90.5 184.25L85.6 193.26L81.04 202.48L76.84 211.89L73 221.5L69.52 231.28L66.42 241.23L63.71 251.35L61.39 261.62L59.47 272.04L57.97 282.6L56.88 293.28L56.22 304.09L56 315L56.22 325.92L56.88 336.72L57.97 347.41L59.47 357.96L61.39 368.38L63.71 378.65L66.42 388.77L69.52 398.73L73 408.51L76.84 418.11L81.04 427.52L85.6 436.74L90.5 445.75L95.73 454.55L101.28 463.12L107.16 471.47L113.34 479.57L119.82 487.42L126.6 495.02L133.65 502.35L140.99 509.41L148.58 516.18L156.44 522.66L164.54 528.84L172.88 534.72L181.45 540.28L190.25 545.51L199.26 550.4L208.48 554.96L217.89 559.16L227.5 563.01L237.28 566.48L247.23 569.58L257.35 572.3L267.62 574.61L278.04 576.53L288.6 578.04L299.28 579.12L310.08 579.78L321 580L331.92 579.78L342.72 579.12L353.41 578.04L363.96 576.53L374.38 574.61L384.65 572.3L394.77 569.58L404.72 566.48L414.51 563.01L424.11 559.16L433.52 554.96L442.74 550.4L451.75 545.51L460.55 540.28L469.12 534.72L477.46 528.84L485.57 522.66L493.42 516.18L501.02 509.41L508.35 502.35L515.4 495.02L522.18 487.42L528.66 479.57L534.84 471.47L540.72 463.12L546.27 454.55L551.51 445.75L556.4 436.74L560.96 427.52L565.16 418.11L569.01 408.51L572.48 398.73L575.58 388.77L578.29 378.65L580.61 368.38L582.53 357.96L584.04 347.41L585.12 336.72L585.78 325.92L586 315L585.78 304.09L585.12 293.28L584.04 282.6L582.53 272.04L580.61 261.62L578.29 251.35L575.58 241.23L572.48 231.28L569.01 221.5L565.16 211.89L560.96 202.48L556.4 193.26L551.51 184.25L546.27 175.46L540.72 166.88L534.84 158.54L528.66 150.44L522.18 142.58L515.4 134.99L508.35 127.66L501.02 120.6L493.42 113.83L485.57 107.34L477.46 101.16L469.12 95.29L460.55 89.73L451.75 84.5L442.74 79.6L433.52 75.04L424.11 70.84L414.51 67L404.72 63.52L394.77 60.42L384.65 57.71L374.38 55.39L363.96 53.47L353.41 51.97L342.72 50.88L331.92 50.22L321 50L310.08 50.22L299.28 50.88Z"},null,-1),sa("path",{fill:"currentColor",d:"M348.7 84.16L357.94 85.48L367.05 87.16L376.03 89.18L384.88 91.56L393.59 94.27L402.14 97.31L410.54 100.67L418.78 104.35L426.84 108.33L434.72 112.61L442.41 117.19L449.91 122.05L457.21 127.19L464.3 132.6L471.17 138.27L477.81 144.19L484.22 150.36L490.39 156.77L496.32 163.42L501.99 170.29L507.4 177.37L512.53 184.67L517.4 192.17L521.97 199.86L526.25 207.75L530.24 215.81L533.92 224.04L537.28 232.44L540.32 241L543.03 249.7L545.4 258.55L547.43 267.54L549.11 276.65L550.42 285.88L551.37 295.23L551.95 304.68L552.14 314.22L551.95 323.77L551.37 333.22L550.42 342.57L549.11 351.8L547.43 360.91L545.4 369.9L543.03 378.75L540.32 387.45L537.28 396.01L533.92 404.41L530.24 412.64L526.25 420.7L521.97 428.59L517.4 436.28L512.53 443.78L507.4 451.07L501.99 458.16L496.32 465.03L490.39 471.67L484.22 478.09L477.81 484.26L471.17 490.18L464.3 495.85L457.21 501.26L449.91 506.4L442.41 511.26L434.72 515.84L426.84 520.12L418.78 524.1L410.54 527.78L402.14 531.14L393.59 534.18L384.88 536.89L376.03 539.26L367.05 541.29L357.94 542.97L348.7 544.29L339.36 545.24L329.91 545.81L320.36 546.01L310.81 545.81L301.36 545.24L292.02 544.29L282.79 542.97L273.67 541.29L264.69 539.26L255.84 536.89L247.13 534.18L238.58 531.14L230.18 527.78L221.94 524.1L213.88 520.12L206 515.84L198.31 511.26L190.81 506.4L183.51 501.26L176.42 495.85L169.55 490.18L162.91 484.26L156.5 478.09L150.33 471.67L144.4 465.03L138.73 458.16L133.32 451.07L128.19 443.78L123.33 436.28L118.75 428.59L114.47 420.7L110.48 412.64L106.81 404.41L103.44 396.01L100.4 387.45L97.69 378.75L95.32 369.9L93.29 360.91L91.61 351.8L90.3 342.57L89.35 333.22L88.77 323.77L88.58 314.22L88.77 304.68L89.35 295.23L90.3 285.88L91.61 276.65L93.29 267.54L95.32 258.55L97.69 249.7L100.4 241L103.44 232.44L106.81 224.04L110.48 215.81L114.47 207.75L118.75 199.86L123.33 192.17L128.19 184.67L133.32 177.37L138.73 170.29L144.4 163.42L150.33 156.77L156.5 150.36L162.91 144.19L169.55 138.27L176.42 132.6L183.51 127.19L190.81 122.05L198.31 117.19L206 112.61L213.88 108.33L221.94 104.35L230.18 100.67L238.58 97.31L247.13 94.27L255.84 91.56L264.69 89.18L273.67 87.16L282.79 85.48L292.02 84.16L301.36 83.21L310.81 82.64L320.36 82.44L329.91 82.64L339.36 83.21L339.36 83.21L348.7 84.16ZM294.85 107.17L286.54 108.35L278.34 109.86L270.26 111.69L262.29 113.82L254.46 116.26L246.75 119L239.2 122.03L231.78 125.33L224.53 128.92L217.44 132.78L210.51 136.89L203.76 141.27L197.2 145.89L190.82 150.76L184.64 155.86L178.66 161.19L172.88 166.75L167.33 172.52L162 178.5L156.89 184.68L152.03 191.06L147.4 197.63L143.03 204.38L138.91 211.3L135.06 218.39L131.47 225.65L128.16 233.06L125.14 240.62L122.4 248.32L119.96 256.16L117.82 264.12L116 272.21L114.49 280.41L113.3 288.72L112.45 297.13L111.93 305.63L111.76 314.22L111.93 322.82L112.45 331.32L113.3 339.73L114.49 348.04L116 356.24L117.82 364.33L119.96 372.29L122.4 380.13L125.14 387.83L128.16 395.39L131.47 402.8L135.06 410.06L138.91 417.15L143.03 424.07L147.4 430.82L152.03 437.39L156.89 443.77L162 449.95L167.33 455.93L172.88 461.7L178.66 467.26L184.64 472.59L190.82 477.69L197.2 482.56L203.76 487.18L210.51 491.56L217.44 495.67L224.53 499.53L231.78 503.11L239.2 506.42L246.75 509.45L254.46 512.19L262.29 514.62L270.26 516.76L278.34 518.59L286.54 520.1L294.85 521.28L303.26 522.14L311.77 522.65L320.36 522.83L328.95 522.65L337.46 522.14L345.87 521.28L354.18 520.1L362.38 518.59L370.47 516.76L378.43 514.62L386.27 512.19L393.97 509.45L401.53 506.42L408.94 503.11L416.19 499.53L423.28 495.67L430.21 491.56L436.96 487.18L443.53 482.56L449.9 477.69L456.09 472.59L462.07 467.26L467.84 461.7L473.39 455.93L478.72 449.95L483.83 443.77L488.69 437.39L493.32 430.82L497.69 424.07L501.81 417.15L505.67 410.06L509.25 402.8L512.56 395.39L515.59 387.83L518.32 380.13L520.76 372.29L522.9 364.33L524.72 356.24L526.23 348.04L527.42 339.73L528.27 331.32L528.79 322.82L528.96 314.22L528.79 305.63L528.27 297.13L527.42 288.72L526.23 280.41L524.72 272.21L522.9 264.12L520.76 256.16L518.32 248.32L515.59 240.62L512.56 233.06L509.25 225.65L505.67 218.39L501.81 211.3L497.69 204.38L493.32 197.63L488.69 191.06L483.83 184.68L478.72 178.5L473.39 172.52L467.84 166.75L462.07 161.19L456.09 155.86L449.9 150.76L443.53 145.89L436.96 141.27L430.21 136.89L423.28 132.78L416.19 128.92L408.94 125.33L401.53 122.03L393.97 119L386.27 116.26L378.43 113.82L370.47 111.69L362.38 109.86L354.18 108.35L345.87 107.17L337.46 106.31L328.95 105.8L320.36 105.62L311.77 105.8L303.26 106.31L303.26 106.31L294.85 107.17Z"},null,-1),sa("path",{fill:"currentColor",d:"M319.61 83.99C327.9 83.99 334.61 90.7 334.61 98.99C334.61 137.95 334.61 239.82 334.61 278.78C334.61 287.06 327.9 293.77 319.63 293.77C316.62 293.77 322.6 293.77 319.6 293.77C311.32 293.77 304.61 287.06 304.61 278.78C304.61 239.82 304.61 137.95 304.61 98.99C304.61 90.7 311.33 83.99 319.61 83.99C322.61 83.99 316.61 83.99 319.61 83.99Z"},null,-1)])])};const wc={Type:{showIf:()=>!0,block:Sl.Button,key:"type",type:Ql.Value,section:0,component:dl.Select,colspan:2,options:[{value:0,text:"Momentary"},{value:1,text:"Latching"}],label:"Type",helpText:"\n      Button type can be momentary, which means that configured MIDI message is sent as soon as\n      button is released, or latching, which means that MIDI message is sent on\n      second button press. All buttons are configured as momentary by\n      default. Depending on message type this setting can be ignored."},MidiMessage:{key:"messageType",type:Ql.Value,section:1,component:dl.Select,options:[{value:Ml.Note,text:"Note"},{value:Ml.ProgramChange,text:"Program Change"},{value:Ml.BankSelectProgramChange,text:"Bank Select (MSB/LSB) + Program Change"},{value:Ml.ProgramChangeInc,text:"Program Change Inc"},{value:Ml.ProgramChangeDec,text:"Program Change Dec"},{value:Ml.ProgramChangeOffsetInc,text:"Program Change Offset Increment"},{value:Ml.ProgramChangeOffsetDec,text:"Program Change Offset Decrement"},{value:Ml.ControlChange,text:"CC"},{value:Ml.ControlChangeOff,text:"CC/0 Off"},{value:Ml.MmcStop,text:"MMC Stop"},{value:Ml.MmcPlay,text:"MMC Play"},{value:Ml.MmcPlayStop,text:"MMC Play/Stop"},{value:Ml.MmcRecord,text:"MMC Record"},{value:Ml.SaxFingeringKey,text:"Sax Fingering Key (no MIDI)"},{value:Ml.RealTimeClock,text:"Real Time Clock"},{value:Ml.RealTimeStart,text:"Real Time Start"},{value:Ml.RealTimeContinue,text:"Real Time Continue"},{value:Ml.RealTimeStop,text:"Real Time Stop"},{value:Ml.RealTimeActiveSensing,text:"Real Time Active Sensing"},{value:Ml.RealTimeSystemReset,text:"Real Time System Reset"},{value:Ml.None,text:"None"},{value:Ml.PresetChange,text:"Preset Change"},{value:Ml.MultiValueIncResetNote,text:"Multi Value IncReset Note"},{value:Ml.MultiValueIncDecNote,text:"Multi Value IncDec Note"},{value:Ml.MultiValueIncResetCC,text:"Multi Value IncReset CC"},{value:Ml.MultiValueIncDecCC,text:"Multi Value IncDec CC"},{value:Ml.NoteOffOnly,text:"Note Off Only"},{value:Ml.ControlChange0Only,text:"CC/0 only"},{value:Ml.BpmInc,text:"BPM Inc"},{value:Ml.BpmDec,text:"BPM Dec"},{value:Ml.SaxTransposeInc,text:"Transpose Inc"},{value:Ml.SaxTransposeDec,text:"Transpose Dec"},{value:Ml.SaxPitchBendCenterCapture,text:"PB Center Capture ()"},{value:Ml.CustomSysEx,text:"SysEx (HEX)"}],label:"Message type",helpText:"Midisaxo   :\n\n  - Transpose Inc/Dec:   (  #11) .\n  - PB Center Capture:    (0)   (  ).\n\nPB Center Capture ():\n  1)       \n  2)       \n  3)     0()  ,    ()  .\n\n:       .",block:Sl.Button},MidiChannel:{showIf:e=>!Ol.includes(e.messageType),key:"midiChannel",type:Ql.Value,block:Sl.Button,section:4,component:dl.Input,min:1,max:17,label:"MIDI channel",helpText:"Setting the channel to value 17 will cause sending of data on each MIDI channel."},MidiId:{showIf:e=>!Al.includes(e.messageType)&&e.messageType!==Ml.BankSelectProgramChange,key:"midiId",type:Ql.Value,section:2,component:dl.Input,min:0,max:127,label:"MIDI ID",helpText:"",block:Sl.Button},MidiIdProgram:{showIf:e=>e.messageType==Ml.BankSelectProgramChange,key:"midiId",type:Ql.Value,section:2,component:dl.Input,min:0,max:127,label:"Program (PC)",helpText:"Program Change number (0-127). Some devices label programs as 1-128.",block:Sl.Button},Preset:{showIf:e=>e.messageType==Ml.PresetChange,key:"preset",type:Ql.Value,section:2,component:dl.Input,min:0,max:9,label:"Preset",helpText:"Preset to switch to once the button is pressed. Numbering starts from 0, so value 0 will load preset 1.",block:Sl.Button},Value:{showIf:e=>!Pl.includes(e.messageType)&&e.messageType!==Ml.BankSelectProgramChange,key:"value",type:Ql.Value,section:3,component:dl.Input,min:1,max:127,label:"Value",helpText:"Velocity for notes, control value for CC, increment/decrement value for Multi Value message types or offset for Program Change.",block:Sl.Button},ValueBank:{showIf:e=>e.messageType==Ml.BankSelectProgramChange,key:"value",type:Ql.Value,section:3,component:dl.Input,min:0,max:16383,label:"Bank (0-16383)",helpText:"14-bit bank number. MSB = bank >> 7, LSB = bank & 0x7F. OpenDeck sends CC#0 (MSB), CC#32 (LSB), then Program Change.",block:Sl.Button},SaxRegisterKeyMap:{showIf:()=>!1,key:"saxRegisterKeyMap",type:Ql.Value,section:5,component:dl.Select,options:[],label:"Sax register key map",helpText:"0 = default/identity; otherwise mappedIndex+1",block:Sl.Button}},Cc={block:Sl.Button,title:"Button",routeName:"device-buttons",iconComponent:vt(Lc),componentCountResponseIndex:0,sections:wc,routes:[{path:"buttons",name:"device-buttons",component:Xu,redirect:{name:"device-buttons-list"},children:[{path:"list",name:"device-buttons-list",component:Tu,props:{block:Sl.Button,routeName:"device-buttons-form",segmentGrid:!0}},{path:"buttons/:index",name:"device-buttons-form",component:ec,props:{block:Sl.Button}}]}]};var Sc=mn({name:"Display",setup(){const{sections:e}=_c;return{Block:Sl,sections:e}}});const kc={class:"form-grid"};Sc.render=function(e,t,n,r,a,o){const i=Vn("FormField"),l=Vn("Section"),s=Vn("DeviceSettings");return Yr(),ra(s,{class:"i2c flex flex-wrap flex-grow",block:e.Block.Display},{default:nn(({form:t,showField:n,onSettingChange:r})=>[ua(l,{title:"Display"},{default:nn(()=>[sa("div",kc,[ua(i,{value:t.enableDisplay,"field-definition":e.sections.EnableDisplay,onModified:r},null,8,["value","field-definition","onModified"]),n(e.sections.DisplayController)?(Yr(),ra(i,{key:0,value:t.displayController,"field-definition":e.sections.DisplayController,onModified:r},null,8,["value","field-definition","onModified"])):fa("",!0),n(e.sections.DisplayResolution)?(Yr(),ra(i,{key:1,value:t.displayResolution,"field-definition":e.sections.DisplayResolution,onModified:r},null,8,["value","field-definition","onModified"])):fa("",!0),n(e.sections.DeviceInfoOnStartup)?(Yr(),ra(i,{key:2,value:t.deviceInfoStartup,"field-definition":e.sections.DeviceInfoOnStartup,onModified:r},null,8,["value","field-definition","onModified"])):fa("",!0),n(e.sections.AlternateMidiNoteDisplay)?(Yr(),ra(i,{key:3,value:t.alternateMidiNoteDisplay,"field-definition":e.sections.AlternateMidiNoteDisplay,onModified:r},null,8,["value","field-definition","onModified"])):fa("",!0),n(e.sections.MidiEventRetentionTime)?(Yr(),ra(i,{key:4,value:t.midiEventRetentionTime,"field-definition":e.sections.MidiEventRetentionTime,onModified:r},null,8,["value","field-definition","onModified"])):fa("",!0)])]),_:2},1024)]),_:1},8,["block"])};var Ic=mn({name:"IconDisplay"});const Ec={"aria-hidden":"true",focusable:"false","data-icon":"window-maximize",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 640",rel:"display by Neha Tyagi from the Noun Project"};Ic.render=function(e,t,n,r,a,o){return Yr(),na("svg",Ec,[...t[0]||(t[0]=[sa("path",{fill:"currentColor",d:"M367.78 473.54C314.69 473.54 261.6 473.54 208.51 473.54C196.3 473.54 184.09 473.54 172.01 473.54C176.39 477.92 180.9 482.43 185.28 486.81C185.28 449.25 185.28 411.69 185.28 374.13C185.28 314.27 185.28 254.41 185.28 194.42C185.28 180.75 185.28 166.94 185.28 153.27C180.9 157.65 176.39 162.17 172.01 166.55C205.46 166.55 239.04 166.55 272.48 166.55C325.57 166.55 378.66 166.55 431.75 166.55C443.97 166.55 456.18 166.55 468.25 166.55C463.87 162.17 459.36 157.65 454.98 153.27C454.98 190.83 454.98 228.39 454.98 265.96C454.98 325.82 454.98 385.67 454.98 445.67C454.98 459.34 454.98 473.14 454.98 486.81C454.98 503.93 481.53 503.93 481.53 486.81C481.53 449.25 481.53 411.69 481.53 374.13C481.53 314.27 481.53 254.41 481.53 194.42C481.53 180.75 481.53 166.94 481.53 153.27C481.53 146.11 475.42 140 468.25 140C434.81 140 401.23 140 367.78 140C314.69 140 261.6 140 208.51 140C196.3 140 184.09 140 172.01 140C164.84 140 158.74 146.11 158.74 153.27C158.74 190.83 158.74 228.39 158.74 265.96C158.74 325.82 158.74 385.67 158.74 445.67C158.74 459.34 158.74 473.14 158.74 486.81C158.74 493.98 164.84 500.08 172.01 500.08C205.46 500.08 239.04 500.08 272.48 500.08C325.57 500.08 378.66 500.08 431.75 500.08C443.97 500.08 456.18 500.08 468.25 500.08C485.24 500.08 485.24 473.54 468.25 473.54C434.81 473.54 401.23 473.54 367.78 473.54Z"},null,-1),sa("path",{fill:"currentColor",d:"M81.23 279.49C81.23 324.22 81.23 369.08 81.23 413.81C81.23 424.16 81.23 434.65 81.23 445C81.23 462.12 107.77 462.12 107.77 445C107.77 416.73 107.77 388.59 107.77 360.32C107.77 315.6 107.77 270.73 107.77 226.01C107.77 215.65 107.77 205.17 107.77 194.82C107.77 177.83 81.23 177.83 81.23 194.82C81.23 194.82 81.23 194.82 81.23 194.82C81.23 232.42 81.23 260.65 81.23 279.49Z"},null,-1),sa("path",{fill:"currentColor",d:"M532.23 279.49C532.23 324.22 532.23 369.08 532.23 413.81C532.23 424.16 532.23 434.65 532.23 445C532.23 462.12 558.77 462.12 558.77 445C558.77 416.73 558.77 388.59 558.77 360.32C558.77 315.6 558.77 270.73 558.77 226.01C558.77 215.65 558.77 205.17 558.77 194.82C558.77 177.83 532.23 177.83 532.23 194.82C532.23 194.82 532.23 194.82 532.23 194.82C532.23 232.42 532.23 260.65 532.23 279.49Z"},null,-1)])])};const Mc={EnableDisplay:{block:Sl.Display,key:"enableDisplay",type:Ql.Setting,section:0,settingIndex:6,component:dl.Toggle,label:"Enable",helpText:"Enables or disables the usage of small OLED/LCD displays."},DeviceInfoOnStartup:{showIf:e=>e.enableDisplay,block:Sl.Display,key:"deviceInfoStartup",type:Ql.Setting,section:0,settingIndex:0,component:dl.Toggle,label:"Show device info on startup",helpText:"Enable or disable device info message on startup (firmware version and board name)."},DisplayController:{showIf:e=>e.enableDisplay,block:Sl.Display,key:"displayController",type:Ql.Setting,section:0,settingIndex:1,component:dl.Select,options:[{value:0,text:"None"},{value:1,text:"SSD1306"},{value:2,text:"SH1106"},{value:3,text:"SSD1306 (vcomh0)"},{value:4,text:"SSD1306 (alt0)"}],label:"Display controller",helpText:"If the screen contents look horizontally shifted (common on some 128x64 modules like GME12864-77), keep the controller family but try SSD1306 (alt0) / SSD1306 (vcomh0). If that still doesn't help, try SH1106."},DisplayResolution:{showIf:e=>e.enableDisplay,block:Sl.Display,key:"displayResolution",type:Ql.Setting,section:0,settingIndex:2,component:dl.Select,options:[{value:0,text:"None"},{value:1,text:"128x64"},{value:2,text:"128x32"}],label:"Display resolution",helpText:""},MidiEventRetentionTime:{showIf:e=>e.enableDisplay,block:Sl.Display,key:"midiEventRetentionTime",type:Ql.Setting,section:0,settingIndex:3,component:dl.Select,options:[{value:0,text:"0"},{value:1,text:"1"},{value:2,text:"2"},{value:3,text:"3"},{value:4,text:"4"},{value:5,text:"5"}],label:"MIDI event time",helpText:"Timeout after which any message on display will be cleared. If set to 0, message stays on display until new event occurs."},AlternateMidiNoteDisplay:{showIf:e=>e.enableDisplay,block:Sl.Display,key:"alternateMidiNoteDisplay",type:Ql.Setting,section:0,settingIndex:4,component:dl.Toggle,label:"Alternate MIDI note Display",helpText:"If enabled, MIDI note data will be displayed in note-key format (ie. C#4). If disabled, MIDI note number will be displayed instead."}},_c={block:Sl.Display,title:"I2C",routeName:"device-i2c",iconComponent:vt(Ic),sections:Mc,routes:[{path:"i2c:",name:"device-i2c",component:Sc}]};var Tc=mn({name:"DeviceForm",props:{block:{required:!0,type:Number},gridCols:{default:3,type:Number}},setup(e){const{numberOfComponents:t,outputId:n}=$f,r=Aa(()=>Number(jL.currentRoute.value.params.index));return{outputId:n,numberOfComponents:t,index:r,...Ys(e.block,Ql.Value,r)}}});const Nc={class:"w-full section-heading"},Dc={class:"section-heading-inner flex"},Rc={class:"mr-6 text-gray-400"},Pc={class:"hidden md:block md:flex-grow text-right"},Ac={class:"section-content"};Tc.render=function(e,t,n,r,a,o){const i=Vn("router-link"),l=Vn("Siblinks"),s=Vn("SpinnerOverlay"),u=Vn("FormField");return Yr(),na("form",{class:"relative section",novalidate:"",onSubmit:t[0]||(t[0]=Eo(()=>{},["prevent"]))},[sa("h1",Nc,[sa("div",Dc,[ua(i,{class:"mr-6",to:{name:e.blockDefinition.routeName}},{default:nn(()=>[sa("h2",null,X(e.blockDefinition.title)+"s",1)]),_:1},8,["to"]),t[1]||(t[1]=sa("span",{class:"mr-6"},"",-1)),sa("div",Rc,[da(X(e.blockDefinition.title)+" ",1),sa("strong",null,X(e.index),1)]),sa("div",Pc,[ua(l,{"param-key":"index",current:e.index,total:e.numberOfComponents[e.block],params:{outputId:e.outputId}},null,8,["current","total","params"])])])]),e.loading?(Yr(),ra(s,{key:0})):fa("",!0),sa("div",Ac,[sa("div",{class:H(["form-grid",`lg:grid-cols-${e.gridCols}`])},[(Yr(!0),na(zr,null,jn(e.sections,t=>(Yr(),na(zr,null,[e.showField(t)?(Yr(),ra(u,{key:t.key,class:H(`col-span-${t.colspan||1}`),value:e.formData[t.key],"field-definition":t,onModified:e.onValueChange},null,8,["class","value","field-definition","onModified"])):fa("",!0)],64))),256))],2)])],32)};var Oc=mn({name:"IconEncoder"});const Fc={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 640 640","xml:space":"preserve"};Oc.render=function(e,t,n,r,a,o){return Yr(),na("svg",Fc,[...t[0]||(t[0]=[pa('<path fill="currentColor" fill-opacity="1" d="M247.45 180.09L248.54 180.2L249.62 180.36L250.69 180.55L251.75 180.79L252.78 181.07L253.81 181.39L254.81 181.74L255.79 182.14L256.76 182.57L257.7 183.03L258.63 183.53L259.53 184.07L260.41 184.64L261.27 185.24L262.1 185.88L262.9 186.54L263.68 187.24L264.43 187.96L265.15 188.71L265.85 189.49L266.51 190.29L267.15 191.12L267.75 191.98L268.32 192.86L268.86 193.76L269.36 194.69L269.82 195.63L270.25 196.6L270.65 197.58L271 198.58L271.32 199.61L271.6 200.64L271.84 201.7L272.03 202.77L272.19 203.85L272.3 204.94L272.37 206.05L272.39 207.17L272.39 400L230.78 400L230.78 238.25L230.77 237.62L230.73 237L230.67 236.39L230.58 235.78L230.47 235.18L230.34 234.59L230.18 234.01L230.01 233.43L229.81 232.87L229.59 232.32L229.34 231.77L229.08 231.24L228.8 230.73L228.5 230.22L228.18 229.73L227.84 229.25L227.49 228.78L227.11 228.33L226.72 227.89L226.32 227.47L225.89 227.06L225.46 226.67L225.01 226.3L224.54 225.94L224.06 225.61L223.57 225.29L223.06 224.98L222.54 224.7L222.01 224.44L221.47 224.2L220.91 223.98L220.35 223.78L219.78 223.6L219.2 223.44L218.6 223.31L218 223.2L217.4 223.11L216.78 223.05L216.16 223.01L215.53 223L145.96 223L145.4 223.01L144.85 223.04L144.3 223.1L143.76 223.18L143.22 223.28L142.7 223.39L142.18 223.53L141.67 223.69L141.17 223.87L140.68 224.07L140.2 224.28L139.72 224.51L139.26 224.77L138.81 225.03L138.37 225.32L137.95 225.62L137.53 225.93L137.13 226.27L136.74 226.61L136.36 226.97L136 227.35L135.66 227.74L135.32 228.14L135.01 228.56L134.71 228.98L134.42 229.42L134.16 229.87L133.9 230.33L133.67 230.81L133.46 231.29L133.26 231.78L133.08 232.28L132.92 232.79L132.78 233.31L132.67 233.83L132.57 234.37L132.49 234.91L132.43 235.46L132.4 236.01L132.39 236.57L132.39 400L91 400L91 207.39L91.02 206.26L91.09 205.14L91.2 204.04L91.35 202.95L91.55 201.87L91.79 200.81L92.07 199.76L92.39 198.73L92.75 197.72L93.15 196.73L93.58 195.76L94.05 194.8L94.56 193.87L95.1 192.96L95.67 192.08L96.28 191.21L96.92 190.38L97.59 189.57L98.29 188.78L99.02 188.02L99.78 187.29L100.56 186.59L101.37 185.92L102.21 185.28L103.07 184.68L103.96 184.1L104.87 183.56L105.8 183.06L106.75 182.59L107.73 182.15L108.72 181.76L109.73 181.4L110.76 181.08L111.8 180.8L112.87 180.56L113.94 180.36L115.04 180.2L116.14 180.09L117.26 180.02L118.39 180L245.22 180L246.34 180.02L247.45 180.09Z"></path><path fill="currentColor" fill-opacity="1" d="M412.37 413.95L412.3 415.06L412.19 416.15L412.03 417.23L411.84 418.3L411.6 419.36L411.32 420.39L411 421.42L410.65 422.42L410.25 423.4L409.82 424.37L409.36 425.31L408.86 426.24L408.32 427.14L407.75 428.02L407.15 428.88L406.51 429.71L405.85 430.51L405.15 431.29L404.43 432.04L403.68 432.76L402.9 433.46L402.1 434.12L401.27 434.76L400.41 435.36L399.53 435.93L398.63 436.47L397.7 436.97L396.76 437.43L395.79 437.86L394.81 438.26L393.81 438.61L392.78 438.93L391.75 439.21L390.69 439.45L389.62 439.64L388.54 439.8L387.45 439.91L386.34 439.98L385.22 440L258.39 440L257.26 439.98L256.14 439.91L255.04 439.8L253.94 439.64L252.87 439.44L251.8 439.2L250.76 438.92L249.73 438.6L248.72 438.24L247.73 437.85L246.75 437.41L245.8 436.94L244.87 436.44L243.96 435.9L243.07 435.32L242.21 434.72L241.37 434.08L240.56 433.41L239.78 432.71L239.02 431.98L238.29 431.22L237.59 430.43L236.92 429.62L236.28 428.79L235.67 427.92L235.1 427.04L234.56 426.13L234.05 425.2L233.58 424.24L233.15 423.27L232.75 422.28L232.39 421.27L232.07 420.24L231.79 419.19L231.55 418.13L231.35 417.05L231.2 415.96L231.09 414.86L231.02 413.74L231 412.61L231 240L272.39 240L272.39 383.43L272.4 383.99L272.43 384.54L272.49 385.09L272.57 385.63L272.67 386.17L272.78 386.69L272.92 387.21L273.08 387.72L273.26 388.22L273.46 388.71L273.67 389.19L273.9 389.67L274.16 390.13L274.42 390.58L274.71 391.02L275.01 391.44L275.32 391.86L275.66 392.26L276 392.65L276.36 393.03L276.74 393.39L277.13 393.73L277.53 394.07L277.95 394.38L278.37 394.68L278.81 394.97L279.26 395.23L279.72 395.49L280.2 395.72L280.68 395.93L281.17 396.13L281.67 396.31L282.18 396.47L282.7 396.61L283.22 396.72L283.76 396.82L284.3 396.9L284.85 396.96L285.4 396.99L285.96 397L355.53 397L356.16 396.99L356.78 396.95L357.4 396.89L358 396.8L358.6 396.69L359.2 396.56L359.78 396.4L360.35 396.22L360.91 396.02L361.47 395.8L362.01 395.56L362.54 395.3L363.06 395.02L363.57 394.71L364.06 394.39L364.54 394.06L365.01 393.7L365.46 393.33L365.89 392.94L366.32 392.53L366.72 392.11L367.11 391.67L367.49 391.22L367.84 390.75L368.18 390.27L368.5 389.78L368.8 389.27L369.08 388.76L369.34 388.23L369.59 387.68L369.81 387.13L370.01 386.57L370.18 385.99L370.34 385.41L370.47 384.82L370.58 384.22L370.67 383.61L370.73 383L370.77 382.38L370.78 381.75L370.78 240L412.39 240L412.39 412.83L412.37 413.95Z"></path><path fill="currentColor" fill-opacity="1" d="M527.45 180.09L528.54 180.2L529.62 180.36L530.69 180.55L531.75 180.79L532.78 181.07L533.81 181.39L534.81 181.74L535.79 182.14L536.76 182.57L537.7 183.03L538.63 183.53L539.53 184.07L540.41 184.64L541.27 185.24L542.1 185.88L542.9 186.54L543.68 187.24L544.43 187.96L545.15 188.71L545.85 189.49L546.51 190.29L547.15 191.12L547.75 191.98L548.32 192.86L548.86 193.76L549.36 194.69L549.82 195.63L550.25 196.6L550.65 197.58L551 198.58L551.32 199.61L551.6 200.64L551.84 201.7L552.03 202.77L552.19 203.85L552.3 204.94L552.37 206.05L552.39 207.17L552.39 400L511.45 400L511.45 237.92L511.44 237.29L511.4 236.67L511.34 236.05L511.25 235.45L511.14 234.85L511.01 234.25L510.85 233.67L510.67 233.1L510.47 232.54L510.25 231.98L510.01 231.44L509.75 230.91L509.47 230.39L509.17 229.89L508.85 229.39L508.51 228.91L508.15 228.45L507.78 227.99L507.39 227.56L506.98 227.13L506.56 226.73L506.12 226.34L505.67 225.97L505.21 225.61L504.73 225.27L504.23 224.95L503.73 224.65L503.21 224.37L502.68 224.11L502.13 223.87L501.58 223.64L501.02 223.44L500.45 223.27L499.86 223.11L499.27 222.98L498.67 222.87L498.06 222.78L497.45 222.72L496.83 222.68L496.2 222.67L426.63 222.67L426.07 222.68L425.51 222.71L424.97 222.77L424.42 222.84L423.89 222.94L423.37 223.06L422.85 223.2L422.34 223.36L421.84 223.54L421.34 223.73L420.86 223.95L420.39 224.18L419.93 224.43L419.48 224.7L419.04 224.98L418.61 225.28L418.2 225.6L417.8 225.93L417.41 226.28L417.03 226.64L416.67 227.02L416.32 227.41L415.99 227.81L415.67 228.22L415.37 228.65L415.09 229.09L414.82 229.54L414.57 230L414.34 230.47L414.12 230.95L413.93 231.45L413.75 231.95L413.59 232.46L413.45 232.98L413.33 233.5L413.23 234.03L413.16 234.58L413.1 235.12L413.07 235.68L413.06 236.24L413.06 400L371 400L371 207.39L371.02 206.26L371.09 205.14L371.2 204.04L371.35 202.95L371.55 201.87L371.79 200.81L372.07 199.76L372.39 198.73L372.75 197.72L373.15 196.73L373.58 195.76L374.05 194.8L374.56 193.87L375.1 192.96L375.67 192.08L376.28 191.21L376.92 190.38L377.59 189.57L378.29 188.78L379.02 188.02L379.78 187.29L380.56 186.59L381.37 185.92L382.21 185.28L383.07 184.68L383.96 184.1L384.87 183.56L385.8 183.06L386.75 182.59L387.73 182.15L388.72 181.76L389.73 181.4L390.76 181.08L391.8 180.8L392.87 180.56L393.94 180.36L395.04 180.2L396.14 180.09L397.26 180.02L398.39 180L525.22 180L526.34 180.02L527.45 180.09Z"></path><path fill="currentColor" fill-opacity="1" d="M132.37 413.95L132.3 415.06L132.19 416.15L132.04 417.23L131.84 418.3L131.6 419.36L131.33 420.39L131.01 421.42L130.65 422.42L130.26 423.4L129.83 424.37L129.36 425.31L128.86 426.24L128.32 427.14L127.75 428.02L127.15 428.88L126.52 429.71L125.85 430.51L125.16 431.29L124.44 432.04L123.68 432.76L122.9 433.46L122.1 434.12L121.27 434.76L120.41 435.36L119.53 435.93L118.63 436.47L117.71 436.97L116.76 437.43L115.8 437.86L114.81 438.26L113.81 438.61L112.79 438.93L111.75 439.21L110.7 439.45L109.63 439.64L108.55 439.8L107.45 439.91L106.34 439.98L105.22 440L-21.61 440L-22.74 439.98L-23.86 439.91L-24.96 439.8L-26.05 439.64L-27.13 439.44L-28.19 439.2L-29.24 438.92L-30.27 438.6L-31.28 438.24L-32.27 437.85L-33.24 437.41L-34.2 436.94L-35.13 436.44L-36.04 435.9L-36.92 435.32L-37.79 434.72L-38.62 434.08L-39.43 433.41L-40.22 432.71L-40.98 431.98L-41.71 431.22L-42.41 430.43L-43.08 429.62L-43.72 428.79L-44.32 427.92L-44.9 427.04L-45.44 426.13L-45.94 425.2L-46.41 424.24L-46.85 423.27L-47.24 422.28L-47.6 421.27L-47.92 420.24L-48.2 419.19L-48.44 418.13L-48.64 417.05L-48.8 415.96L-48.91 414.86L-48.98 413.74L-49 412.61L-49 240L-7.61 240L-7.61 383.43L-7.6 383.99L-7.57 384.54L-7.51 385.09L-7.43 385.63L-7.33 386.17L-7.22 386.69L-7.08 387.21L-6.92 387.72L-6.74 388.22L-6.54 388.71L-6.33 389.19L-6.1 389.67L-5.84 390.13L-5.58 390.58L-5.29 391.02L-4.99 391.44L-4.68 391.86L-4.34 392.26L-4 392.65L-3.64 393.03L-3.26 393.39L-2.87 393.73L-2.47 394.07L-2.05 394.38L-1.63 394.68L-1.19 394.97L-0.74 395.23L-0.28 395.49L0.2 395.72L0.68 395.93L1.17 396.13L1.67 396.31L2.18 396.47L2.7 396.61L3.22 396.72L3.76 396.82L4.3 396.9L4.85 396.96L5.4 396.99L5.96 397L75.53 397L76.16 396.99L76.78 396.95L77.4 396.89L78 396.8L78.6 396.69L79.2 396.56L79.78 396.4L80.35 396.22L80.91 396.02L81.47 395.8L82.01 395.56L82.54 395.3L83.06 395.02L83.57 394.71L84.06 394.39L84.54 394.06L85.01 393.7L85.46 393.33L85.89 392.94L86.32 392.53L86.72 392.11L87.11 391.67L87.49 391.22L87.84 390.75L88.18 390.27L88.5 389.78L88.8 389.27L89.08 388.76L89.34 388.23L89.59 387.68L89.81 387.13L90.01 386.57L90.18 385.99L90.34 385.41L90.47 384.82L90.58 384.22L90.67 383.61L90.73 383L90.77 382.38L90.78 381.75L90.78 240L132.39 240L132.39 412.83L132.37 413.95Z"></path><path fill="currentColor" fill-opacity="1" d="M692.37 413.95L692.3 415.06L692.19 416.15L692.04 417.23L691.84 418.3L691.6 419.36L691.33 420.39L691.01 421.42L690.65 422.42L690.26 423.4L689.83 424.37L689.36 425.31L688.86 426.24L688.32 427.14L687.75 428.02L687.15 428.88L686.52 429.71L685.85 430.51L685.16 431.29L684.44 432.04L683.68 432.76L682.9 433.46L682.1 434.12L681.27 434.76L680.41 435.36L679.53 435.93L678.63 436.47L677.71 436.97L676.76 437.43L675.8 437.86L674.81 438.26L673.81 438.61L672.79 438.93L671.75 439.21L670.7 439.45L669.63 439.64L668.55 439.8L667.45 439.91L666.34 439.98L665.22 440L538.39 440L537.26 439.98L536.14 439.91L535.04 439.8L533.95 439.64L532.87 439.44L531.81 439.2L530.76 438.92L529.73 438.6L528.72 438.24L527.73 437.85L526.76 437.41L525.8 436.94L524.87 436.44L523.96 435.9L523.08 435.32L522.21 434.72L521.38 434.08L520.57 433.41L519.78 432.71L519.02 431.98L518.29 431.22L517.59 430.43L516.92 429.62L516.28 428.79L515.68 427.92L515.1 427.04L514.56 426.13L514.06 425.2L513.59 424.24L513.15 423.27L512.76 422.28L512.4 421.27L512.08 420.24L511.8 419.19L511.56 418.13L511.36 417.05L511.2 415.96L511.09 414.86L511.02 413.74L511 412.61L511 240L552.39 240L552.39 383.43L552.4 383.99L552.43 384.54L552.49 385.09L552.57 385.63L552.67 386.17L552.78 386.69L552.92 387.21L553.08 387.72L553.26 388.22L553.46 388.71L553.67 389.19L553.9 389.67L554.16 390.13L554.42 390.58L554.71 391.02L555.01 391.44L555.32 391.86L555.66 392.26L556 392.65L556.36 393.03L556.74 393.39L557.13 393.73L557.53 394.07L557.95 394.38L558.37 394.68L558.81 394.97L559.26 395.23L559.72 395.49L560.2 395.72L560.68 395.93L561.17 396.13L561.67 396.31L562.18 396.47L562.7 396.61L563.22 396.72L563.76 396.82L564.3 396.9L564.85 396.96L565.4 396.99L565.96 397L635.53 397L636.16 396.99L636.78 396.95L637.4 396.89L638 396.8L638.6 396.69L639.2 396.56L639.78 396.4L640.35 396.22L640.91 396.02L641.47 395.8L642.01 395.56L642.54 395.3L643.06 395.02L643.57 394.71L644.06 394.39L644.54 394.06L645.01 393.7L645.46 393.33L645.89 392.94L646.32 392.53L646.72 392.11L647.11 391.67L647.49 391.22L647.84 390.75L648.18 390.27L648.5 389.78L648.8 389.27L649.08 388.76L649.34 388.23L649.59 387.68L649.81 387.13L650.01 386.57L650.18 385.99L650.34 385.41L650.47 384.82L650.58 384.22L650.67 383.61L650.73 383L650.77 382.38L650.78 381.75L650.78 240L692.39 240L692.39 412.83L692.37 413.95Z"></path>',5)])])};const Bc={Enabled:{block:Sl.Encoder,key:"enabled",type:Ql.Value,section:0,component:dl.Toggle,label:"Enable",helpText:"Encoder needs to be enabled in order to use it.\n    Note that enabling the encoder disables two digital inputs (buttons)."},InvertState:{showIf:e=>e.enabled,block:Sl.Encoder,key:"invertState",type:Ql.Value,section:1,component:dl.Toggle,label:"Invert",helpText:"Inverts the direction of the encoder. For example, if 7Fh01h encoding mode is used, MIDI value 127 will\n    be sent in backward direction, and 1 in forward direction. If inversion is enabled, value 1 will be sent when going backwards,\n    and 127 when going forward. Same logic applies to any other specified encoding mode."},EncodingMode:{showIf:e=>e.enabled,block:Sl.Encoder,key:"encodingMode",type:Ql.Value,section:2,colspan:2,component:dl.Select,options:[{value:Tl.Controlchange7F,text:"Control change - 7Fh01h"},{value:Tl.Controlchange3F,text:"Control change - 3Fh41h"},{value:Tl.Controlchange41,text:"Control change - 41h01h"},{value:Tl.SingleNoteWithVariableValue,text:"Single note / variable value"},{value:Tl.SingleNoteWithFixedValueBothDirections,text:"Single note / repeated value both directions"},{value:Tl.SingleNoteWithFixedValueOneDirection0OtherDirection,text:"Single note / repeated value one direction, 0 value other"},{value:Tl.TwoNoteWithFixedValueBothDirections,text:"Two note / repeated value both directions"},{value:Tl.CC7bit,text:"Control change - Continuous 7-bit"},{value:Tl.CC14bit,text:"Control change - Continuous 14-bit"},{value:Tl.ProgramChange,text:"Program change"},{value:Tl.PitchBend,text:"Pitch bend"},{value:Tl.NRPN7bit,text:"NRPN/7-bit"},{value:Tl.NRPN14bit,text:"NRPN/14-bit"},{value:Tl.PresetChange,text:"Change preset"},{value:Tl.Bpm,text:"BPM"}],label:"Message type",helpText:"Specifies the MIDI message which will be sent by the encoder. If Change Preset type is used,\n    encoder will be used only to switch between the presets on the device and no MIDI message will be sent. Moving the encoder\n    backward will decrement the preset by 1 and moving it forward will increment it, unless Invert option is used. In that case\n    inverted logic applies. Note that in order for this option to work accross all presets, Change Preset type should be set in each preset."},MidiChannel:{showIf:e=>!Vl.includes(e.encodingMode)&&!!e.enabled,key:"midiChannel",type:Ql.Value,block:Sl.Encoder,section:4,component:dl.Input,min:1,max:17,label:"MIDI channel",helpText:"Setting the channel to value 17 will cause sending of data on each MIDI channel."},MidiIdLSB:{showIf:e=>!Ul.includes(e.encodingMode)&&!!e.enabled,isLsb:!0,block:Sl.Encoder,key:"midiIdLSB",type:Ql.Value,section:3,component:dl.Input,min:0,max:127,max2Byte:16383,label:"MIDI ID (LSB)",helpText:""},MidiId2:{showIf:e=>jl.includes(e.encodingMode)&&!!e.enabled,block:Sl.Encoder,key:"midiId2",type:Ql.Value,section:12,component:dl.Input,min:0,max:16383,label:"2nd MIDI ID",helpText:""},MidiIdMSB:{showIf:e=>!Ul.includes(e.encodingMode)&&!!e.enabled,isMsb:!0,block:Sl.Encoder,key:"midiIdMSB",type:Ql.Value,section:7,component:dl.Input,min:0,max:127,label:"MIDI ID (MSB)",helpText:""},Acceleration:{showIf:e=>$l.includes(e.encodingMode)&&e.enabled,block:Sl.Encoder,key:"acceleration",type:Ql.Value,section:6,component:dl.Select,options:[{value:0,text:"Disabled"},{value:1,text:"Slow"},{value:2,text:"Medium"},{value:3,text:"Fast"}],label:"Acceleration",helpText:""},RemoteSync:{showIf:e=>Gl.includes(e.encodingMode)&&e.enabled,block:Sl.Encoder,key:"remoteSync",type:Ql.Value,section:8,colspan:2,component:dl.Toggle,label:"Remote sync",helpText:"Used only when continuous CC (7-bit and 14-bit) or pitch bend MIDI messages are used.\n    If enabled, CC/pitch bend value received via MIDI IN will be applied internally to the encoder with same MIDI ID and MIDI channel,\n    so that next encoder turn increments or decrements received value instead of the last value it sent."},RepeatedValue:{showIf:e=>ql.includes(e.encodingMode)&&e.enabled,block:Sl.Encoder,key:"repeatedValue",type:Ql.Value,section:11,component:dl.Input,min:0,max:16383,label:"Repeated value",helpText:"Specifies the constant note value to be sent when encoder is moved."},PulsesPerStep:{showIf:e=>e.enabled,block:Sl.Encoder,key:"pulsesPerStep",type:Ql.Value,section:5,component:dl.Select,options:[{value:2,text:"2"},{value:3,text:"3"},{value:4,text:"4"}],label:"Pulses per step",helpText:"Amount of pulses encoder must generate in order for firmware to register it as single step. Usually 4."},LowerLimit:{showIf:e=>Hl.includes(e.encodingMode)&&e.enabled,block:Sl.Encoder,key:"lowerLimit",type:Ql.Value,section:9,component:dl.Input,min:0,max:16383,label:"Lower limit",helpText:"Specifies the minimum value which is sent by the encoder input. Limit is\n    type-dependent. For most types, total range is 0-127. For pitch bend, 14-bit NRPN and\n    14-bit CC, total range is 0-16383."},UpperLimit:{showIf:e=>Hl.includes(e.encodingMode)&&e.enabled,block:Sl.Encoder,key:"upperLimit",type:Ql.Value,section:10,component:dl.Input,min:0,max:16383,label:"Upper limit",helpText:"Specifies the minimum value which is sent by the analog input. Scaling is used\n    here, so this value will be sent when the analog input is at its lowest position. Limit is\n    type-dependent. For most types, total range is 0-127. For pitch bend, 14-bit NRPN and\n    14-bit CC, total range is 0-16383."}},Uc={block:Sl.Encoder,title:"Encoder",routeName:"device-encoders",iconComponent:vt(Oc),componentCountResponseIndex:1,sections:Bc,routes:[{path:"encoders",name:"device-encoders",component:Xu,redirect:{name:"device-encoders-list"},children:[{path:"list",name:"device-encoders-list",component:Tu,props:{block:Sl.Encoder,routeName:"device-encoders-form",title:"Encoder"}},{path:"encoders/:index",name:"device-encoders-form",component:Tc,props:{block:Sl.Encoder,gridCols:4}}]}]};var Vc=mn({name:"GlobalHardware",setup(){const{valueSize:e,bootLoaderSupport:t,startFactoryReset:n,startReboot:r,startBackup:a}=$f,o=xt(!1),i=xt(""),l=xt([]),s=eu("This will reset all the parameters on the board to their factory settings. All analog inputs will be disabled as well. Depending on the board, this can take up to 30 seconds. Proceed?",n),u=eu("This will initiate a full backup of all parameters stored on the board. Proceed?",a);return{modalVisible:o,modalTitle:i,availableUpdates:l,onFactoryResetClicked:s,valueSize:e,bootLoaderSupport:t,GitHubFirmwareWebBaseUrl:ml,OpenDeckUpstreamWikiFlashingUrl:vl,startReboot:r,onBackupClicked:u,onBackupFileSelected:e=>{e.length&&$f.startRestore(e[0])}}}});const $c={class:"form-grid"},Gc={class:"form-field"},Hc={class:"form-field"},qc={key:0,class:"form-field"},jc={class:"mt-2 flex flex-wrap gap-2"},zc=["href"],Wc=["href"],Kc={class:"form-grid"},Xc={class:"form-field"},Qc={class:"form-field"};Vc.render=function(e,t,n,r,a,o){const i=Vn("Button"),l=Vn("ButtonLink"),s=Vn("Section"),u=Vn("FormFileInput");return Yr(),na(zr,null,[ua(s,{title:"Hardware settings"},{default:nn(()=>[sa("div",$c,[sa("div",Gc,[ua(i,{onClick:Eo(e.startReboot,["prevent"])},{default:nn(()=>[...t[0]||(t[0]=[da(" Reboot device ",-1)])]),_:1},8,["onClick"]),t[1]||(t[1]=sa("p",{class:"help-text"}," Rebooting the device will temporarily disconnect the UI. ",-1))]),sa("div",Hc,[ua(i,{onClick:Eo(e.onFactoryResetClicked,["prevent"])},{default:nn(()=>[...t[2]||(t[2]=[da(" Factory reset ",-1)])]),_:1},8,["onClick"]),t[3]||(t[3]=sa("p",{class:"help-text"}," Resets the device to factory settings. ",-1))]),e.bootLoaderSupport?(Yr(),na("div",qc,[ua(l,{to:{name:"device-firmware-update"}},{default:nn(()=>[...t[4]||(t[4]=[da(" Firmware ",-1)])]),_:1}),t[5]||(t[5]=sa("p",{class:"help-text"}," Opens the firmware page to enter bootloader mode and update firmware. ",-1)),sa("div",jc,[sa("a",{class:"btn btn-xs",href:`${e.GitHubFirmwareWebBaseUrl}/releases`,target:"_blank",rel:"noopener noreferrer"}," Firmware downloads ",8,zc),sa("a",{class:"btn btn-xs",href:e.OpenDeckUpstreamWikiFlashingUrl,target:"_blank",rel:"noopener noreferrer"}," Flashing guide ",8,Wc)])])):fa("",!0)])]),_:1}),2===e.valueSize?(Yr(),ra(s,{key:0,title:"Backup & restore",class:"w-full"},{default:nn(()=>[sa("div",Kc,[sa("div",Xc,[ua(i,{onClick:Eo(e.onBackupClicked,["prevent"])},{default:nn(()=>[...t[6]||(t[6]=[da(" Backup ",-1)])]),_:1},8,["onClick"]),t[7]||(t[7]=sa("p",{class:"help-text"}," Download a backup of your configuration (including presets). Backups are saved as a file by your browser (usually in Downloads). Consider storing backups in a cloud folder (Drive/Dropbox) or a versioned project folder. ",-1))]),sa("div",Qc,[ua(u,{label:"Restore",name:"backup-file",onChange:e.onBackupFileSelected},null,8,["onChange"]),t[8]||(t[8]=sa("p",{class:"help-text"}," Select a backup file to restore your configuration. Tip: restore backups created for the same device and a compatible firmware version. ",-1))])])]),_:1})):fa("",!0)],64)};var Zc=mn({name:"IconGlobal"});const Yc={"aria-hidden":"true",focusable:"false","data-icon":"wrench",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 640",rel:"Settings by Icon Factory from the Noun Project"};Zc.render=function(e,t,n,r,a,o){return Yr(),na("svg",Yc,[...t[0]||(t[0]=[sa("path",{fill:"currentColor","fill-opacity":"1",d:"M576.29 173.61C574.61 173.06 573.34 171.68 572.91 169.97C570.13 160.98 566.54 152.28 562.16 143.95C561.34 142.41 561.34 140.56 562.16 139.01C562.86 137.7 568.48 127.23 569.18 125.92C573.74 117.33 572.16 106.77 565.28 99.9C563 97.63 544.76 79.46 542.48 77.19C535.61 70.31 525.05 68.72 516.46 73.28C515.16 73.99 504.68 79.61 503.37 80.31C501.83 81.12 499.98 81.12 498.43 80.31C490.11 75.95 481.4 72.38 472.42 69.64C470.73 69.16 469.38 67.91 468.77 66.26C468.35 64.84 464.95 53.46 464.53 52.04C461.74 42.49 452.97 35.95 443.02 36C439.83 36 414.3 36 411.11 36C401.18 35.89 392.38 42.36 389.52 51.87C389.1 53.29 385.7 64.67 385.27 66.09C384.7 67.75 383.33 69.02 381.63 69.47C372.65 72.22 363.94 75.79 355.62 80.13C354.07 80.95 352.22 80.95 350.68 80.13C349.4 79.45 339.2 73.97 337.93 73.28C329.34 68.72 318.79 70.31 311.92 77.19C309.63 79.45 291.31 97.55 289.02 99.82C282.15 106.69 280.56 117.24 285.12 125.83C285.82 127.14 291.44 137.61 292.15 138.92C292.96 140.47 292.96 142.32 292.15 143.87C287.79 152.19 284.22 160.9 281.48 169.88C280.97 171.53 279.72 172.84 278.1 173.43C276.68 173.86 265.3 177.26 263.88 177.68C254.43 180.52 247.98 189.24 248.01 199.1C248.01 202.29 248.01 227.82 248.01 231.01C247.83 240.95 254.22 249.81 263.7 252.77C265.12 253.2 276.43 256.6 277.84 257.02C279.53 257.59 280.82 258.95 281.31 260.66C284.06 269.64 287.63 278.35 291.97 286.68C292.79 288.22 292.79 290.07 291.97 291.62C291.32 292.94 286.12 303.48 285.47 304.8C280.91 313.39 282.49 323.94 289.37 330.81C291.58 333.06 309.27 351.03 311.48 353.27C318.35 360.15 328.91 361.73 337.5 357.17C338.8 356.47 349.28 350.85 350.59 350.15C352.13 349.33 353.98 349.33 355.53 350.15C363.85 354.51 372.56 358.08 381.54 360.81C383.24 361.27 384.61 362.53 385.19 364.2C385.62 365.64 389.09 377.15 389.52 378.59C392.36 388.04 401.07 394.49 410.94 394.46C414.13 394.46 439.66 394.46 442.85 394.46C452.71 394.49 461.43 388.04 464.27 378.59C464.69 377.17 468.09 365.79 468.51 364.37C469.12 362.72 470.47 361.47 472.16 360.99C481.14 358.26 489.85 354.68 498.17 350.32C499.72 349.51 501.57 349.51 503.11 350.32C504.42 351.03 514.9 356.64 516.2 357.35C524.79 361.91 535.35 360.32 542.22 353.44C544.51 351.18 562.82 333.08 565.11 330.81C571.99 323.94 573.57 313.39 569.01 304.8C568.31 303.49 562.69 293.02 561.99 291.71C561.17 290.16 561.17 288.31 561.99 286.76C566.37 278.45 569.97 269.74 572.74 260.75C573.2 259.08 574.47 257.74 576.12 257.2C577.55 256.75 589 253.22 590.43 252.77C599.92 249.89 606.38 241.1 606.3 231.18C606.3 227.99 606.3 202.46 606.3 199.27C606.33 189.41 599.88 180.7 590.43 177.86C590.43 177.86 577.71 174.03 576.29 173.61ZM363 279.29C327.62 243.9 327.62 186.53 363.01 151.15C398.4 115.77 455.76 115.77 491.15 151.15C499.65 159.52 506.37 169.51 510.92 180.54C524.86 214.42 517.1 253.36 491.23 279.31C455.76 314.69 398.38 314.68 363 279.29Z"},null,-1),sa("path",{fill:"currentColor","fill-opacity":"1",d:"M400.01 242.29C414.97 257.26 439.24 257.26 454.21 242.3C469.18 227.33 469.18 203.06 454.21 188.1C454.21 188.09 454.21 188.09 454.21 188.09C439.37 173.12 415.22 173.02 400.25 187.85C400.17 187.93 400.09 188.01 400.01 188.09C385.04 203.05 385.04 227.32 400.01 242.29Z"},null,-1),sa("path",{fill:"currentColor","fill-opacity":"1",d:"M156.19 486.1C168.86 498.77 189.39 498.76 202.05 486.1C214.71 473.43 214.71 452.91 202.05 440.24C189.35 427.67 168.89 427.67 156.18 440.24C143.52 452.91 143.53 473.44 156.19 486.1Z"},null,-1),sa("path",{fill:"currentColor","fill-opacity":"1",d:"M300.38 428.62C298.91 428.24 297.72 427.18 297.17 425.76C295.03 419.02 292.34 412.46 289.11 406.16C288.39 404.81 288.39 403.18 289.11 401.83C289.5 401.09 292.62 395.2 293.01 394.46C297.57 385.89 296.02 375.35 289.2 368.45C287.67 366.93 275.46 354.79 273.94 353.27C267.07 346.39 256.51 344.81 247.92 349.37C247.19 349.76 241.29 352.88 240.55 353.27C239.2 354.01 237.57 354.01 236.22 353.27C229.92 350.05 223.36 347.35 216.62 345.21C215.2 344.66 214.14 343.47 213.76 342C213.52 341.2 211.57 334.82 211.33 334.02C208.57 324.58 199.92 318.09 190.09 318.07C187.92 318.07 170.58 318.07 168.41 318.07C158.45 317.92 149.6 324.39 146.73 333.93C146.49 334.73 144.55 341.11 144.3 341.91C143.93 343.38 142.86 344.58 141.44 345.12C134.7 347.27 128.15 349.96 121.85 353.18C120.49 353.91 118.87 353.91 117.51 353.18C116.77 352.79 110.88 349.67 110.14 349.28C101.57 344.73 91.03 346.28 84.13 353.1C82.58 354.61 70.24 366.68 68.69 368.19C61.87 375.09 60.33 385.63 64.88 394.2C65.27 394.94 68.39 400.83 68.78 401.57C69.51 402.92 69.51 404.55 68.78 405.9C65.64 412.44 63.06 419.23 61.06 426.19C60.52 427.61 59.32 428.68 57.86 429.06C57.06 429.3 50.68 431.24 49.88 431.48C40.67 434.25 34.28 442.6 34.01 452.21C34.01 454.36 34.01 471.56 34.01 473.71C33.75 483.74 40.26 492.7 49.88 495.56C50.68 495.81 57.06 497.75 57.86 497.99C59.32 498.37 60.52 499.43 61.06 500.85C63.21 507.59 65.91 514.15 69.13 520.45C69.85 521.8 69.85 523.43 69.13 524.78C68.74 525.52 65.62 531.42 65.23 532.15C60.67 540.73 62.22 551.26 69.04 558.17C70.55 559.71 82.62 572.06 84.13 573.6C90.99 580.5 101.58 582.06 110.14 577.42C110.88 577.03 116.77 573.9 117.51 573.51C118.87 572.82 120.49 572.82 121.85 573.51C128.15 576.73 134.7 579.43 141.44 581.58C142.86 582.12 143.93 583.32 144.3 584.79C144.55 585.58 146.49 591.97 146.73 592.76C149.68 602.2 158.53 608.54 168.41 608.29C170.58 608.29 187.92 608.29 190.09 608.29C199.94 608.34 208.64 601.87 211.42 592.42C211.66 591.62 213.6 585.24 213.85 584.44C214.22 582.97 215.29 581.77 216.71 581.23C223.38 579.22 229.87 576.66 236.13 573.6C237.48 572.86 239.12 572.86 240.47 573.6C241.2 573.99 247.1 577.11 247.84 577.5C256.4 582.08 266.96 580.54 273.85 573.69C275.38 572.16 287.58 559.95 289.11 558.43C295.93 551.52 297.48 540.99 292.93 532.41C292.54 531.68 289.41 525.78 289.02 525.04C288.28 523.69 288.28 522.06 289.02 520.71C292.28 514.42 294.98 507.87 297.09 501.11C297.63 499.69 298.83 498.63 300.3 498.25C301.09 498.01 307.48 496.07 308.27 495.82C317.71 493.02 324.17 484.33 324.14 474.49C324.14 472.26 324.14 454.44 324.14 452.21C324.07 442.46 317.68 433.89 308.36 431.05C308.36 431.05 301.18 428.86 300.38 428.62ZM126.65 515.63C97.68 486.63 97.7 439.63 126.7 410.66C155.7 381.69 202.7 381.71 231.67 410.71C245.57 424.62 253.38 443.47 253.39 463.13C253.45 482.85 245.61 501.78 231.62 515.68C202.62 544.65 155.63 544.63 126.65 515.63Z"},null,-1)])])};var Jc=mn({name:"Global",components:{GlobalHardware:Vc,GlobalIcon:Zc},setup(){on("formFieldTooltipPlacement","top");const{sections:e}=Cd,{supportedPresetsCount:t}=$f;return{Block:Sl,sections:e,supportedPresetsCount:t}}});const ed={class:"section-heading"},td={class:"section-heading-inner flex items-center"},nd={class:"form-grid"},rd={class:"form-grid"};Jc.render=function(e,t,n,r,a,o){const i=Vn("GlobalIcon"),l=Vn("router-link"),s=Vn("Section"),u=Vn("FormField"),c=Vn("DeviceSettings"),d=Vn("GlobalHardware");return Yr(),na(zr,null,[ua(c,{class:"global flex flex-wrap flex-grow",block:e.Block.Global},{default:nn(({form:n,showField:r,onSettingChange:a})=>[ua(s,{showContent:!1,class:"w-full"},{title:nn(()=>[sa("h3",ed,[sa("div",td,[t[1]||(t[1]=sa("div",{class:"flex-grow"},"MIDI Saxophone",-1)),ua(l,{to:{name:"midisaxophone"},class:"flex items-center text-sm text-gray-400 hover:text-gray-200"},{default:nn(()=>[ua(i,{class:"w-4 h-4 mr-2"}),t[0]||(t[0]=da(" MIDI Saxophone  ",-1))]),_:1})])])]),_:1}),e.supportedPresetsCount>1?(Yr(),ra(s,{key:0,title:"Presets"},{default:nn(()=>[sa("div",nd,[r(e.sections.DisableForcedValueRefreshAfterPresetChange)?(Yr(),ra(u,{key:0,value:n.disableForcedValueRefreshAfterPresetChange,"field-definition":e.sections.DisableForcedValueRefreshAfterPresetChange,onModified:a},null,8,["value","field-definition","onModified"])):fa("",!0),r(e.sections.EnablePresetChangeWithProgramChangeIn)?(Yr(),ra(u,{key:1,value:n.enablePresetChangeWithProgramChangeIn,"field-definition":e.sections.EnablePresetChangeWithProgramChangeIn,onModified:a},null,8,["value","field-definition","onModified"])):fa("",!0),r(e.sections.PreservePresetState)?(Yr(),ra(u,{key:2,class:"col-span-2",value:n.preservePresetState,"field-definition":e.sections.PreservePresetState,onModified:a},null,8,["value","field-definition","onModified"])):fa("",!0),r(e.sections.ActivePreset)?(Yr(),ra(u,{key:3,value:n.activePreset,"field-definition":e.sections.ActivePreset,onModified:a},null,8,["value","field-definition","onModified"])):fa("",!0)])]),_:2},1024)):fa("",!0),ua(s,{title:"MIDI"},{default:nn(()=>[sa("div",rd,[r(e.sections.UseGlobalChannel)?(Yr(),ra(u,{key:0,value:n.useGlobalChannel,"field-definition":e.sections.UseGlobalChannel,onModified:a},null,8,["value","field-definition","onModified"])):fa("",!0),r(e.sections.GlobalChannel)?(Yr(),ra(u,{key:1,value:n.globalChannel,"field-definition":e.sections.GlobalChannel,onModified:a},null,8,["value","field-definition","onModified"])):fa("",!0),r(e.sections.StandardNoteOff)?(Yr(),ra(u,{key:2,value:n.standardNoteOff,"field-definition":e.sections.StandardNoteOff,onModified:a},null,8,["value","field-definition","onModified"])):fa("",!0),r(e.sections.DinMidiState)?(Yr(),ra(u,{key:3,value:n.dinMidiState,"field-definition":e.sections.DinMidiState,onModified:a},null,8,["value","field-definition","onModified"])):fa("",!0),r(e.sections.BleMidiState)?(Yr(),ra(u,{key:4,value:n.bleMidiState,"field-definition":e.sections.BleMidiState,onModified:a},null,8,["value","field-definition","onModified"])):fa("",!0),r(e.sections.RunningStatus)?(Yr(),ra(u,{key:5,value:n.runningStatus,"field-definition":e.sections.RunningStatus,onModified:a},null,8,["value","field-definition","onModified"])):fa("",!0),r(e.sections.MIDIClock)?(Yr(),ra(u,{key:6,value:n.midiClock,"field-definition":e.sections.MIDIClock,onModified:a},null,8,["value","field-definition","onModified"])):fa("",!0),r(e.sections.UsbToDinThru)?(Yr(),ra(u,{key:7,value:n.usbToDinThru,"field-definition":e.sections.UsbToDinThru,onModified:a},null,8,["value","field-definition","onModified"])):fa("",!0),r(e.sections.UsbToUsbThru)?(Yr(),ra(u,{key:8,value:n.usbToUsbThru,"field-definition":e.sections.UsbToUsbThru,onModified:a},null,8,["value","field-definition","onModified"])):fa("",!0),r(e.sections.UsbToBleThru)?(Yr(),ra(u,{key:9,value:n.usbToBleThru,"field-definition":e.sections.UsbToBleThru,onModified:a},null,8,["value","field-definition","onModified"])):fa("",!0),r(e.sections.DinToDinThru)?(Yr(),ra(u,{key:10,value:n.dinToDinThru,"field-definition":e.sections.DinToDinThru,onModified:a},null,8,["value","field-definition","onModified"])):fa("",!0),r(e.sections.DinToUsbThru)?(Yr(),ra(u,{key:11,value:n.dinToUsbThru,"field-definition":e.sections.DinToUsbThru,onModified:a},null,8,["value","field-definition","onModified"])):fa("",!0),r(e.sections.DinToBleThru)?(Yr(),ra(u,{key:12,value:n.dinToBleThru,"field-definition":e.sections.DinToBleThru,onModified:a},null,8,["value","field-definition","onModified"])):fa("",!0),r(e.sections.BleToDinThru)?(Yr(),ra(u,{key:13,value:n.bleToDinThru,"field-definition":e.sections.BleToDinThru,onModified:a},null,8,["value","field-definition","onModified"])):fa("",!0),r(e.sections.BleToUsbThru)?(Yr(),ra(u,{key:14,value:n.bleToUsbThru,"field-definition":e.sections.BleToUsbThru,onModified:a},null,8,["value","field-definition","onModified"])):fa("",!0),r(e.sections.BleToBleThru)?(Yr(),ra(u,{key:15,value:n.bleToBleThru,"field-definition":e.sections.BleToBleThru,onModified:a},null,8,["value","field-definition","onModified"])):fa("",!0)])]),_:2},1024)]),_:1},8,["block"]),ua(d)],64)};var ad=mn({name:"GlobalFirmware",setup(){const{firmwareFileName:e,isBootloaderMode:t,startUpdatesCheck:n,bootLoaderSupport:r,startBootLoaderMode:a,startFirmwareUpdate:o}=$f,i=xt(!1),l=xt(!1),s=xt([]),u=xt("");return{firmwareFileName:e,GitHubFirmwareWebBaseUrl:ml,OpenDeckUpstreamWikiFirmwareUpdateUrl:"https://github.com/shanteacontrols/OpenDeck/wiki/Firmware-update",OpenDeckUpstreamWikiFlashingUrl:vl,loading:i,isBootloaderMode:t,bootLoaderSupport:r,startBootLoaderMode:a,updatesChecked:l,updateError:u,checkForUpdates:async()=>{i.value=!0,u.value="";try{s.value=await n(e.value)}catch{s.value=[],u.value="  :  GitHub   ."}i.value=!1,l.value=!0},availableUpdates:s,onFirmwareFileSelected:async e=>{e.length&&await o(e[0])}}}});const od={class:"mb-6 text-sm leading-5 text-gray-500"},id=["href"],ld={class:"flex flex-wrap gap-2"},sd=["href"],ud=["href"],cd={class:"form-grid"},dd={key:0,class:"form-field"},pd={key:1,class:"form-field"},fd={key:2,class:"form-field"},gd={key:2,class:"lg:text-center relative",style:{"min-height":"50vh"}},hd={class:"absolute flex inset-0 opacity-75 bg-gray-900"},md={key:0,class:"text-sm leading-5 text-red-300 mb-4"},vd={key:1,class:"text-sm leading-5 text-gray-200"},yd={key:2,class:"text-sm pb-6"},bd=["href"],Ld=["href"],xd=["innerHTML"];ad.render=function(e,t,n,r,a,o){const i=Vn("Section"),l=Vn("Button"),s=Vn("FormFileInput"),u=Vn("Spinner");return Yr(),na(zr,null,[e.bootLoaderSupport||e.isBootloaderMode?(Yr(),ra(i,{key:1,title:"Firmware update",class:"w-full"},{default:nn(()=>[sa("div",cd,[e.isBootloaderMode?fa("",!0):(Yr(),na("div",dd,[ua(l,{disabled:e.loading,onClick:Eo(e.checkForUpdates,["prevent"])},{default:nn(()=>[...t[4]||(t[4]=[da(" Check for firmware updates ",-1)])]),_:1},8,["disabled","onClick"]),t[5]||(t[5]=sa("p",{class:"help-text"}," Checks for newer firmware versions. ",-1))])),!e.isBootloaderMode&&e.bootLoaderSupport?(Yr(),na("div",pd,[ua(l,{onClick:Eo(e.startBootLoaderMode,["prevent"])},{default:nn(()=>[...t[6]||(t[6]=[da(" Enter bootloader mode ",-1)])]),_:1},8,["onClick"]),t[7]||(t[7]=sa("p",{class:"help-text"}," Bootloader mode is required for firmware updates. Once in bootloader mode, you can update the device using the SysEx file downloaded via Check for firmware updates. ",-1))])):fa("",!0),e.isBootloaderMode?(Yr(),na("div",fd,[ua(s,{name:"backup-file",label:"Update firmware",disabled:!e.isBootloaderMode,onChange:e.onFirmwareFileSelected},null,8,["disabled","onChange"]),t[8]||(t[8]=sa("p",{class:"help-text"}," Select a firmware file to start the update. The UI may be temporarily unresponsive while updating. To exit bootloader mode, reboot the device. ",-1))])):fa("",!0)])]),_:1})):(Yr(),ra(i,{key:0,title:"No bootloader support",class:"w-full"},{default:nn(()=>[sa("p",od,[t[0]||(t[0]=da(" This device does not support the bootloader. ",-1)),t[1]||(t[1]=sa("br",null,null,-1)),t[2]||(t[2]=da(" For manual firmware updates, please consult the ",-1)),sa("a",{href:e.OpenDeckUpstreamWikiFirmwareUpdateUrl}," wiki firmware update page ",8,id),t[3]||(t[3]=da(". ",-1))]),sa("div",ld,[sa("a",{class:"btn btn-xs",href:`${e.GitHubFirmwareWebBaseUrl}/releases`,target:"_blank",rel:"noopener noreferrer"}," Firmware downloads ",8,sd),sa("a",{class:"btn btn-xs",href:e.OpenDeckUpstreamWikiFlashingUrl,target:"_blank",rel:"noopener noreferrer"}," Flashing guide ",8,ud)])]),_:1})),e.loading?(Yr(),na("div",gd,[sa("div",hd,[ua(u,{class:"self-center"})])])):e.updatesChecked?(Yr(),ra(i,{key:3,title:"Updates",class:"w-full"},{default:nn(()=>[e.updateError?(Yr(),na("p",md,X(e.updateError),1)):fa("",!0),e.availableUpdates.length?(Yr(),na("div",yd,[(Yr(!0),na(zr,null,jn(e.availableUpdates,t=>(Yr(),na("div",{key:t.name,class:"release-description text-gray-200"},[sa("a",{href:`${e.GitHubFirmwareWebBaseUrl}/releases/tag/${t.tag_name}`},X(t.tag_name),9,bd),t.firmwareFileLink?(Yr(),na("a",{key:0,class:"my-3 ml-4 py-1 px-2 bg-gray-600 text-gray-300 rounded-full text-xs focus:outline-none focus:shadow-outline",target:"_blank",href:t.firmwareFileLink.browser_download_url}," Download FW file ("+X(e.firmwareFileName)+") ",9,Ld)):fa("",!0),sa("div",{innerHTML:t.html_description},null,8,xd)]))),128))])):(Yr(),na("p",vd," Your firmware is up to date. "))]),_:1})):fa("",!0)],64)};const wd={PreservePresetState:{block:Sl.Global,key:"preservePresetState",type:Ql.Setting,section:2,settingIndex:1,component:dl.Toggle,label:"Preserve preset setting",helpText:'When disabled, first preset will always be loaded on device power on.\n      Otherwise, preset specified with "Active preset" option is remembered. This is not related to saving of configuration\n      to specified preset - the configuration data is always retained even after power off.'},DisableForcedValueRefreshAfterPresetChange:{block:Sl.Global,key:"disableForcedValueRefreshAfterPresetChange",type:Ql.Setting,section:2,settingIndex:2,component:dl.Toggle,label:"Disable forced value refresh after preset change",helpText:"If this option isn't enabled, all components will resend their current values once the preset changes."},EnablePresetChangeWithProgramChangeIn:{block:Sl.Global,key:"enablePresetChangeWithProgramChangeIn",type:Ql.Setting,section:2,settingIndex:3,component:dl.Toggle,label:"Enable preset change with MIDI Program Change In",helpText:"When enabled, upon receiving MIDI Program Change message (on any interface and any channel) the board will change the preset to cooresponding program change value."},SaxFingeringMaskLo14:{showIf:()=>!1,block:Sl.Global,key:"saxFingeringMaskLo14",type:Ql.Value,section:3,component:dl.Input,label:"Sax fingering mask lo14",helpText:"Internal",min:0,max:16383},SaxFingeringMaskHi10Enable:{showIf:()=>!1,block:Sl.Global,key:"saxFingeringMaskHi10Enable",type:Ql.Value,section:4,component:dl.Input,label:"Sax fingering mask hi10+enable",helpText:"Internal",min:0,max:2047},SaxFingeringNote:{showIf:()=>!1,block:Sl.Global,key:"saxFingeringNote",type:Ql.Value,section:5,component:dl.Input,label:"Sax fingering note",helpText:"Internal",min:0,max:127},SaxRegisterChromaticEnable:{showIf:()=>!1,block:Sl.Global,key:"saxRegisterChromaticEnable",type:Ql.Setting,section:2,settingIndex:4,component:dl.Toggle,label:"   ",helpText:"        ( ) ."},SaxRegisterChromaticBaseNote:{showIf:()=>!1,block:Sl.Global,key:"saxRegisterChromaticBaseNote",type:Ql.Setting,section:2,settingIndex:5,min:0,max:127,component:dl.Input,label:"  (0-127)",helpText:"  0   MIDI  .      ."},SaxRegisterChromaticTranspose:{showIf:()=>!1,block:Sl.Global,key:"saxRegisterChromaticTranspose",type:Ql.Setting,section:2,settingIndex:11,min:0,max:48,component:dl.Input,label:" () (-24..+24)",helpText:"         .\n\n  0..48, 24 0(). ) 12= -12, 36= +12"},SaxRegisterChromaticInputInvert:{showIf:()=>!1,block:Sl.Global,key:"saxRegisterChromaticInputInvert",type:Ql.Setting,section:2,settingIndex:9,component:dl.Toggle,label:"   (Active-Low)",helpText:"  0(LOW)  /  ."},SaxBreathControllerEnable:{block:Sl.Global,key:"saxBreathControllerEnable",type:Ql.Setting,section:2,settingIndex:6,component:dl.Toggle,label:"   (MPXV7002DP)",helpText:'   (  ) MIDI CC(/)  .\n\n  MPXV7002DP :\n  -    ( CC )\n  -    Analog  "Pitch bend" \n    .'},SaxBreathControllerAnalogIndex:{showIf:e=>!!e.saxBreathControllerEnable,block:Sl.Global,key:"saxBreathControllerAnalogIndex",type:Ql.Setting,section:2,settingIndex:7,min:0,max:255,component:dl.Input,label:"   (0-255)",helpText:"MPXV7002DP( )    .\n    ()     .\n\nRP2040 Pico + native ADC 3  :\n  - 0:  ()\n  - 1:  ()\n  - 2: ()   ()  Pitch Bend "},SaxBreathControllerMidPercent:{showIf:e=>!!e.saxBreathControllerEnable,block:Sl.Global,key:"saxBreathControllerMidPercent",type:Ql.Setting,section:2,settingIndex:10,min:0,max:100,component:dl.Input,label:" ( %) (0-100)",helpText:"(0 )    ADC    % .\n\n   MPXV7002DP 50% (Vcc/2).\n      CC   ,      ."},SaxBreathControllerCC:{showIf:e=>!!e.saxBreathControllerEnable,block:Sl.Global,key:"saxBreathControllerCC",type:Ql.Setting,section:2,settingIndex:8,component:dl.Select,options:()=>[{value:2,text:"CC2 (Breath Controller)"},{value:11,text:"CC11 (Expression)"},{value:13,text:"CC2 + CC11"}],label:" CC",helpText:"    MIDI CC .\n\n   CC2(Breath)  CC11(Expression) ."},SaxPitchBendDeadzone:{showIf:e=>{if(e.saxBreathControllerEnable)return!0;return String(Vf.state?.boardName||"").toLowerCase().includes("midisaxo")},block:Sl.Global,key:"saxPitchBendDeadzone",type:Ql.Setting,section:2,settingIndex:12,min:0,max:2e3,component:dl.Input,label:"  () (0-2000)",helpText:'()     .\n\n      ,     .\n   14-bit   (  N). ) 100 = 100.\n\n  : (0)      ,\n     "PB Center Capture"          .\n\n         .'},ActivePreset:{block:Sl.Global,key:"activePreset",type:Ql.Setting,section:2,settingIndex:0,component:dl.Select,options:()=>{const e=Vf.state.supportedPresetsCount||1,t=[];for(let n=0;n<e;n++)t.push({value:n,text:String(n+1)});return t},onLoad:e=>{Vf.state.activePreset=e},label:"Active preset",helpText:"Preset stores the entire configuration for device."},UseGlobalChannel:{block:Sl.Global,key:"useGlobalChannel",type:Ql.Setting,section:0,settingIndex:13,component:dl.Toggle,label:"Use global channel",helpText:"When enabled, specified global MIDI channel will be used for all components. Individual channels for components will be ignored."},GlobalChannel:{showIf:e=>!!e.useGlobalChannel,block:Sl.Global,key:"globalChannel",type:Ql.Setting,section:0,settingIndex:14,min:1,max:17,component:dl.Input,label:"Global channel",helpText:"Setting the channel to value 17 will cause sending of data on each MIDI channel, and incoming channel for LEDs and other components will be ignored."},StandardNoteOff:{block:Sl.Global,key:"standardNoteOff",type:Ql.Setting,section:0,settingIndex:0,component:dl.Toggle,label:"Standard note off",helpText:"When disabled, Note On with velocity 0 will be sent as note off. If enabled, true Note Off event will be sent instead."},RunningStatus:{showIf:e=>!!e.dinMidiState,block:Sl.Global,key:"runningStatus",type:Ql.Setting,section:0,settingIndex:1,component:dl.Toggle,label:"Running status",helpText:"This setting applies only to DIN MIDI out. When enabled,\n    MIDI output bandwidth increases due to lower amount of bytes being sent. This setting can cause issues on older MIDI gear so it's best to leave it disabled."},MIDIClock:{showIf:e=>!!e.dinMidiState,block:Sl.Global,key:"midiClock",type:Ql.Setting,section:0,settingIndex:15,component:dl.Toggle,label:"Send MIDI clock",helpText:"This setting applies only to DIN MIDI out.\n    When enabled, MIDI clock will be sent out at default BPM of 120. The tempo can be changed with buttons or encoders."},DinMidiState:{block:Sl.Global,key:"dinMidiState",type:Ql.Setting,section:0,settingIndex:3,component:dl.Toggle,label:"DIN MIDI",helpText:"Enable or disable DIN MIDI input and output."},BleMidiState:{block:Sl.Global,key:"bleMidiState",type:Ql.Setting,section:0,settingIndex:9,component:dl.Toggle,label:"BLE MIDI",helpText:"Enable or disable BLE (Bluetooth Low Energy) MIDI input and output."},UsbToDinThru:{showIf:e=>!!e.dinMidiState,block:Sl.Global,key:"usbToDinThru",type:Ql.Setting,section:0,settingIndex:4,component:dl.Toggle,label:"USB to DIN Thru",helpText:"When enabled, all data received via USB will be forwarded to DIN out."},UsbToUsbThru:{block:Sl.Global,key:"usbToUsbThru",type:Ql.Setting,section:0,settingIndex:5,component:dl.Toggle,label:"USB to USB Thru",helpText:"When enabled, all data received via USB will be forwarded to USB out."},UsbToBleThru:{showIf:e=>!!e.bleMidiState,block:Sl.Global,key:"usbToBleThru",type:Ql.Setting,section:0,settingIndex:6,component:dl.Toggle,label:"USB to BLE Thru",helpText:"When enabled, all data received via USB will be forwarded to BLE out."},DinToDinThru:{showIf:e=>!!e.dinMidiState,block:Sl.Global,key:"dinToDinThru",type:Ql.Setting,section:0,settingIndex:7,component:dl.Toggle,label:"DIN to DIN Thru",helpText:"When enabled, all data received via DIN will be forwarded to DIN out."},DinToUsbThru:{showIf:e=>!!e.dinMidiState,block:Sl.Global,key:"dinToUsbThru",type:Ql.Setting,section:0,settingIndex:2,component:dl.Toggle,label:"DIN to USB Thru",helpText:"When enabled, all data received via DIN will be forwarded to USB out."},DinToBleThru:{showIf:e=>!!e.dinMidiState&&!!e.bleMidiState,block:Sl.Global,key:"dinToBleThru",type:Ql.Setting,section:0,settingIndex:8,component:dl.Toggle,label:"DIN to BLE Thru",helpText:"When enabled, all data received via DIN will be forwarded to BLE out."},BleToDinThru:{showIf:e=>!!e.dinMidiState&&!!e.bleMidiState,block:Sl.Global,key:"bleToDinThru",type:Ql.Setting,section:0,settingIndex:10,component:dl.Toggle,label:"BLE to DIN Thru",helpText:"When enabled, all data received via BLE will be forwarded to DIN out."},BleToUsbThru:{showIf:e=>!!e.bleMidiState,block:Sl.Global,key:"bleToUsbThru",type:Ql.Setting,section:0,settingIndex:11,component:dl.Toggle,label:"BLE to USB Thru",helpText:"When enabled, all data received via BLE will be forwarded to USB out."},BleToBleThru:{showIf:e=>!!e.bleMidiState,block:Sl.Global,key:"bleToBleThru",type:Ql.Setting,section:0,settingIndex:12,component:dl.Toggle,label:"BLE to BLE Thru",helpText:"When enabled, all data received via BLE will be forwarded to BLE out."}},Cd={block:Sl.Global,title:"Global",routeName:"device-global",iconComponent:vt(Zc),sections:wd,routes:[{path:"",name:"device-global",component:Jc},{path:"firmware-update",name:"device-firmware-update",component:ad}]};var Sd=mn({name:"DeviceGridWithSettings",props:{block:{required:!0,type:Number},routeName:{required:!0,type:String},settingsTitle:{default:"Global",type:String},segmentGrid:{type:Boolean,default:!1}}});Sd.render=function(e,t,n,r,a,o){const i=Vn("DeviceSettings"),l=Vn("DeviceGrid");return Yr(),na(zr,null,[(Yr(),ra(i,{key:`settings-${e.block}`,class:"w-full",block:e.block,title:e.settingsTitle},null,8,["block","title"])),(Yr(),ra(l,{key:`grid-${e.block}`,class:"w-full","route-name":e.routeName,block:e.block,"segment-grid":e.segmentGrid},null,8,["route-name","block","segment-grid"]))],64)};var kd=mn({name:"IconLed"});const Id={"aria-hidden":"true",focusable:"false","data-icon":"lightbulb",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 640",rel:"LED by Kiran Shastry from the Noun Project"};kd.render=function(e,t,n,r,a,o){return Yr(),na("svg",Id,[...t[0]||(t[0]=[sa("path",{fill:"currentColor","fill-opacity":"1",d:"M463.07 208.06C463.14 128.01 398.3 63.07 318.25 63C318.22 63 318.19 63 318.16 63C318.16 63 318.15 63 318.15 63C238.1 63.02 173.23 127.94 173.25 207.99C173.25 208.01 173.25 208.04 173.25 208.07C173.25 223.26 173.25 344.74 173.25 359.93C159.36 364.06 149.88 376.89 150.01 391.38C150.01 396.05 150.01 433.38 150.01 438.05C149.77 443.58 154.05 448.26 159.58 448.51C159.83 448.52 160.08 448.52 160.33 448.51C164.46 448.51 185.11 448.51 222.28 448.51C206.46 465.51 197.68 474.96 195.92 476.84C189.24 484.02 185.54 493.47 185.56 503.27C185.56 522.15 185.56 533.18 185.56 552.06C185.56 558.1 190.45 563 196.49 563C202.53 563 207.43 558.1 207.43 552.06C207.43 533.18 207.43 522.15 207.43 503.27C207.42 499.03 209.01 494.94 211.87 491.81C214.56 488.92 228.03 474.49 252.27 448.51L382.69 448.51C406.93 474.49 420.4 488.92 423.09 491.81C425.95 494.94 427.53 499.03 427.53 503.27C427.53 522.15 427.53 533.18 427.53 552.06C427.53 558.1 432.42 563 438.46 563C444.5 563 449.4 558.1 449.4 552.06C449.4 533.18 449.4 522.15 449.4 503.27C449.41 493.47 445.71 484.02 439.03 476.84C437.28 474.96 428.49 465.51 412.67 448.51C450.67 448.51 471.77 448.51 475.99 448.51C481.53 448.68 486.15 444.32 486.31 438.79C486.32 438.54 486.32 438.3 486.31 438.05C486.31 433.38 486.31 396.05 486.31 391.38C486.44 376.89 476.96 364.06 463.07 359.93C463.07 359.93 463.07 223.25 463.07 208.06ZM195.12 208.07C195.04 140.11 250.06 84.96 318.02 84.87C318.06 84.87 318.11 84.87 318.15 84.87C318.15 84.87 318.16 84.87 318.16 84.87C386.12 84.88 441.2 139.97 441.2 207.93C441.2 207.98 441.2 208.02 441.2 208.07C441.2 218.08 441.2 268.16 441.2 358.29L195.12 358.29C195.12 278.17 195.12 228.1 195.12 208.07ZM464.44 426.64L171.88 426.64C171.88 405.48 171.88 393.73 171.88 391.38C171.88 385.35 176.17 380.16 182.2 380.16C209.39 380.16 426.93 380.16 454.12 380.16C460.15 380.16 464.44 385.35 464.44 391.38C464.44 396.08 464.44 407.84 464.44 426.64Z"},null,-1)])])};const Ed={BlinkWithMidiClock:{block:Sl.Led,key:"blinkWithMidiClock",type:Ql.Setting,section:2,settingIndex:0,component:dl.Toggle,label:"Blink with MIDI clock",helpText:"Enables or disables LED blinking via MIDI clock. When enabled, MIDI clock is used to toggle LED state. Otherwise, internal timer is used."},StartupAnimation:{key:"startupAnimation",type:Ql.Setting,section:2,settingIndex:2,component:dl.Toggle,label:"Start-up animation",helpText:"Enables or disables LED animation when the device is powered on.",block:Sl.Led},UseMidiProgramChangeOffset:{key:"useMidiProgramChangeOffset",type:Ql.Setting,section:2,settingIndex:3,component:dl.Toggle,label:"Use MIDI Program Change Offset",helpText:"When enabled, current internal Program Change Offset will be appended to configured activation ID, if the LED is configured to react to Program Change.",block:Sl.Led},LedColorTesting:{key:"ledColorTesting",type:Ql.Value,section:0,component:dl.Select,options:[{value:0,text:"Off (no color)"},{value:1,text:"Red"},{value:2,text:"Green"},{value:3,text:"Yellow"},{value:4,text:"Blue"},{value:5,text:"Magenta"},{value:6,text:"Cyan"},{value:7,text:"White"}],label:"LED color testing",helpText:"",block:Sl.Led},ActivationId:{showIf:e=>!Wl.includes(e.controlType),key:"activationId",type:Ql.Value,section:3,component:dl.Input,min:0,max:127,label:"Activation ID",helpText:"For 'MIDI in / CC' modes: set this to the CC number. If you enabled 'LED  CC ' in MIDI Bank Changer, set Activation ID to the same CC#. ",block:Sl.Led},RGBEnable:{showIf:e=>!Xl.includes(e.controlType),key:"rgbEnable",type:Ql.Value,section:4,component:dl.Toggle,label:"RGB Enable",helpText:"",block:Sl.Led},ControlType:{key:"controlType",type:Ql.Value,section:5,component:dl.Select,options:[{value:Dl.MidiInNoteMultiValue,text:"MIDI in / Note (Multi value)"},{value:Dl.MidiInCcMultiValue,text:"MIDI in / CC (Multi value)"},{value:Dl.MidiInNoteSingleValue,text:"MIDI in / Note (Single value)"},{value:Dl.MidiInCcSingleValue,text:"MIDI in / CC (Single value)"},{value:Dl.LocalNoteMultiValue,text:"Local / Note (Multi value)"},{value:Dl.LocalCcMultiValue,text:"Local / CC (Multi value)"},{value:Dl.LocalNoteSingleValue,text:"Local / Note (Single value)"},{value:Dl.LocalCcSingleValue,text:"Local / CC (Single value)"},{value:Dl.ProgramChange,text:"Program change"},{value:Dl.PresetChange,text:"Preset change"},{value:Dl.Static,text:"Static / constantly on"}],label:"Control type",helpText:"",block:Sl.Led},ActivationValue:{showIf:e=>!zl.includes(e.controlType),key:"activationValue",type:Ql.Value,section:6,component:dl.Input,min:0,max:127,label:"Activation Value",helpText:"For 'MIDI in / CC (Single value)': LED turns on when the incoming CC value matches this number. When used with MIDI Bank Changer LED feedback, set this to the button number shown in the Bank Changer UI (1-127).",block:Sl.Led},MidiChannel:{showIf:e=>!Kl.includes(e.controlType),key:"midiChannel",type:Ql.Value,block:Sl.Led,section:7,component:dl.Input,min:1,max:17,label:"MIDI channel",helpText:"Setting the channel to value 17 will ignore the specified MIDI channel."}},Md={block:Sl.Led,title:"LED",routeName:"device-leds",iconComponent:vt(kd),componentCountResponseIndex:3,sections:Ed,routes:[{path:"leds",name:"device-leds",component:Xu,redirect:{name:"device-leds-list"},children:[{path:"list",name:"device-leds-list",component:Sd,props:{block:Sl.Led,routeName:"device-leds-form",segmentGrid:!0}},{path:"leds/:index",name:"device-leds-form",component:Tc,props:{block:Sl.Led}}]}]};var _d=mn({name:"IconTouchscreen"});const Td={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 640 640","xml:space":"preserve"};_d.render=function(e,t,n,r,a,o){return Yr(),na("svg",Td,[...t[0]||(t[0]=[sa("path",{d:"M570 487.13L570.41 487.12L570.82 487.09L571.22 487.05L571.62 487L572.02 486.92L572.4 486.84L572.79 486.73L573.16 486.62L573.53 486.49L573.89 486.34L574.25 486.18L574.6 486.01L574.94 485.83L575.27 485.63L575.59 485.42L575.91 485.2L576.21 484.96L576.51 484.72L576.79 484.46L577.07 484.2L577.34 483.92L577.59 483.63L577.84 483.34L578.07 483.03L578.29 482.72L578.5 482.39L578.7 482.06L578.88 481.72L579.06 481.37L579.21 481.02L579.36 480.66L579.49 480.29L579.61 479.91L579.71 479.53L579.8 479.14L579.87 478.75L579.93 478.35L579.97 477.95L579.99 477.54L580 477.13L580 171.61L579.99 171.2L579.97 170.79L579.93 170.39L579.87 169.99L579.8 169.59L579.71 169.21L579.61 168.82L579.49 168.45L579.36 168.08L579.21 167.72L579.06 167.36L578.88 167.01L578.7 166.67L578.5 166.34L578.29 166.02L578.07 165.7L577.84 165.4L577.59 165.1L577.34 164.81L577.07 164.54L576.79 164.27L576.51 164.02L576.21 163.77L575.91 163.54L575.59 163.32L575.27 163.11L574.94 162.91L574.6 162.73L574.25 162.55L573.89 162.4L573.53 162.25L573.16 162.12L572.79 162L572.4 161.9L572.02 161.81L571.62 161.74L571.22 161.68L570.82 161.64L570.41 161.62L570 161.61L70.21 161.61L69.8 161.62L69.39 161.64L68.99 161.68L68.59 161.74L68.2 161.81L67.81 161.9L67.43 162L67.05 162.12L66.68 162.25L66.32 162.4L65.96 162.55L65.62 162.73L65.28 162.91L64.94 163.11L64.62 163.32L64.31 163.54L64 163.77L63.7 164.02L63.42 164.27L63.14 164.54L62.87 164.81L62.62 165.1L62.37 165.4L62.14 165.7L61.92 166.02L61.71 166.34L61.51 166.67L61.33 167.01L61.16 167.36L61 167.72L60.85 168.08L60.72 168.45L60.61 168.82L60.5 169.21L60.42 169.59L60.34 169.99L60.29 170.39L60.25 170.79L60.22 171.2L60.21 171.61L60.21 477.13L60.22 477.54L60.25 477.95L60.29 478.35L60.34 478.75L60.42 479.14L60.5 479.53L60.61 479.91L60.72 480.29L60.85 480.66L61 481.02L61.16 481.37L61.33 481.72L61.51 482.06L61.71 482.39L61.92 482.72L62.14 483.03L62.37 483.34L62.62 483.63L62.87 483.92L63.14 484.2L63.42 484.46L63.7 484.72L64 484.96L64.31 485.2L64.62 485.42L64.94 485.63L65.28 485.83L65.62 486.01L65.96 486.18L66.32 486.34L66.68 486.49L67.05 486.62L67.43 486.73L67.81 486.84L68.2 486.92L68.59 487L68.99 487.05L69.39 487.09L69.8 487.12L70.21 487.13L193.83 487.13L205.17 507.13L50.21 507.13L49.8 507.12L49.39 507.09L48.99 507.05L48.59 507L48.2 506.92L47.81 506.84L47.43 506.73L47.05 506.62L46.68 506.49L46.32 506.34L45.96 506.18L45.62 506.01L45.28 505.83L44.94 505.63L44.62 505.42L44.31 505.2L44 504.96L43.7 504.72L43.42 504.46L43.14 504.2L42.87 503.92L42.62 503.63L42.37 503.34L42.14 503.03L41.92 502.72L41.71 502.39L41.51 502.06L41.33 501.72L41.16 501.37L41 501.02L40.85 500.66L40.72 500.29L40.61 499.91L40.5 499.53L40.42 499.14L40.34 498.75L40.29 498.35L40.25 497.95L40.22 497.54L40.21 497.13L40.21 151.61L40.22 151.2L40.25 150.79L40.29 150.39L40.34 149.99L40.42 149.59L40.5 149.21L40.61 148.82L40.72 148.45L40.85 148.08L41 147.72L41.16 147.36L41.33 147.01L41.51 146.67L41.71 146.34L41.92 146.02L42.14 145.7L42.37 145.4L42.62 145.1L42.87 144.81L43.14 144.54L43.42 144.27L43.7 144.02L44 143.77L44.31 143.54L44.62 143.32L44.94 143.11L45.28 142.91L45.62 142.73L45.96 142.55L46.32 142.4L46.68 142.25L47.05 142.12L47.43 142L47.81 141.9L48.2 141.81L48.59 141.74L48.99 141.68L49.39 141.64L49.8 141.62L50.21 141.61L590 141.61L590.41 141.62L590.82 141.64L591.22 141.68L591.62 141.74L592.02 141.81L592.4 141.9L592.79 142L593.16 142.12L593.53 142.25L593.89 142.4L594.25 142.55L594.6 142.73L594.94 142.91L595.27 143.11L595.59 143.32L595.91 143.54L596.21 143.77L596.51 144.02L596.79 144.27L597.07 144.54L597.34 144.81L597.59 145.1L597.84 145.4L598.07 145.7L598.29 146.02L598.5 146.34L598.7 146.67L598.88 147.01L599.06 147.36L599.21 147.72L599.36 148.08L599.49 148.45L599.61 148.82L599.71 149.21L599.8 149.59L599.87 149.99L599.93 150.39L599.97 150.79L599.99 151.2L600 151.61L600 497.13L599.99 497.54L599.97 497.95L599.93 498.35L599.87 498.75L599.8 499.14L599.71 499.53L599.61 499.91L599.49 500.29L599.36 500.66L599.21 501.02L599.06 501.37L598.88 501.72L598.7 502.06L598.5 502.39L598.29 502.72L598.07 503.03L597.84 503.34L597.59 503.63L597.34 503.92L597.07 504.2L596.79 504.46L596.51 504.72L596.21 504.96L595.91 505.2L595.59 505.42L595.27 505.63L594.94 505.83L594.6 506.01L594.25 506.18L593.89 506.34L593.53 506.49L593.16 506.62L592.79 506.73L592.4 506.84L592.02 506.92L591.62 507L591.22 507.05L590.82 507.09L590.41 507.12L590 507.13L459.78 507.13L459.78 487.13L570 487.13Z",fill:"currentColor"},null,-1),sa("path",{d:"M314.58 279.29C314.58 279.39 314.59 279.9 314.61 280.83C314.61 311.57 314.61 328.65 314.61 332.07C317.72 332.07 320.82 330.52 325.48 330.52C339.46 330.52 350.33 336.73 356.54 347.6C361.19 344.49 365.85 342.94 372.06 342.94C386.04 342.94 396.91 349.15 403.12 360.02C406.22 358.47 412.44 356.91 417.09 356.91C435.18 356.91 448.88 371.54 452.5 390.86C452.53 390.98 452.63 391.57 452.81 392.63C452.81 449.46 452.81 481.03 452.81 487.35C452.81 552.56 401.57 605.36 337.9 605.36C297.53 605.36 260.27 583.62 240.08 547.9C236.97 543.25 230.76 533.93 224.55 523.06C209.02 498.22 190.39 465.61 179.52 446.97C173.31 437.66 170.21 417.47 188.84 403.5C202.46 392.91 220.49 398.53 242.96 420.37C243.07 420.49 243.67 421.08 244.74 422.13C244.74 338.28 244.74 291.7 244.74 282.38C244.74 263.75 260.27 248.22 278.9 248.22C298.52 248.22 313.75 261.43 314.58 279.29ZM264.97 281.36C264.96 281.43 264.95 281.77 264.92 282.38C264.92 383.93 264.92 440.35 264.92 451.63C264.92 456.29 261.82 460.95 257.16 462.5C252.5 464.05 247.84 462.5 244.74 459.4C219.89 428.34 202.81 419.02 199.71 420.58C193.5 425.24 195.05 429.89 196.6 431.45C207.47 451.63 227.66 484.24 241.63 507.53C247.84 519.95 254.05 529.27 257.16 533.93C274.24 561.88 302.19 578.96 334.8 578.96C385.28 578.96 425.22 538.26 426.38 486.56C426.39 486.41 426.39 485.63 426.41 484.24C427.34 428.34 427.86 397.29 427.96 391.08C427.96 384.86 423.3 380.21 418.65 380.21C412.8 380.21 408.33 384.33 407.82 390C407.82 390.07 407.81 390.43 407.78 391.08C407.78 401.32 407.78 407.02 407.78 408.16C407.78 415.92 403.12 420.58 395.36 420.58C388 420.58 383.43 415 382.97 409.14C382.97 409.07 382.96 408.74 382.93 408.16C382.93 391.39 382.93 382.07 382.93 380.21C382.93 373.99 378.27 367.78 372.06 367.78C366.18 367.78 360.3 373.36 359.69 379.23C359.69 379.29 359.67 379.62 359.64 380.21C359.64 396.98 359.64 406.29 359.64 408.16C359.64 415.92 354.98 420.58 347.22 420.58C339.86 420.58 335.3 415 334.84 409.14C334.83 409.07 334.82 408.74 334.8 408.16C334.8 382.07 334.8 367.58 334.8 364.68C334.8 358.47 330.14 353.81 323.93 353.81C316.6 353.81 312.03 357.96 311.55 363.66C311.55 363.73 311.53 364.07 311.51 364.68C311.51 390.76 311.51 405.26 311.51 408.16C310.05 413.98 305.87 418.44 300.23 418.97C300.15 418.97 299.77 418.99 299.08 419.02C298.47 418.99 298.13 418.97 298.06 418.97C292.71 418.37 288.71 413.14 288.26 407.64C288.25 407.57 288.24 407.22 288.22 406.6C288.22 331.14 288.22 289.21 288.22 280.83C288.22 276.17 283.56 271.51 277.35 271.51C270.01 271.51 265.45 275.67 264.97 281.36ZM348.77 276.17C348.77 288.59 345.67 301.02 339.46 311.88C337.9 316.54 334.8 318.1 330.14 318.1C327.03 318.1 325.48 318.1 323.93 316.54C317.72 313.44 316.16 307.23 319.27 299.46C323.93 293.25 325.48 283.94 325.48 276.17C325.48 251.33 305.3 229.59 278.9 229.59C254.05 229.59 232.32 249.77 232.32 276.17C232.32 283.94 233.87 291.7 236.97 297.91C240.08 304.12 238.53 310.33 232.32 313.44C226.1 316.54 219.89 314.99 216.79 308.78C212.13 297.91 209.02 287.04 209.02 276.17C209.02 237.35 240.08 206.3 278.9 206.3C317.72 206.3 348.77 237.35 348.77 276.17Z",fill:"currentColor"},null,-1)])])};const Nd={Enabled:{block:Sl.Touchscreen,key:"enableTouchscreen",type:Ql.Setting,section:0,settingIndex:0,component:dl.Toggle,label:"Enable",helpText:"Enables or disables the usage of touchscreen.\n\n:   MIDI ID /  (Latching ) /  (: Sax Fingering Key)   \nButtons  Touchscreen  . (Touchscreen    //   .)"},DisplayManufacturer:{showIf:e=>e.enableTouchscreen,block:Sl.Touchscreen,key:"touchscreenManufacturer",type:Ql.Setting,section:0,settingIndex:1,component:dl.Select,options:[{value:0,text:"Nextion"},{value:1,text:"Viewtech/Stone HMI"}],label:"Touchscreen manufacturer",helpText:""},Brightness:{showIf:e=>e.enableTouchscreen,block:Sl.Touchscreen,key:"touchscreenBrightness",type:Ql.Setting,section:0,settingIndex:2,component:dl.Select,options:[{value:0,text:"10%"},{value:1,text:"25%"},{value:2,text:"50%"},{value:3,text:"75%"},{value:4,text:"80%"},{value:5,text:"90%"},{value:6,text:"100%"}],label:"Touchscreen brightness",helpText:""},InitialScreen:{showIf:e=>e.enableTouchscreen,block:Sl.Touchscreen,key:"initialScreen",type:Ql.Setting,section:0,settingIndex:3,min:0,max:15,component:dl.Input,label:"Initial screen",helpText:"This will set the screen index which will be loaded on startup."},XPosition:{block:Sl.Touchscreen,key:"xPosition",type:Ql.Value,section:1,min:0,max:16383,component:dl.Input,label:"X position of this icon",helpText:"Specifies X coordinate on touchscreen where this icon is located. Touchscreen resolution\n    needs to be taken into account here. On Viewtech/Stone touchscreens, this parameter is actually icon\n    address."},YPosition:{block:Sl.Touchscreen,key:"yPosition",type:Ql.Value,section:2,min:0,max:16383,component:dl.Input,label:"Y position of this icon",helpText:"Specifies Y coordinate on touchscreen where this icon is located. Touchscreen resolution\n    needs to be taken into account here. On Viewtech/Stone touchscreens, this parameter is ignored."},Width:{block:Sl.Touchscreen,key:"width",type:Ql.Value,section:3,min:0,max:1023,component:dl.Input,label:"Width of this icon",helpText:"Specifies width of this icon. Touchscreen resolution\n    needs to be taken into account here. On Viewtech/Stone touchscreens, this parameter is ignored."},Height:{block:Sl.Touchscreen,key:"height",type:Ql.Value,section:4,min:0,max:639,component:dl.Input,label:"Height of this icon",helpText:"Specifies height of this icon. Touchscreen resolution\n    needs to be taken into account here. On Viewtech/Stone touchscreens, this parameter is ignored."},ScreenOn:{block:Sl.Touchscreen,key:"screenOn",type:Ql.Value,section:5,min:0,max:15,component:dl.Input,label:"Screen index of this icon in on state",helpText:"Specifies screen on which this icon in on state is located."},ScreenOff:{block:Sl.Touchscreen,key:"screenOff",type:Ql.Value,section:6,min:0,max:15,component:dl.Input,label:"Screen index of this icon in off state",helpText:"Specifies screen on which this icon in off state is located."},ButtonChangesScreen:{block:Sl.Touchscreen,key:"buttonChangesScreen",type:Ql.Value,section:7,component:dl.Toggle,label:"Button changes screen",helpText:"Specifies whether this button is used to switch to another screen."},ScreenToSwitchTo:{showIf:e=>!!e.buttonChangesScreen,block:Sl.Touchscreen,key:"screenToSwitchTo",type:Ql.Value,section:8,min:0,max:15,component:dl.Input,label:"Screen to switch to",helpText:"Screen to which this button switches to."}},Dd={block:Sl.Touchscreen,title:"Touchscreen",routeName:"device-touchscreens",iconComponent:vt(_d),componentCountResponseIndex:4,sections:Nd,routes:[{path:"touchscreens",name:"device-touchscreens",component:Xu,redirect:{name:"device-touchscreens-list"},children:[{path:"list",name:"device-touchscreens-list",component:Sd,props:{block:Sl.Touchscreen,routeName:"device-touchscreens-form",settingsTitle:""}},{path:"touchscreens/:index",name:"device-touchscreens-form",component:Tc,props:{block:Sl.Touchscreen,gridCols:4}}]}]},Rd={[Sl.Global]:Cd,[Sl.Analog]:Ju,[Sl.Button]:Cc,[Sl.Encoder]:Uc,[Sl.Led]:Md,[Sl.Display]:_c,[Sl.Touchscreen]:Dd},Pd=(e,t)=>Object.values(Rd[e].sections).reduce((e,n)=>(t&&n.type!==t||(e[n.key]=null),e),{}),Ad=Object.values(Rd).reduce((e,t)=>(t.routes&&e.push(...t.routes),e),[]);var Od,Fd;(Fd=Od||(Od={})).CloseConnection="CloseConnection",Fd.Handshake="Handshake",Fd.GetValueSize="GetValueSize",Fd.GetValuesPerMessage="GetValuesPerMessage",Fd.GetFirmwareVersion="GetFirmwareVersion",Fd.IdentifyBoard="IdentifyBoard",Fd.GetFirmwareVersionAndHardwareUid="GetFirmwareVersionAndHardwareUid",Fd.GetNumberOfSupportedComponents="GetNumberOfSupportedComponents",Fd.GetNumberOfSupportedPresets="GetNumberOfSupportedPresets",Fd.Reboot="Reboot",Fd.SaxPitchBendCenterCapture="SaxPitchBendCenterCapture",Fd.Backup="Backup",Fd.GetBootLoaderSupport="GetBootLoaderSupport",Fd.BootloaderMode="BootloaderMode",Fd.FactoryReset="FactoryReset",Fd.GetValue="GetValue",Fd.SetValue="SetValue",Fd.GetSectionValues="GetSectionValues",Fd.RestoreBackup="RestoreBackup",Fd.FirmwareUpdate="FirmwareUpdate";const Bd={[Od.Handshake]:{key:Od.Handshake,type:Yl.Predefined,specialRequestId:1,isConnectionInfoRequest:!0},[Od.CloseConnection]:{key:Od.CloseConnection,type:Yl.Predefined,specialRequestId:0,expectsNoResponse:!0,isConnectionInfoRequest:!0},[Od.GetValueSize]:{key:Od.GetValueSize,type:Yl.Predefined,isConnectionInfoRequest:!0,specialRequestId:2,parser:e=>e.length>1?As(e)[0]:e[0]||1},[Od.GetValuesPerMessage]:{key:Od.GetValuesPerMessage,type:Yl.Predefined,isConnectionInfoRequest:!0,specialRequestId:3,decodeDoubleByte:!0,parser:e=>e[0]},[Od.GetFirmwareVersion]:{key:Od.GetFirmwareVersion,type:Yl.Custom,specialRequestId:86,isConnectionInfoRequest:!0,decodeDoubleByte:!0,parser:e=>{const t=e[0],n=e[1],r=e[2];return"number"!=typeof t||"number"!=typeof n||"number"!=typeof r?null:`v${t}.${n}.${r}`}},[Od.IdentifyBoard]:{key:Od.IdentifyBoard,type:Yl.Custom,specialRequestId:66,decodeDoubleByte:!0,parser:e=>e.slice(0,4)},[Od.GetFirmwareVersionAndHardwareUid]:{key:Od.GetFirmwareVersionAndHardwareUid,type:Yl.Custom,isConnectionInfoRequest:!0,specialRequestId:67,decodeDoubleByte:!0},[Od.GetNumberOfSupportedComponents]:{key:Od.GetNumberOfSupportedComponents,type:Yl.Custom,specialRequestId:77,decodeDoubleByte:!0,parser:e=>{const t={};return Object.values(Rd).forEach(n=>{void 0!==n.componentCountResponseIndex&&(t[n.block]=e[n.componentCountResponseIndex])}),t}},[Od.GetNumberOfSupportedPresets]:{key:Od.GetNumberOfSupportedPresets,type:Yl.Custom,specialRequestId:80,isConnectionInfoRequest:!0,decodeDoubleByte:!0,parser:e=>e[0]},[Od.Reboot]:{key:Od.Reboot,type:Yl.Custom,isConnectionInfoRequest:!0,expectsNoResponse:!0,specialRequestId:127},[Od.SaxPitchBendCenterCapture]:{key:Od.SaxPitchBendCenterCapture,type:Yl.Custom,expectsNoResponse:!0,specialRequestId:96},[Od.GetBootLoaderSupport]:{key:Od.GetBootLoaderSupport,type:Yl.Custom,specialRequestId:81,decodeDoubleByte:!0,parser:e=>e[0]},[Od.BootloaderMode]:{key:Od.BootloaderMode,type:Yl.Custom,isConnectionInfoRequest:!0,expectsNoResponse:!0,specialRequestId:85},[Od.FactoryReset]:{key:Od.FactoryReset,type:Yl.Custom,isConnectionInfoRequest:!0,expectsNoResponse:!0,specialRequestId:68},[Od.Backup]:{key:Od.Backup,type:Yl.Custom,specialRequestId:27,hasMultiPartResponse:!0,isSystemOperation:!0},[Od.GetValue]:{key:Od.GetValue,type:Yl.Configuration,decodeDoubleByte:!0,responseEmbedsRequest:!0,getPayload:(e,t)=>{const n=[yl.Request,0,Ll.Get,wl.Single,e.block,e.section];return 1===t.valueSize?n.push(e.index):n.push(...Fs(e.index),0,0),n}},[Od.SetValue]:{key:Od.SetValue,type:Yl.Configuration,decodeDoubleByte:!0,responseEmbedsRequest:!0,getPayload:(e,t)=>{const n=[yl.Request,0,Ll.Set,wl.Single,e.block,e.section];return 1===t.valueSize?n.push(e.index,e.value):n.push(...Fs(e.index),...Fs(e.value)),n}},[Od.GetSectionValues]:{key:Od.GetSectionValues,type:Yl.Configuration,decodeDoubleByte:!0,responseEmbedsRequest:!0,hasMultiPartResponse:!0,getPayload:(e,t)=>{const n=[yl.Request,126,Ll.Get,wl.All,e.block,e.section];return 1===t.valueSize?n.push(0):n.push(0,0,0,0),n}},[Od.RestoreBackup]:{key:Od.RestoreBackup,type:Yl.Custom,isSystemOperation:!0},[Od.FirmwareUpdate]:{key:Od.FirmwareUpdate,type:Yl.Custom,isSystemOperation:!0,expectsNoResponse:!0}},Ud=e=>{const t=Rd[e.block];if(!t)throw new Error(`Missing block definition for block "${e.block}"`);return Object.values(t.sections).find(t=>(t=>t.section===e.section)(t)&&(!(e=>e.type===Ql.Setting)(t)||(t=>t.settingIndex===e.index)(t)))},Vd=()=>qs.connectionState===Gs.Pending,$d=()=>qs.connectionState===Gs.Open,Gd={isConnecting:Aa(()=>Vd()),isConnected:Aa(()=>$d())};let Hd=null,qd=null,jd=null,zd=!1;const Wd=e=>{const t=e=>{const t=e?.manufacturer??"(unknown manufacturer)",n=e?.state??"(unknown state)";return{id:e.id,name:e.name,manufacturer:t,state:n}},n=[...Ws.inputs.map(e=>e.name),...Ws.outputs.map(e=>e.name)],r=n.length>0&&n.every(e=>/\bmidi\s*(thru|through)\b/i.test(e));qs.debug={tag:e,supported:Ws.supported,enabled:Ws.enabled,inputs:Ws.inputs.map(t),outputs:Ws.outputs.map(t),hasOnlyGenericThrough:r},Ws.supported?Ws.enabled?(cf.log(`[MIDI] ${e}: inputs=${Ws.inputs.length} outputs=${Ws.outputs.length}`),cf.log("[MIDI] inputs",Ws.inputs.map(t)),cf.log("[MIDI] outputs",Ws.outputs.map(t)),r&&cf.warn("[MIDI] Only 'MIDI Through' ports detected. This can mean the OS/browser does not see your USB-MIDI device, or WebMidi's internal port list is stale. Try reloading WebMidi.")):cf.warn(`[MIDI] ${e}: WebMIDI not enabled yet`):cf.warn(`[MIDI] ${e}: WebMIDI not supported by this browser`)},Kd=()=>{if(zd)return;const e=Ws;if("function"==typeof e?.addListener)try{e.addListener("connected",e=>{cf.log("[MIDI] WebMidi connected",{type:e?.port?.type,name:e?.port?.name,id:e?.port?.id}),Wd("WebMidi connected"),Yd()}),e.addListener("disconnected",e=>{cf.log("[MIDI] WebMidi disconnected",{type:e?.port?.type,name:e?.port?.name,id:e?.port?.id}),Wd("WebMidi disconnected"),Yd()}),zd=!0}catch(e){cf.warn("[MIDI] Failed to install WebMidi port listeners",e)}},Xd=e=>{qs.connectionState=e},Qd=async()=>{Zd();try{$d()||Vd()||await ep(),Yd();const e=jL.currentRoute.value.name,t=jL.currentRoute.value.matched.some(e=>"device"===e.name);if("home"===e&&1===qs.outputs.length&&!t){if(!qs.outputs[0].name.includes("OpenDeck"))return;const e=qs.outputs[0].name.includes("OpenDeck DFU")?"device-firmware-update":"device";jL.push({name:e,params:{outputId:qs.outputs[0].id}})}}catch(e){cf.error("MIDI Connection watcher error",e)}jd=setTimeout(Qd,500)},Zd=()=>{jd&&(clearTimeout(jd),jd=null)},Yd=async()=>{if(!Ws.supported||!Ws.enabled)return qs.inputs=[],void(qs.outputs=[]);Wd("assignInputs (raw)");const e=e=>/\bmidi\s*(thru|through)\b/i.test(e),t=Ws.inputs.filter(e=>!e.name.includes("BLE")),n=Ws.outputs.filter(e=>!e.name.includes("BLE")),r=t.filter(t=>!e(t.name)),a=n.filter(t=>!e(t.name)),o=r.filter(e=>e.name.includes("OpenDeck")),i=a.filter(e=>e.name.includes("OpenDeck"));qs.inputs=o.length?o:r.length?r:t,qs.outputs=i.length?i:a.length?a:n,cf.log("[MIDI] assignInputs (selected)",{inputs:qs.inputs.map(e=>({id:e.id,name:e.name})),outputs:qs.outputs.map(e=>({id:e.id,name:e.name}))})},Jd=async e=>{await ep();const t=Ws.outputs.find(t=>t.id===e);if(!t)return $s(250).then(()=>Jd(e));const n=Ws.inputs.filter(e=>!e.name.includes("BLE")),r=n.filter(e=>{return t=e.name,!/\bmidi\s*(thru|through)\b/i.test(String(t||""));var t}),a=String(t.name||"").toLowerCase();let o=r.filter(e=>e.name===t.name);return!o.length&&a&&(o=r.filter(e=>{const t=String(e.name||"").toLowerCase();return t.includes(a)||a.includes(t)})),o.length||1!==r.length||(o=r),!o.length&&r.length&&(o=r),!o.length&&n.length&&(o=n),o.length?(async(e,t)=>new Promise((n,r)=>{let a,o=!1;const i=e.name.includes("OpenDeck DFU");if(i)return a=t.find(e=>e.name.includes("OpenDeck DFU")),o=!0,n({input:a,output:e,isBootloaderMode:i});const l=r=>{a=r.target;const l=7===r.data.length?1:2;t.forEach(e=>{e.removeListener("sysex","all")}),o=!0,n({input:a,output:e,isBootloaderMode:i,valueSize:l})};return t.forEach(e=>{e.removeListener("sysex","all"),e.addListener("sysex","all",l)}),e.sendSysex(fl,[0,0,1]),$s(1e3).then(()=>{o||(cf.error("INITIAL HANDSHAKE TIMED OUT, RETRYING"),r("TIMED OUT"))})}).catch(()=>Jd(e.id)))(t,o):$s(250).then(()=>Jd(e))},ep=async()=>{if(Ws.supported)return qs.isWebMidiSupported=!0,Hd||(Ws.enabled?(Kd(),Wd("loadMidi (already enabled)"),Yd(),void Xd(Gs.Open)):(Hd=tp(),Hd))},tp=async()=>new Promise((e,t)=>{if(Ws.enabled)return Xd(Gs.Open),e();Xd(Gs.Pending),Ws.enable(function(n){if(!n)return Kd(),Wd("WebMidi.enable (success)"),Yd(),setTimeout(()=>Yd(),250),setTimeout(()=>Yd(),1e3),Xd(Gs.Open),Hd=null,e();cf.error("Failed to load WebMidi",n),Xd(Gs.Closed),Hd=null,t(n)},!0)}),np={state:qs,computed:Gd,actions:{loadMidi:ep,reloadMidi:async()=>{if(Ws.supported)return qd||(qd=(async()=>{try{if(Xd(Gs.Pending),Ws.enabled)try{Ws.disable()}catch(e){cf.warn("[MIDI] WebMidi.disable failed",e)}Hd=null,await ep(),Yd(),setTimeout(()=>Yd(),250),setTimeout(()=>Yd(),1e3)}finally{qd=null}})(),qd)},matchInputOutput:Jd,assignInputs:Yd,findOutputById:e=>Ws.outputs.find(t=>t.id===e),startMidiConnectionWatcher:()=>Qd(),stopMidiConnectionWatcher:Zd}},rp=Ms(np);var ap,op,ip,lp;(op=ap||(ap={})).Info="info",op.Midi="midi",op.Request="request",op.Error="error",(lp=ip||(ip={})).Midi="midi",lp.System="system";const sp={[ip.Midi]:!0},up={};Object.values(Sl).forEach(e=>{up[e]={}});const cp=st({...{stack:[],highlights:up,logFilter:sp,showRequestLog:!1,showHexValues:!1,suspendMidiLogs:!1},logFilter:_s("logFilter")||sp,showRequestLog:_s("showRequestLog")||!1});var dp,pp,fp,gp;(pp=dp||(dp={})).Closed="closed",pp.Pending="pending",pp.Open="open",(gp=fp||(fp={})).NotSupported="not_supported",gp.MissingIndex="missing_index",gp.UartInterfaceAllocated="uart_interface_allocated";const hp=xt({}),mp={activeRequestId:xt(null),nextRequestId:100},vp=()=>{nf(),mp.activeRequestId.value=null,mp.nextRequestId=100,hp.value={}},yp=e=>Bd[e],bp=async e=>{const t=(mp.nextRequestId+=1,mp.nextRequestId);if(hp.value[t])return void sf.actions.addError({errorCode:js.UI_QUEUE_REQ_ID_CONFLICT,requestId:t});const{specialRequestId:n,isConnectionInfoRequest:r}=yp(e.command),a={...e,id:t,specialRequestId:n,state:es.Pending,responseCount:0,time:{created:new Date,started:null,finished:null}};return hp.value[t]=a,sf.actions.addRequest(t),r||await Cf(),mp.activeRequestId.value?void 0:Lp(t)},Lp=async e=>{tf(!0);const t=hp.value[e];if(t)if(mp.activeRequestId.value)sf.actions.addError({errorCode:js.UI_QUEUE_REQ_ALREADY_ACTIVE,requestId:e});else try{const n=yp(t.command);n.isSystemOperation&&(os.isSystemOperationRunning=!0),os.output.sendSysex(fl,Array.from(t.payload)),t.time.started=new Date,mp.activeRequestId.value=e,t.state=es.Sent,n.expectsNoResponse?(mp.activeRequestId.value=null,t.state=es.Done,t.promiseResolve()):t.command===Od.RestoreBackup&&$s(2e3).then(()=>{t.state===es.Sent&&Sp(t,js.UI_QUEUE_REQ_TIMED_OUT)})}catch(e){Sp(t,js.UI_QUEUE_REQUEST_SEND_ERROR)}else sf.actions.addError({errorCode:js.UI_QUEUE_REQ_DATA_MISSING,requestId:e})},xp=(e,t,n)=>{const{data:r}=e,{decodeDoubleByte:a,responseEmbedsRequest:o}=t;let i=r;try{if(a&&2===os.valueSize){const a=o?((e,t,n)=>{const{data:r,messageStatus:a,messagePart:o}=e,{hasMultiPartResponse:i}=t,l=i?[1,o,...n.payload.slice(2)]:[1,...n.payload.slice(1)],s=[a,o,...r],u=s.slice(0,l.length);return Bs(l,u)||sf.actions.addError({errorCode:js.UI_QUEUE_EMBEDED_RESPONSE_MISMATCH}),s.slice(l.length)})(e,t,n):r;i=As(a)}}catch(e){return void sf.actions.addError({errorCode:js.UI_QUEUE_REQUEST_DECODE_ERROR,payload:r,error:e})}return t.parser?t.parser(i):i},wp=e=>{if((e=>6===e.data.length&&Object.keys(Tp).includes(String(e.data[4])))(e))return void sf.actions.addMidi({type:Tp[e.data[4]],data:[e.data[4]]});if(!(e.data.length>=4&&240===e.data[0]&&e.data[1]===fl[0]&&e.data[2]===fl[1]&&e.data[3]===fl[2]))return void sf.actions.addMidi({type:"sysex",data:e.data});if((e=>{if(73!==Array.from(e)[6])return!1;const t=e[7],n=2===os.valueSize?As(e.slice(8,10))[0]:e[8];return sf.actions.addInfo({block:t,index:n,payload:e}),!0})(e.data))return;const t=(()=>{const e=mp.activeRequestId.value;if(!e)return;const t=hp.value[e];return t||sf.actions.addError({errorCode:js.UI_QUEUE_REQ_NONE_ACTIVE,requestId:e}),t})();if(!t)return;if(t.state!==es.Sent)return void sf.actions.addError({errorCode:js.UI_QUEUE_REQ_NONE_ACTIVE,payload:e.data});t.responseCount++;const n=yp(t.command),{hasMultiPartResponse:r}=n,a=t.command===Od.Backup,o=2===os.valueSize;if(o&&!a&&t.specialRequestId&&e.data[6]!==t.specialRequestId)return;let i;try{i=((e,t)=>{const n=Array.from(e);if(t.command===Od.Backup)return{messageStatus:1,messagePart:0,data:n};const r=n[4],a=n[5],o=n.slice(6,-1),{specialRequestId:i}=yp(t.command);return([1,2].includes(i)&&o.length||i&&2===os.valueSize)&&o.shift(),{messageStatus:r,messagePart:a,data:o}})(e.data,t)}catch(e){return void logger.error("Failed to process event data",e)}const{messageStatus:l,messagePart:s,data:u}=i;if(l>1)return Sp(t,l);let c;a||(c=o?xp(i,n,t):((e,t)=>t.parser?t.parser(e.data):e.data)(i,n));const{handler:d}=t,p=d(void 0!==c?c:u)||t.command===Od.GetSectionValues&&126===s;return!r||p?Cp(t,i,c):void 0},Cp=(e,t,n)=>{const{messageStatus:r,messagePart:a,data:o}=t;e.state=es.Done,e.responseData=o,e.parsed=n,e.messagePart=a,e.messageStatus=r,e.promiseResolve(),e.time.finished=new Date,kp()},Sp=(e,t)=>{e.state=es.Error;const n=Qs(t);if(e.errorMessage=n.description,e.promiseReject(n.code),sf.actions.addError({errorCode:n.code,requestId:e.id}),e.config){const n=Ud(e.config);n&&[js.NOT_SUPPORTED].includes(t)&&mf(n,fp.NotSupported),n&&[js.UART_INTERFACE_ALLOCATED].includes(t)&&mf(n,fp.UartInterfaceAllocated),n&&[js.BLOCK,js.SECTION,js.INDEX].includes(t)&&mf(n,fp.MissingIndex)}kp()},kp=()=>{mp.activeRequestId.value=null;if(Object.values(hp.value).filter(e=>e.state===es.Sent).length)return void logger.error("Cannot start next request, there are unfinished sent requests");const e=Object.values(hp.value).filter(e=>e.state===es.Pending),t=e.length&&e[0].id;if(t)return Lp(t);tf(!1)},Ip=(e,t)=>{if([Yl.Custom,Yl.Predefined].includes(e.type)){if(void 0===e.specialRequestId)throw new Error(`Missing specialRequestId for definition ${e.key}`);return[0,0,e.specialRequestId]}if(!e.getPayload)throw new Error(`Missing getPayload for definition ${e.type}`);return e.getPayload(t,os)},Ep=async e=>{const{command:t,handler:n,config:r,payload:a}=e,o=yp(t);return new Promise((e,i)=>bp({command:t,payload:a||Ip(o,r),handler:n,config:r,promiseResolve:e,promiseReject:i}))},Mp=e=>Array.isArray(e)?[240,0,83,67,...e,247]:[],_p={noteon:"Note On",noteoff:"Note Off",controlchange:"Control Change",programchange:"Program Change",pitchbend:"Pitch Bend",sysex:"SysEx",clock:"RealTime: Clock",start:"RealTime: Start",continue:"RealTime: Continue",stop:"RealTime: Stop",activesensing:"RealTime: Active Sensing",reset:"RealTime: Reset",mmcstop:"MMC Stop",mmcplay:"MMC Play",mmcrecordstart:"MMC Record Start",mmcrecordstop:"MMC Record Stop",mmcpause:"MMC Pause"},Tp={1:"mmcstop",2:"mmcplay",6:"mmcrecordstart",7:"mmcrecordstop",9:"mmcpause"},Np=["clock","start","continue","stop","activesensing","reset"];var Dp="object"==typeof global&&global&&global.Object===Object&&global,Rp="object"==typeof self&&self&&self.Object===Object&&self,Pp=Dp||Rp||Function("return this")(),Ap=Pp.Symbol,Op=Object.prototype,Fp=Op.hasOwnProperty,Bp=Op.toString,Up=Ap?Ap.toStringTag:void 0;var Vp=Object.prototype.toString;var $p=Ap?Ap.toStringTag:void 0;function Gp(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":$p&&$p in Object(e)?function(e){var t=Fp.call(e,Up),n=e[Up];try{e[Up]=void 0;var r=!0}catch(e){}var a=Bp.call(e);return r&&(t?e[Up]=n:delete e[Up]),a}(e):function(e){return Vp.call(e)}(e)}var Hp=/\s/;var qp=/^\s+/;function jp(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&Hp.test(e.charAt(t)););return t}(e)+1).replace(qp,""):e}function zp(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var Wp=/^[-+]0x[0-9a-f]+$/i,Kp=/^0b[01]+$/i,Xp=/^0o[0-7]+$/i,Qp=parseInt;function Zp(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return null!=e&&"object"==typeof e}(e)&&"[object Symbol]"==Gp(e)}(e))return NaN;if(zp(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=zp(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=jp(e);var n=Kp.test(e);return n||Xp.test(e)?Qp(e.slice(2),n?2:8):Wp.test(e)?NaN:+e}var Yp=function(){return Pp.Date.now()},Jp=Math.max,ef=Math.min;const tf=e=>{cp.suspendMidiLogs=e},nf=()=>{cp.stack=[]},rf=function(e,t,n){var r,a,o,i,l,s,u=0,c=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=r,o=a;return r=a=void 0,u=t,i=e.apply(o,n)}function g(e){var n=e-s;return void 0===s||n>=t||n<0||d&&e-u>=o}function h(){var e=Yp();if(g(e))return m(e);l=setTimeout(h,function(e){var n=t-(e-s);return d?ef(n,o-(e-u)):n}(e))}function m(e){return l=void 0,p&&r?f(e):(r=a=void 0,i)}function v(){var e=Yp(),n=g(e);if(r=arguments,a=this,s=e,n){if(void 0===l)return function(e){return u=e,l=setTimeout(h,t),c?f(e):i}(s);if(d)return clearTimeout(l),l=setTimeout(h,t),f(s)}return void 0===l&&(l=setTimeout(h,t)),i}return t=Zp(t)||0,zp(n)&&(c=!!n.leading,o=(d="maxWait"in n)?Jp(Zp(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p),v.cancel=function(){void 0!==l&&clearTimeout(l),u=0,r=s=a=l=void 0},v.flush=function(){return void 0===l?i:m(Yp())},v}(()=>{cp.stack.length>50&&(cp.stack=cp.stack.slice(0,50))},10,{leading:!0,maxWait:10,trailing:!1});function af(e){let t="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<e;r++)t+=n.charAt(Math.floor(62*Math.random()));return t}const of=e=>{const{type:t,block:n,index:r}=e,a=new Date,o=a.getTime(),i=(e=>{if(!e)return"";const t=e.getHours(),n=Vs(e.getMinutes()),r=Vs(e.getSeconds()),a=e.getMilliseconds();return`${Vs(t)}:${n}:${r} ${a}`})(a);if(t===ap.Info){const e=cp.highlights[n];if(!e)return void logger.error(`Unknown highlight block with id ${n}`);e[r]=o}const l=t===ap.Midi?!cp.logFilter[ip.Midi]:!cp.logFilter[ip.System];if(!cp.showRequestLog||l)return;let s=e.payload;s&&("string"==typeof s&&(s=s.split(",")),Array.isArray(s)||(s=Array.from(s))),cp.stack.unshift({...e,id:af(9),payload:s,time:a,timeString:i}),rf()},lf={clearRequestLog:nf,getFilteredLogs:e=>cp.stack.filter(e),addRequest:e=>{const t=hp.value[e],n=Mp(t.payload),r=n&&Ps(Rs(n)),a=n&&Ps(n),o=Mp((e=>{const t=[];return[e.messageStatus,e.messagePart,e.specialRequestId].forEach(e=>{void 0!==e&&t.push(e)}),Array.isArray(e.responseData)&&t.push(...e.responseData),t})(t)),i=o&&Ps(Rs(o)),l=o&&Ps(o);of({type:ap.Request,requestId:e,dataHex:i,dataDec:l,payloadHex:r,payloadDec:a})},addInfo:e=>{const{payload:t}=e,n=t&&Ps(Rs(t)),r=t&&Ps(Array.from(t));of({type:ap.Info,...e,payloadHex:n,payloadDec:r})},addError:e=>{if(of({type:ap.Error,...e}),e.errorCode){const t=Number(e.errorCode),n=Qs(t);if(t===js.NOT_SUPPORTED)return;cf.error(n.description,e.error)}else cf.error(e.message,e.error)},addMidi:e=>{if(cp.suspendMidiLogs&&Np.includes(e.type))return;const{type:t,channel:n,data:r,controller:a}=e,o=r?Array.from(r):[],i="number"==typeof e.value?e.value:void 0,l=["noteon","noteoff"].includes(t)?r[1]:void 0,s=a,u=r&&r.length>2?r[2]:void 0,c="noteoff"==t?r[0]>=144?_p.noteon:_p.noteoff:_p[t],d=r&&Ps(o),p=r&&Ps(Rs(o)),f={label:c,type:ap.Midi,eventType:t,channel:n,dataHex:p,dataDec:d,value:i,controllerNumber:s,note:l,velocity:u};of(f)},toggleLogFilter:e=>{cp.logFilter[e]=!cp.logFilter[e],Ts("logFilter",cp.logFilter)},toggleLog:()=>{cp.showRequestLog=!cp.showRequestLog,Ts("showRequestLog",cp.showRequestLog)},toggleHexValues:()=>{cp.showHexValues=!cp.showHexValues,Ts("showHexValues",cp.showHexValues)},setSuspendMidi:tf},sf={state:cp,actions:lf},uf=Ms(sf),cf={log:(...e)=>{np.state.log&&console.log(...e)},warn:(...e)=>{np.state.log&&console.warn(...e)},error:(e,t)=>{if(np.state.log&&(e&&console.error(e),t&&console.error(t),!t&&!e))throw new Error("Unknown error!")}},df=async(e,t,n=20)=>{let r=0;os.systemOperationPercentage=1;const a=await(async e=>(await e.text()).split("\n").map(e=>e.split(" ").map(Ns)).map(e=>e.slice(4,-1)))(e),o=async e=>{r+=1;const o=Math.floor(r/a.length*100);return os.systemOperationPercentage=o>0?o:1,Ep({command:t,payload:e,handler:()=>null}).then(()=>$s(n))};let i=!1;const l=a.reduce((e,t)=>e.then(()=>o(t)).catch(()=>{i=!0,o(t)}),Promise.resolve());return await l,os.systemOperationPercentage=null,!i},pf=["noteon","noteoff","controlchange","programchange","pitchbend","clock","start","continue","stop","activesensing","reset"],ff=e=>{pf.forEach(t=>e.removeListener(t,"all"))};let gf=null;const hf=e=>os.unsupportedComponents[e.block][e.key],mf=(e,t)=>os.unsupportedComponents[e.block][e.key]=t||!t,vf=e=>{Object.assign(os,e)},yf=async()=>{Lf();try{if(!os.outputId)return jL.push({name:"home"});if(!await np.actions.findOutputById(os.outputId))return jL.push({name:"home"})}catch(e){return cf.error("Device connection watcher error",e),jL.push({name:"home"})}gf=setTimeout(()=>yf(),1e3)},bf=()=>$s(5e3).then(yf),Lf=()=>{gf&&(clearTimeout(gf),gf=null)},xf=async e=>{const t=await np.actions.matchInputOutput(e),{input:n,output:r,isBootloaderMode:a,valueSize:o}=t;if(os.isBootloaderMode=a,os.outputId=e,os.input=n,os.output=r,os.valueSize=o,os.valuesPerMessageRequest=null,os.firmwareVersion=null,os.connectionError=null,os.input.removeListener("sysex","all"),os.input.addListener("sysex","all",wp),ff(os.input),(e=>{pf.forEach(t=>e.addListener(t,"all",sf.actions.addMidi))})(os.input),a)return os.boardName=r.name,os.connectionState=dp.Open,os.connectionPromise=null,void bf();try{await Ep({command:Od.GetValuesPerMessage,handler:e=>vf({valuesPerMessageRequest:e})}),await Ep({command:Od.GetFirmwareVersion,handler:e=>vf({firmwareVersion:e})})}catch(e){throw os.connectionState=dp.Closed,os.connectionError=" SysEx /  . (MIDI Through , SysEx  ,  USB-MIDI    .)\n\n  SysEx   + Reload   .",e}if(!os.firmwareVersion)try{await Ep({command:Od.GetFirmwareVersionAndHardwareUid,handler:e=>{const t=e?.[0],n=e?.[1],r=e?.[2];"number"==typeof t&&"number"==typeof n&&"number"==typeof r&&vf({firmwareVersion:`v${t}.${n}.${r}`})}})}catch{}os.connectionState=dp.Open,os.connectionPromise=null,bf(),await kf()},wf=async e=>{if("string"!=typeof e)throw new Error("MISSING OR INVALID DEVICE OUTPUT ID");return os.connectionPromise||(os.connectionState=dp.Pending,os.connectionPromise=xf(e)),os.connectionPromise},Cf=async()=>{if(os.connectionState!==dp.Open){if(os.connectionPromise)return os.connectionPromise;if(os.outputId)return wf(os.outputId);throw new Error("CANNOT ENSURE CONNECTION, MISSING outputId")}},Sf=async(e,t)=>(await Ep({command:e,handler:t}),os.connectionState=dp.Closed,$s(200).then(()=>jL.push({name:"home"}))),kf=async()=>{await Ep({command:Od.IdentifyBoard,handler:e=>{const t=(e=>Array.isArray(e)&&4===e.length?Zs.find(t=>Array.isArray(t.id)&&4===t.id.length&&Bs(t.id,e)||Array.isArray(t.oldId)&&4===t.oldId.length&&Bs(t.oldId,e)):null)(e),n=t&&t.name||"Custom OpenDeck board",r=t&&t.firmwareFileName;vf({boardName:n,firmwareFileName:r})}}),await Ep({command:Od.GetNumberOfSupportedComponents,handler:e=>vf({numberOfComponents:e})});try{2===os.valueSize&&await Ep({command:Od.GetBootLoaderSupport,handler:e=>vf({bootLoaderSupport:e})})}catch(e){cf.error("Error while checking for bootloader support, setting to false",e),vf({bootLoaderSupport:!1})}await Ep({command:Od.GetNumberOfSupportedPresets,handler:e=>vf({supportedPresetsCount:e})})},If=e=>!hf(e),Ef=e=>1===os.valueSize||!e.isMsb,Mf=(e,t)=>{if(!Rd[e])throw new Error(`Block definition not found in BlockMap ${e}`);const{sections:n}=Rd[e];return Object.values(n).filter(e=>((e,t)=>e.type===t)(e,t)).filter(If).filter(Ef)},_f=async(e,t,n)=>{await Cf();let r=null;if(await Ep({command:Od.GetValue,handler:e=>{r=e[0]},config:{block:e,section:t,index:n}}),null===r)throw new Error("Failed to read value");return r},Tf=async(e,t)=>Ep({command:Od.SetValue,handler:t,config:e}),Nf=Sl.Global,Df=async()=>_f(Nf,2,12),Rf=async e=>{const t=Math.max(0,Math.min(2e3,Math.trunc(Number(e)||0)));await Tf({block:Nf,section:2,index:12,value:t},()=>{})},Pf={setInfo:vf,setViewSetting:(e,t)=>{t.itemsPerPage&&t.itemsPerPage!==os.viewSettings[e].itemsPerPage&&(os.viewSettings[e].currentPage=1),Object.assign(os.viewSettings[e],t)},connectDevice:wf,closeConnection:()=>{Lf(),(async()=>{vp(),os.input&&(os.input.removeListener("sysex","all"),ff(os.input)),Object.assign(os,as)})()},ensureConnection:Cf,startUpdatesCheck:async e=>{let t=[];try{const e="undefined"!=typeof AbortController?new AbortController:null,n=window.setTimeout(()=>e?.abort(),2500);try{const n=await fetch(hl,e?{signal:e.signal}:void 0);t=await n.json()}finally{window.clearTimeout(n)}}catch(e){throw cf.warn("[FW] Updates check failed (offline?)",e),new Error("FW_UPDATES_CHECK_FAILED")}const n=os.firmwareVersion||"v0.0.0";return t.filter(e=>e.name.length&&ks(e.name,n)).map(t=>({html_description:Is(t.body,{headerIds:!1}),firmwareFileLink:t.assets.find(t=>t.name===e),...t}))},startBootLoaderMode:async()=>{await Ep({command:Od.BootloaderMode,handler:()=>cf.log("Bootloader mode started")})},startFactoryReset:async()=>{await Sf(Od.FactoryReset,()=>cf.log("Bootloader mode started"))},startReboot:async()=>{await Sf(Od.Reboot,()=>cf.log("Reboot mode started"))},saxPitchBendCenterCapture:async()=>{await Ep({command:Od.SaxPitchBendCenterCapture,handler:()=>{}})},saxPitchBendDeadzoneGet:Df,saxPitchBendDeadzoneSet:Rf,saxPitchBendDeadzoneInc:async()=>{const e=await Df();await Rf(Number(e)+10)},saxPitchBendDeadzoneDec:async()=>{const e=await Df();await Rf(Number(e)-10)},startDeviceConnectionWatcher:bf,stopDeviceConnectionWatcher:Lf,startFirmwareUpdate:async e=>{vp();const t=await df(e,Od.FirmwareUpdate);os.isSystemOperationRunning=!1;alert(t?"Firmware update finished":"Firmware update finished with errors")},isControlDisabled:hf,disableControl:mf,startBackup:async()=>{let e=0,t=null;const n=[];Ep({command:Od.Backup,handler:r=>{e||(t=r);const a=e&&Bs(t,r),o=0===e;if(e+=1,o||a||n.push(r.map(Ds).join(" ")),a){const e=new Blob([n.join("\n")],{type:"text/plain;charset=utf-8"}),t=(new Date).toISOString().slice(0,-8).replace(":","-").replace("T","-");Es.saveAs(e,`OpenDeckUI-Backup-${t}.sysex`)}return a}}).catch(e=>{Number(e)!==js.NOT_SUPPORTED&&cf.error("Failed to read component config",e)})},startRestore:async e=>{await df(e,Od.RestoreBackup),os.isSystemOperationRunning=!1,alert("Restoring from backup finished. The board will now reboot and apply the parameters. This can take up to 30 seconds.")},getComponentSettings:async(e,t,n)=>{await Cf();const r={},a=Mf(e,t).map(t=>{const{key:a,section:o,onLoad:i,settingIndex:l}=t,s="number"==typeof n?n:l;return Ep({command:Od.GetValue,handler:e=>{const t=e[0];r[a]=t,i&&i(t)},config:{block:e,section:o,index:s}}).catch(e=>{Number(e)!==js.NOT_SUPPORTED&&cf.error("Failed to read component config",e)})});return await Promise.all(a),r},getValue:_f,setComponentSectionValue:Tf,getSectionValues:async e=>{await Cf();const t={},n=Mf(e,Ql.Value).map(n=>{const{key:r,section:a}=n;return Ep({command:Od.GetSectionValues,handler:e=>(t[r]||(t[r]=[]),t[r].push(...e),!1),config:{block:e,section:a}}).catch(e=>{Number(e)!==js.NOT_SUPPORTED&&cf.error("Failed to read component config",e)})});return await Promise.all(n),t},getFilteredSectionsForBlock:Mf},Af=Aa(()=>os.input&&os.input.name),Of=Aa(()=>os.input&&os.input.manufacturer),Ff=Aa(()=>os.connectionState===dp.Pending),Bf=Aa(()=>os.connectionState===dp.Open),Uf=Aa(()=>1===os.valueSize),Vf={state:os,computed:{name:Af,manufacturer:Of,isConnecting:Ff,isConnected:Bf,showMsbControls:Uf},actions:Pf},$f=Ms(Vf);var Gf=mn({name:"LogDataValue",props:{hex:{required:!0,type:String},dec:{required:!0,type:String}},setup(){const{showHexValues:e}=uf;return{showHexValues:e}}});const Hf={class:"sysex-payload capitalize"};Gf.render=function(e,t,n,r,a,o){return Yr(),na("span",Hf,[e.showHexValues?(Yr(),na(zr,{key:0},[da("[ "+X(e.hex)+" ] ",1),t[0]||(t[0]=sa("sup",null,"Hex",-1))],64)):(Yr(),na(zr,{key:1},[da("[ "+X(e.dec)+" ] ",1),t[1]||(t[1]=sa("sup",null,"Dec",-1))],64))])};var qf=mn({name:"LogMidi",components:{LogDataValue:Gf},props:{logEntry:{required:!0,type:Object}},setup:()=>({convertToHexString:Rs,MidiEventTypeLabel:_p,MidiRealtimeEvent:Np})});const jf={class:"border-b border-gray-800 last:border-b-0"},zf={class:"mr-2 text-yellow-300"},Wf={key:0,class:"mr-2"},Kf={key:1,class:"mr-2"},Xf={key:2,class:"mr-2"},Qf={key:3,class:"mr-2"},Zf={key:4};qf.render=function(e,t,n,r,a,o){const i=Vn("LogDataValue");return Yr(),na("div",jf,[sa("strong",zf,[da(X(e.logEntry.label)+" ",1),null!=e.logEntry.note?(Yr(),na(zr,{key:0},[da(X(e.logEntry.note),1)],64)):fa("",!0)]),void 0!==e.logEntry.channel?(Yr(),na("span",Wf,[t[0]||(t[0]=sa("span",{class:"faded"},"channel",-1)),da(" "+X(e.logEntry.channel),1)])):fa("",!0),void 0!==e.logEntry.value&&"controlchange"!==e.logEntry.eventType?(Yr(),na("span",Kf,[t[1]||(t[1]=sa("span",{class:"faded"},"value",-1)),da(" "+X(e.logEntry.value),1)])):fa("",!0),void 0!==e.logEntry.controllerNumber?(Yr(),na("span",Xf,[t[2]||(t[2]=sa("span",{class:"faded"},"controller",-1)),da(" "+X(e.logEntry.controllerNumber)+" ",1),t[3]||(t[3]=sa("span",{class:"faded"},"value",-1)),da(" "+X(e.logEntry.value),1)])):fa("",!0),void 0!==e.logEntry.note?(Yr(),na("span",Qf,[t[4]||(t[4]=sa("span",{class:"faded"},"velocity",-1)),da(" "+X(e.logEntry.velocity),1)])):fa("",!0),e.logEntry.dataDec&&e.logEntry.dataDec.length?(Yr(),na("div",Zf,[t[5]||(t[5]=sa("span",{class:"sysex-label faded"},"Raw data",-1)),ua(i,{hex:e.logEntry.dataHex,dec:e.logEntry.dataDec},null,8,["hex","dec"])])):fa("",!0)])};var Yf=mn({name:"LogRequest",components:{LogDataValue:Gf},props:{logEntry:{required:!0,type:Object},requestId:{required:!0,type:Number}},setup:e=>({request:xt(hp.value[e.requestId]),getDefinitionLabel:e=>{const t=Ud(e);if(!t)return"";const n=t.type===Ql.Value&&e.index?`# ${e.index}`:" - ";return`- ${Sl[e.block]} ${n} ${t&&t.label}`},getDifferenceInMs:Us,convertToHexString:Rs,RequestState:es,Block:Sl})});const Jf={class:"activity request-request"},eg={class:"request-command"},tg={class:"request-command"},ng={key:0,class:"request-command"},rg={key:1,class:"request-config"},ag={class:"status"},og={key:0,class:"timing"},ig={key:1,class:"timing"},lg={key:0},sg={key:1},ug={class:""},cg={key:0},dg={key:2},pg={class:"text-red-500"};Yf.render=function(e,t,n,r,a,o){const i=Vn("LogDataValue");return Yr(),na("div",Jf,[sa("span",{class:H({"text-red-500":!!e.request.errorMessage})},[sa("strong",eg,X(e.request.id),1),t[0]||(t[0]=da(". ",-1)),sa("strong",tg,X(e.request.command),1),e.request.config?(Yr(),na("strong",ng,X(e.getDefinitionLabel(e.request.config)),1)):fa("",!0),e.request.config&&"number"==typeof e.request.config.value?(Yr(),na("strong",rg,X(e.request.config.value),1)):fa("",!0)],2),sa("span",{class:H(["request-status",e.request.state])},[sa("span",ag,X(e.request.state),1),e.request.time.finished?(Yr(),na("span",og,[t[1]||(t[1]=sa("span",{class:"status-label faded"},"in",-1)),sa("strong",null,X(e.getDifferenceInMs(e.request.time.finished,e.request.time.started))+"ms",1)])):fa("",!0),e.getDifferenceInMs(e.request.time.started,e.request.time.created)?(Yr(),na("span",ig,[t[2]||(t[2]=sa("span",{class:"status-label faded"},"waited",-1)),sa("strong",null,X(e.getDifferenceInMs(e.request.time.started,e.request.time.created))+"ms",1)])):fa("",!0)],2),e.request.payload?(Yr(),na("div",lg,[t[3]||(t[3]=sa("span",{class:"sysex-label faded"},"Sent",-1)),ua(i,{dec:e.logEntry.payloadDec,hex:e.logEntry.payloadHex},null,8,["dec","hex"])])):fa("",!0),e.request.responseData?(Yr(),na("div",sg,[sa("div",ug,[t[4]||(t[4]=sa("span",{class:"sysex-label faded"},"Received",-1)),ua(i,{hex:e.logEntry.dataHex,dec:e.logEntry.dataDec},null,8,["hex","dec"])]),e.request.parsed?(Yr(),na("div",cg,[t[5]||(t[5]=sa("span",{class:"sysex-label faded"},"Parsed",-1)),sa("span",null,X(e.request.parsed),1)])):fa("",!0)])):fa("",!0),e.request.errorMessage?(Yr(),na("div",dg,[t[6]||(t[6]=sa("span",{class:"sysex-label text-red-700"},"Error",-1)),sa("span",pg,X(e.request.errorMessage),1)])):fa("",!0)])};var fg=mn({name:"LogInfo",components:{LogDataValue:Gf},props:{logEntry:{required:!0,type:Object}},setup:()=>({Block:Sl,BlockMap:Rd,convertToHexString:Rs})});const gg={class:""},hg={key:0},mg={key:1},vg={key:2};fg.render=function(e,t,n,r,a,o){const i=Vn("LogDataValue");return Yr(),na("div",gg,[t[1]||(t[1]=sa("strong",{class:"mr-2 text-gray-400"},"Component info",-1)),e.logEntry.block?(Yr(),na("strong",hg,X(e.BlockMap[e.logEntry.block].title),1)):fa("",!0),Number.isInteger(e.logEntry.index)?(Yr(),na("strong",mg," #"+X(e.logEntry.index),1)):fa("",!0),e.logEntry.payloadDec?(Yr(),na("div",vg,[t[0]||(t[0]=sa("span",{class:"sysex-label faded"},"Raw data",-1)),ua(i,{dec:e.logEntry.payloadDec,hex:e.logEntry.payloadHex},null,8,["dec","hex"])])):fa("",!0)])};var yg=mn({name:"ActivityError",props:{logEntry:{required:!0,type:Object}},setup:()=>({getErrorDefinition:Qs})});const bg={class:"py-2 border-b border-gray-800 last:border-b-0"},Lg={key:0,class:"text-red-500 mr-4"},xg={key:1,class:"text-red-500 mr-2"},wg={class:"text-red-500"};yg.render=function(e,t,n,r,a,o){return Yr(),na("div",bg,[e.logEntry.requestId?(Yr(),na("strong",Lg,"Request "+X(e.logEntry.requestId),1)):fa("",!0),e.logEntry.errorCode?(Yr(),na("strong",xg,"Error Code "+X(e.logEntry.errorCode),1)):fa("",!0),sa("span",wg,X(e.logEntry.message)+" "+X(e.logEntry.errorCode&&e.getErrorDefinition(e.logEntry.errorCode).description),1)])};var Cg=mn({name:"RequestLogTableRow",components:{LogMidi:qf,LogRequest:Yf,LogInfo:fg,LogError:yg},props:{logEntry:{required:!0,type:Object}},setup:()=>({LogType:ap})});const Sg={class:"w-2/12 text-right"},kg={class:"w-8/12"};Cg.render=function(e,t,n,r,a,o){const i=Vn("LogError"),l=Vn("LogRequest"),s=Vn("LogInfo"),u=Vn("LogMidi");return Yr(),na("tr",{class:H(["table-row",{"text-red-500":e.logEntry.type===e.LogType.Error}])},[sa("td",Sg,X(e.logEntry.timeString),1),sa("td",kg,[e.logEntry.type===e.LogType.Error?(Yr(),ra(i,{key:0,"log-entry":e.logEntry},null,8,["log-entry"])):e.logEntry.requestId&&e.logEntry.type===e.LogType.Request?(Yr(),ra(l,{key:1,"log-entry":e.logEntry,"request-id":e.logEntry.requestId},null,8,["log-entry","request-id"])):e.logEntry.type===e.LogType.Info?(Yr(),ra(s,{key:2,"log-entry":e.logEntry},null,8,["log-entry"])):e.logEntry.type===e.LogType.Midi?(Yr(),ra(u,{key:3,"log-entry":e.logEntry},null,8,["log-entry"])):fa("",!0)])],2)};var Ig=mn({name:"RequestLogTable",components:{RequestLogTableRow:Cg},setup:()=>({stack:uf.stack})});const Eg={key:0,class:"table-auto mb-0 request-table"},Mg={class:"table-body"};Ig.render=function(e,t,n,r,a,o){const i=Vn("RequestLogTableRow");return e.stack.length?(Yr(),na("table",Eg,[t[0]||(t[0]=sa("thead",{class:"table-head"},[sa("tr",{class:"text-left"},[sa("th",{class:"w-1/12 text-right"},"Time"),sa("th",{class:"w-8/12"},"Event")])],-1)),sa("tbody",Mg,[(Yr(!0),na(zr,null,jn(e.stack,e=>(Yr(),ra(i,{key:e.id,"log-entry":e},null,8,["log-entry"]))),128))])])):fa("",!0)};var _g=mn({name:"RequestLog",components:{RequestLogTable:Ig},setup:()=>({clear:()=>{uf.clearRequestLog(),Object.keys(hp.value).forEach(e=>{const t=Number(e),n=hp.value[t];[es.Done,es.Error].includes(n.state)&&delete hp.value[t]})},LogType:ap,LogFilter:ip,...uf})});const Tg={class:"request-log section"},Ng={class:"section-heading clearfix"},Dg={class:"section-heading-inner"},Rg={key:1,class:"float-right mt-1 clearfix"},Pg={class:"inline-block mr-6"},Ag={class:"request-log-main"};_g.render=function(e,t,n,r,a,o){const i=Vn("FormToggle"),l=Vn("RequestLogTable");return Yr(),na("div",Tg,[sa("div",Ng,[sa("h3",Dg,[t[2]||(t[2]=sa("span",{class:"mr-6"},"Activity",-1)),ua(i,{class:"mr-8",value:e.showRequestLog,onChanged:e.toggleLog},null,8,["value","onChanged"]),e.showRequestLog&&e.stack.length?(Yr(),na("button",{key:0,class:"btn btn-xs mr-6",onClick:t[0]||(t[0]=(...t)=>e.clear&&e.clear(...t))}," clear ")):fa("",!0),e.showRequestLog?(Yr(),na("span",Rg,[sa("span",Pg,[ua(i,{value:e.showHexValues,class:"toggle-sm labeled",onChanged:e.toggleHexValues},{default:nn(()=>[...t[1]||(t[1]=[da(" hex ",-1)])]),_:1},8,["value","onChanged"])]),(Yr(!0),na(zr,null,jn(e.LogFilter,(t,n)=>(Yr(),na("span",{key:n,class:"inline-block ml-2"},[ua(i,{value:e.logFilter[t],class:"toggle-sm labeled",onChanged:()=>e.toggleLogFilter(t)},{default:nn(()=>[da(X(t),1)]),_:2},1032,["value","onChanged"])]))),128))])):fa("",!0)])]),sa("div",Ag,[e.showRequestLog?(Yr(),ra(l,{key:0,class:"w-full"})):fa("",!0)])])};var Og=mn({name:"DeviceNavItem",props:{block:{type:Number,required:!0},params:{type:Object,default:void 0}},setup(e){const{title:t,iconComponent:n,routeName:r}=Rd[e.block],{numberOfComponents:a}=$f,{highlights:o}=uf,i=Aa(()=>(e=>{if(!e)return null;let t=null;return Object.keys(e).forEach(n=>{t=e[n]>t?e[n]:t}),t})(o.value[e.block])),l=Aa(()=>jL.currentRoute.value.matched.some(e=>e.name===r));return{...Js(i),numberOfComponents:a,active:l,title:t,iconComponent:n,routeName:r}}});const Fg={class:"icon-wrapper"},Bg={key:0,class:"icon-label"},Ug={class:"lg:inline-block text-sm label"};Og.render=function(e,t,n,r,a,o){const i=Vn("router-link");return Yr(),ra(i,{to:{name:e.routeName,params:e.params},class:H({active:e.active,[e.routeName]:!0,"btn-highlight":e.isHighlighted})},{default:nn(()=>[sa("span",Fg,[(Yr(),ra(Gn(e.iconComponent))),void 0!==e.numberOfComponents[e.block]&&null!==e.numberOfComponents[e.block]?(Yr(),na("span",Bg,X(e.numberOfComponents[e.block]),1)):fa("",!0)]),sa("span",Ug,X(e.title),1),t[0]||(t[0]=sa("br",null,null,-1))]),_:1},8,["to","class"])};var Vg=mn({name:"DeviceNav",components:{DeviceNavItem:Og},setup(){const{outputId:e,isConnected:t}=$f;return{BlockMap:Rd,isConnected:t,outputId:e}}});const $g={key:0,class:"device-nav"};Vg.render=function(e,t,n,r,a,o){const i=Vn("DeviceNavItem");return e.isConnected?(Yr(),na("div",$g,[(Yr(!0),na(zr,null,jn(Object.values(e.BlockMap),t=>(Yr(),ra(i,{key:`block-${t.block}`,class:"item clearfix",block:t.block,params:{outputId:e.outputId}},null,8,["block","params"]))),128))])):fa("",!0)};var Gg=mn({name:"Device",components:{RequestLog:_g,DeviceNav:Vg},setup(){const{connectDevice:e,isConnected:t,isConnecting:n,isSystemOperationRunning:r,systemOperationPercentage:a,isBootloaderMode:o,connectionError:i}=$f;return Tn(async()=>{try{if(await e(jL.currentRoute.value.params.outputId),o.value)return jL.push({name:"device-firmware-update"})}catch(e){cf.error(e)}}),{isConnected:t,isConnecting:n,isBootloaderMode:o,isSystemOperationRunning:r,systemOperationPercentage:a,connectionError:i}}});const Hg={key:1,class:"relative"},qg={class:"mt-6"};Gg.render=function(e,t,n,r,a,o){const i=Vn("SpinnerOverlay"),l=Vn("Hero"),s=Vn("DeviceNav"),u=Vn("router-view"),c=Vn("ProgressBar"),d=Vn("router-link"),p=Vn("RequestLog");return Yr(),na(zr,null,[e.isConnecting?(Yr(),ra(l,{key:0,custom:"h-64 relative"},{default:nn(()=>[ua(i)]),_:1})):e.isConnected?(Yr(),na("div",Hg,[e.isBootloaderMode?fa("",!0):(Yr(),ra(s,{key:0})),ua(u),e.isSystemOperationRunning&&Number.isInteger(e.systemOperationPercentage)?(Yr(),ra(c,{key:1,percentage:e.systemOperationPercentage},null,8,["percentage"])):e.isSystemOperationRunning?(Yr(),ra(i,{key:2})):fa("",!0)])):(Yr(),ra(l,{key:2,custom:"h-64",title:e.connectionError||"No WebMidi device found."},{default:nn(()=>[t[1]||(t[1]=sa("div",{class:"mt-4 text-sm text-gray-300"},[sa("div",null," :"),sa("div",{class:"mt-2"},[da("-   "),sa("strong",null,"SysEx   + Reload"),da("    .")]),sa("div",null,[da("-   "),sa("strong",null,"MIDI Through"),da(" , /OS  USB-MIDI       .")])],-1)),sa("div",qg,[ua(d,{to:{name:"home"},class:"px-4 py-2 border border-gray-600 rounded text-gray-200 hover:border-gray-400"},{default:nn(()=>[...t[0]||(t[0]=[da("   ",-1)])]),_:1})])]),_:1},8,["title"])),ua(p)],64)};var jg=mn({name:"DeviceSelect",setup(){const e=Aa(()=>{const e=St(rp.debug),t=St(rp.outputs);return!!e?.hasOnlyGenericThrough&&Array.isArray(t)&&1===t.length}),t=xt(!1),n=xt(null),r=xt([]),a=xt([]),o=xt(!1),i=xt(null),l=xt([]),s=xt("undefined"!=typeof window?window.location.origin:""),u=xt(""),c=xt(""),d=xt(""),p=xt(!1),f=xt(!1),g=xt("undefined"!=typeof navigator&&"function"==typeof navigator.requestMIDIAccess),h=async()=>{u.value="",c.value="",d.value="";const e=navigator?.permissions;if(e?.query)try{const[t,n]=await Promise.all([e.query({name:"midi",sysex:!1}),e.query({name:"midi",sysex:!0})]);u.value=String(t?.state||""),c.value=String(n?.state||"")}catch(e){const t=e;d.value=String(t?.message||e||"unknown error")}},m=async e=>{if(n.value=null,o.value=e,i.value=null,"function"!=typeof navigator?.requestMIDIAccess)return n.value="requestMIDIAccess is not available",r.value=[],void(a.value=[]);const t=e=>{const t=e=>({id:e.id,name:e.name,manufacturer:e.manufacturer||"(unknown manufacturer)",state:e.state||"(unknown state)",connection:e.connection||"(unknown connection)",type:e.type});r.value=Array.from(e.inputs?.values?.()||[]).map(t),a.value=Array.from(e.outputs?.values?.()||[]).map(t)};try{const n=await navigator.requestMIDIAccess({sysex:e});i.value=n,t(n),h(),n.onstatechange=e=>{const r=e?.port;l.value=[{ts:(new Date).toISOString(),id:r?.id||"",name:r?.name||"",state:r?.state||"",connection:r?.connection||"",type:r?.type||"",manufacturer:r?.manufacturer||""},...l.value].slice(0,20);try{t(n)}catch{}}}catch(e){n.value=String(e?.message||e||"unknown error"),r.value=[],a.value=[]}},v=Aa(()=>{const e=[...r.value.map(e=>String(e?.name||"")),...a.value.map(e=>String(e?.name||""))].filter(Boolean);return e.length>0&&e.every(e=>/\bmidi\s*(thru|through)\b/i.test(e))});return Tn(()=>{try{t.value="undefined"!=typeof localStorage&&"true"===localStorage.getItem("opendeck.ignoreOnlyGenericThrough")}catch{}rp.loadMidi().catch(()=>{}).finally(()=>{rp.assignInputs(),rp.startMidiConnectionWatcher()}),$f.closeConnection(),h().finally(()=>{m("granted"===c.value)})}),{outputs:rp.outputs,midiDebug:rp.debug,onlyGenericThrough:e,ignoreOnlyGenericThrough:t,isSecureContext:window.isSecureContext,isReloadingWebMidi:p,reloadWebMidi:async()=>{if(!p.value){p.value=!0;try{await rp.reloadMidi()}finally{p.value=!1}}},requestSysexAndReload:async()=>{if(!p.value){p.value=!0;try{await m(!0),await rp.reloadMidi()}finally{p.value=!1}}},showMidiDebug:f,nativeSupported:g,nativeHasOnlyGenericThrough:v,nativeSysex:o,nativeError:n,nativeInputs:r,nativeOutputs:a,nativeStateChanges:l,requestNativeMidiAccess:m,origin:s,midiPermission:u,midiSysexPermission:c,midiPermissionError:d,copyMidiDiagnostic:async()=>{const e=St(rp.debug),t={ts:(new Date).toISOString(),origin:s.value,secureContext:"undefined"!=typeof window?window.isSecureContext:null,userAgent:"undefined"!=typeof navigator?navigator.userAgent:"",platform:"undefined"!=typeof navigator&&navigator.platform||"",midiPermission:u.value,midiSysexPermission:c.value,midiPermissionError:d.value,webmidiJs:e,nativeWebmidi:{supported:g.value,sysex:o.value,error:n.value,inputs:r.value,outputs:a.value,stateChanges:l.value}},i=JSON.stringify(t,null,2);try{if("undefined"!=typeof navigator&&navigator.clipboard?.writeText)return void await navigator.clipboard.writeText(i)}catch{}window.prompt("Copy MIDI diagnostic:",i)},enableIgnoreOnlyGenericThrough:()=>{t.value=!0;try{"undefined"!=typeof localStorage&&localStorage.setItem("opendeck.ignoreOnlyGenericThrough","true")}catch{}},disableIgnoreOnlyGenericThrough:()=>{t.value=!1;try{"undefined"!=typeof localStorage&&localStorage.removeItem("opendeck.ignoreOnlyGenericThrough")}catch{}}}}});const zg={class:"mt-6 surface-neutral border px-6 py-4 rounded text-sm"},Wg={class:"flex flex-wrap items-center gap-3"},Kg=["disabled"],Xg=["disabled"],Qg={key:0,class:"mb-4 surface-neutral border border-yellow-700 px-6 py-3 rounded text-sm"},Zg={class:"mt-3 flex flex-wrap gap-2"},Yg={class:"surface-neutral border px-8 pt-6 rounded"},Jg={class:"mt-6 surface-neutral border px-6 py-4 rounded text-sm"},eh={class:"flex flex-wrap items-center gap-3"},th=["disabled"],nh=["disabled"],rh={key:0,class:"mt-4"},ah={class:"flex flex-wrap items-center gap-3"},oh={class:"text-gray-400"},ih={class:"text-gray-400"},lh={class:"text-gray-400"},sh={class:"text-gray-400"},uh={key:0,class:"mt-2 text-yellow-300"},ch={key:1,class:"mt-2 text-yellow-300"},dh={class:"mt-3 grid gap-4 sm:grid-cols-2"},ph={key:0,class:"text-gray-400"},fh={class:"text-gray-400"},gh={class:"text-gray-200"},hh={class:"text-gray-500"},mh={key:0,class:"text-gray-400"},vh={class:"text-gray-400"},yh={class:"text-gray-200"},bh={class:"text-gray-500"},Lh={class:"mt-6 border-t border-gray-700 pt-4"},xh={class:"flex flex-wrap items-center gap-3"},wh={class:"text-gray-400"},Ch={class:"text-gray-400"},Sh={key:0,class:"text-red-300"},kh={class:"mt-2 flex flex-wrap items-center gap-3 text-gray-400"},Ih={key:0},Eh={key:1},Mh={key:2,class:"text-red-300"},_h={key:0,class:"mt-2 flex flex-wrap gap-2"},Th={class:"mt-3 grid gap-4 sm:grid-cols-2"},Nh={key:0,class:"text-gray-400"},Dh={class:"text-gray-400"},Rh={class:"text-gray-200"},Ph={class:"text-gray-500"},Ah={key:0,class:"text-gray-400"},Oh={class:"text-gray-400"},Fh={class:"text-gray-200"},Bh={class:"text-gray-500"},Uh={class:"mt-4"},Vh={key:0,class:"text-gray-400"},$h={class:"text-gray-500"},Gh={class:"text-gray-200"},Hh={class:"text-gray-500"};jg.render=function(e,t,n,r,a,o){const i=Vn("Hero"),l=Vn("router-link");return e.outputs.length?e.onlyGenericThrough&&!e.ignoreOnlyGenericThrough?(Yr(),ra(i,{key:1,custom:"py-24",title:" 'MIDI Through'  ."},{default:nn(()=>[t[13]||(t[13]=sa("div",{class:"surface-neutral border px-6 py-4 rounded text-sm"},[sa("div",{class:"text-gray-300"},"   UI   , /OS  USB-MIDI      . "),sa("div",{class:"mt-3 text-gray-300"},[da(" 1)   "),sa("strong",null,"SysEx (sysex=true)"),da("    . ")]),sa("div",{class:"mt-2 text-gray-300"},[da(' 2)   "MIDI Through" ,  '),sa("strong",null,"USB-MIDI  "),da("   . ")]),sa("div",{class:"mt-3 text-xs text-gray-400"},[sa("div",null," -  : USB  ( ),  / ,   "),sa("div",null," - RP2040 BOOTSEL(USB  ) / DFU  MIDI   ")])],-1)),sa("div",zg,[sa("div",Wg,[sa("button",{type:"button",class:"px-2 py-1 border border-gray-600 rounded text-gray-200 hover:border-gray-400",disabled:e.isReloadingWebMidi,onClick:t[0]||(t[0]=(...t)=>e.reloadWebMidi&&e.reloadWebMidi(...t))}," Reload WebMidi ",8,Kg),sa("button",{type:"button",class:"px-2 py-1 border border-gray-600 rounded text-gray-200 hover:border-gray-400",disabled:e.isReloadingWebMidi||!e.nativeSupported,onClick:t[1]||(t[1]=(...t)=>e.requestSysexAndReload&&e.requestSysexAndReload(...t))}," SysEx   + Reload ",8,Xg),sa("button",{type:"button",class:"px-2 py-1 border border-gray-600 rounded text-gray-200 hover:border-gray-400",onClick:t[2]||(t[2]=t=>e.showMidiDebug=!e.showMidiDebug)},X(e.showMidiDebug?"Hide MIDI debug":"Show MIDI debug"),1),sa("button",{type:"button",class:"px-2 py-1 border border-gray-600 rounded text-gray-200 hover:border-gray-400",onClick:t[3]||(t[3]=(...t)=>e.copyMidiDiagnostic&&e.copyMidiDiagnostic(...t))},"    "),sa("button",{type:"button",class:"px-2 py-1 border border-yellow-700 rounded text-yellow-200 hover:border-yellow-500",onClick:t[4]||(t[4]=(...t)=>e.enableIgnoreOnlyGenericThrough&&e.enableIgnoreOnlyGenericThrough(...t)),title:":   / .      ."},"   ")]),t[12]||(t[12]=sa("p",{class:"mt-3 text-xs text-gray-400"},'  (perm) "granted"   ,  OS  MIDI    . Linux  `aconnect -l` / `lsusb` . ',-1))])]),_:1})):e.outputs.length>1?(Yr(),ra(i,{key:2,custom:"h-64",title:"Multiple OpenDeck boards detected. Please connect one board at the time in\n      order to use configurator."})):(Yr(),ra(i,{key:3,custom:"py-24"},{default:nn(()=>[e.onlyGenericThrough&&e.ignoreOnlyGenericThrough?(Yr(),na("div",Qg,[t[14]||(t[14]=sa("div",{class:"text-yellow-200"},[da("  "),sa("strong",null,'"MIDI Through "  '),da("  . ")],-1)),t[15]||(t[15]=sa("div",{class:"mt-1 text-xs text-gray-300"},"     / .      . ",-1)),sa("div",Zg,[sa("button",{type:"button",class:"px-2 py-1 border border-yellow-700 rounded text-yellow-200 hover:border-yellow-500",onClick:t[5]||(t[5]=(...t)=>e.disableIgnoreOnlyGenericThrough&&e.disableIgnoreOnlyGenericThrough(...t))},"  ( ) ")])])):fa("",!0),sa("div",Yg,[(Yr(!0),na(zr,null,jn(e.outputs,(n,r)=>(Yr(),ra(l,{key:n.id,to:{name:"device",params:{outputId:n.id}},class:H(["block mb-6 cursor-pointer",{"rounded-t":0===r,"rounded-b":r===e.outputs.length-1,"border-gray-400 border-b":r<e.outputs.length-1}])},{default:nn(()=>[sa("span",null,X(n.manufacturer||"unknown manufacturer"),1),t[16]||(t[16]=sa("br",null,null,-1)),sa("strong",null,X(n.name),1)]),_:2},1032,["to","class"]))),128))]),sa("div",Jg,[sa("div",eh,[sa("button",{type:"button",class:"px-2 py-1 border border-gray-600 rounded text-gray-200 hover:border-gray-400",disabled:e.isReloadingWebMidi,onClick:t[6]||(t[6]=(...t)=>e.reloadWebMidi&&e.reloadWebMidi(...t))}," Reload WebMidi ",8,th),sa("button",{type:"button",class:"px-2 py-1 border border-gray-600 rounded text-gray-200 hover:border-gray-400",disabled:e.isReloadingWebMidi||!e.nativeSupported,onClick:t[7]||(t[7]=(...t)=>e.requestSysexAndReload&&e.requestSysexAndReload(...t)),title:" SysEx (sysex=true)    WebMIDI  ."}," SysEx   + Reload ",8,nh),sa("button",{type:"button",class:"px-2 py-1 border border-gray-600 rounded text-gray-200 hover:border-gray-400",onClick:t[8]||(t[8]=t=>e.showMidiDebug=!e.showMidiDebug)},X(e.showMidiDebug?"Hide MIDI debug":"Show MIDI debug"),1)]),e.showMidiDebug?(Yr(),na("div",rh,[sa("div",ah,[t[17]||(t[17]=sa("strong",{class:"text-gray-200"},"MIDI debug",-1)),sa("span",oh,"tag: "+X(e.midiDebug.tag),1),sa("span",ih,"supported: "+X(e.midiDebug.supported),1),sa("span",lh,"enabled: "+X(e.midiDebug.enabled),1),sa("span",sh,"secure: "+X(e.isSecureContext),1),sa("button",{type:"button",class:"px-2 py-1 border border-gray-600 rounded text-gray-200 hover:border-gray-400",onClick:t[9]||(t[9]=(...t)=>e.copyMidiDiagnostic&&e.copyMidiDiagnostic(...t))},"    ")]),e.midiDebug.hasOnlyGenericThrough?(Yr(),na("p",uh,'  WebMIDI(webmidi.js) "MIDI Through"    . ')):fa("",!0),e.nativeHasOnlyGenericThrough?(Yr(),na("p",ch,'   WebMIDI(MIDIAccess) "MIDI Through" .   UI      OS  MIDI       . (VS Code Dev Container/ ,         .) ')):fa("",!0),sa("div",dh,[sa("div",null,[t[18]||(t[18]=sa("div",{class:"font-semibold text-gray-200 mb-2"}," inputs (raw) ",-1)),e.midiDebug.inputs.length?fa("",!0):(Yr(),na("div",ph," (none) ")),(Yr(!0),na(zr,null,jn(e.midiDebug.inputs,e=>(Yr(),na("div",{key:e.id,class:"mb-2"},[sa("div",fh,X(e.manufacturer),1),sa("div",gh,X(e.name),1),sa("div",hh,"id="+X(e.id)+" state="+X(e.state),1)]))),128))]),sa("div",null,[t[19]||(t[19]=sa("div",{class:"font-semibold text-gray-200 mb-2"}," outputs (raw) ",-1)),e.midiDebug.outputs.length?fa("",!0):(Yr(),na("div",mh," (none) ")),(Yr(!0),na(zr,null,jn(e.midiDebug.outputs,e=>(Yr(),na("div",{key:e.id,class:"mb-2"},[sa("div",vh,X(e.manufacturer),1),sa("div",yh,X(e.name),1),sa("div",bh,"id="+X(e.id)+" state="+X(e.state),1)]))),128))])]),sa("div",Lh,[sa("div",xh,[t[20]||(t[20]=sa("strong",{class:"text-gray-200"},"Native WebMIDI debug",-1)),sa("span",wh,"supported: "+X(e.nativeSupported),1),sa("span",Ch,"sysex: "+X(e.nativeSysex?"true":"false"),1),e.nativeError?(Yr(),na("span",Sh,"error: "+X(e.nativeError),1)):fa("",!0)]),sa("div",kh,[sa("span",null,"origin: "+X(e.origin),1),e.midiPermission?(Yr(),na("span",Ih,"perm(midi): "+X(e.midiPermission),1)):fa("",!0),e.midiSysexPermission?(Yr(),na("span",Eh,"perm(midi+sysex): "+X(e.midiSysexPermission),1)):fa("",!0),e.midiPermissionError?(Yr(),na("span",Mh,"perm error: "+X(e.midiPermissionError),1)):fa("",!0)]),e.nativeSupported?(Yr(),na("div",_h,[sa("button",{type:"button",class:"px-2 py-1 border border-gray-600 rounded text-gray-200 hover:border-gray-400",onClick:t[10]||(t[10]=t=>e.requestNativeMidiAccess(!1))}," Refresh (sysex=false) "),sa("button",{type:"button",class:"px-2 py-1 border border-gray-600 rounded text-gray-200 hover:border-gray-400",onClick:t[11]||(t[11]=t=>e.requestNativeMidiAccess(!0))}," Request sysex=true ")])):fa("",!0),sa("div",Th,[sa("div",null,[t[21]||(t[21]=sa("div",{class:"font-semibold text-gray-200 mb-2"},"inputs (MIDIAccess)",-1)),e.nativeInputs.length?fa("",!0):(Yr(),na("div",Nh,"(none)")),(Yr(!0),na(zr,null,jn(e.nativeInputs,e=>(Yr(),na("div",{key:e.id,class:"mb-2"},[sa("div",Dh,X(e.manufacturer),1),sa("div",Rh,X(e.name),1),sa("div",Ph," id="+X(e.id)+" state="+X(e.state)+" conn="+X(e.connection),1)]))),128))]),sa("div",null,[t[22]||(t[22]=sa("div",{class:"font-semibold text-gray-200 mb-2"},"outputs (MIDIAccess)",-1)),e.nativeOutputs.length?fa("",!0):(Yr(),na("div",Ah,"(none)")),(Yr(!0),na(zr,null,jn(e.nativeOutputs,e=>(Yr(),na("div",{key:e.id,class:"mb-2"},[sa("div",Oh,X(e.manufacturer),1),sa("div",Fh,X(e.name),1),sa("div",Bh," id="+X(e.id)+" state="+X(e.state)+" conn="+X(e.connection),1)]))),128))])]),sa("div",Uh,[t[23]||(t[23]=sa("div",{class:"font-semibold text-gray-200 mb-2"},"statechange log (MIDIAccess)",-1)),e.nativeStateChanges.length?fa("",!0):(Yr(),na("div",Vh,"(no events yet)")),(Yr(!0),na(zr,null,jn(e.nativeStateChanges,(e,t)=>(Yr(),na("div",{key:t,class:"mb-2"},[sa("div",$h,X(e.ts),1),sa("div",Gh,X(e.type)+": "+X(e.name),1),sa("div",Hh," id="+X(e.id)+" state="+X(e.state)+" conn="+X(e.connection),1)]))),128))])])])):fa("",!0)])]),_:1})):(Yr(),ra(i,{key:0,custom:"h-64",title:"No OpenDeck board found. Please connect the board in order to use the\n      interface."}))};const qh=[{name:"home",path:"/",component:jg},{path:"/device/:outputId",name:"device",component:Gg,redirect:{name:"device-global"},children:[...Ad]}];var jh=mn({name:"MidiBankChanger",setup(){const e=xt(""),t=xt(1),n=xt(""),r=xt(0),a=xt(0),o=(e,t,n)=>{const r=Math.floor(Number(e));return Number.isFinite(r)?Math.max(t,Math.min(n,r)):t},i=(e,t)=>(o(e,0,127)<<7)+o(t,0,127),l=xt([]),s=xt([]),u=xt([]),c=xt([]),d=e=>{const t="button"===e?l.value:s.value,n="button"===e?u.value:c.value;n.length!==t.length&&(n.length=t.length);for(let e=0;e<t.length;e++){const r=t[e];n[e]=i(r?.msb??0,r?.lsb??0)}},p=(e,t)=>{const n=("button"===e?l.value:s.value)[t];if(!n)return;((e,t)=>{const n=o(t,0,16383);e.msb=n>>7&127,e.lsb=127&n})(n,("button"===e?u.value:c.value)[t])},f=xt(0),g=xt(0),h=Aa(()=>{const e=$f.numberOfComponents?.value&&$f.numberOfComponents.value[Sl.Button]||0;return Number(e)||0}),m=Aa(()=>{const e=$f.numberOfComponents?.value&&$f.numberOfComponents.value[Sl.Touchscreen]||0;return Number(e)||0}),v=Aa(()=>h.value>0||m.value>0?h.value:o(f.value,0,128)),y=Aa(()=>h.value>0||m.value>0?m.value:o(g.value,0,128)),b=Aa(()=>{const e=[];for(let t=0;t<v.value;t++)e.push(t);return e}),L=Aa(()=>{const e=[];for(let t=0;t<y.value;t++)e.push(t);return e}),x=st({}),w=new Map,C=(e,t)=>`${e}:${t}`,S=Aa(()=>rp.outputs?.value??[]),k=Aa(()=>!!rp.isWebMidiSupported?.value),I=Aa(()=>e.value?S.value.find(t=>t.id===e.value)??null:null),E=Aa(()=>!!I.value),M=()=>{if(!S.value.length)return void(e.value="");const t=!!e.value,n=t&&S.value.some(t=>t.id===e.value);t&&n||(e.value=S.value[0].id)},_=(e,t)=>{const n=[],r=Array.isArray(t)?t:[];for(let t=0;t<e;t++){const e=r[t],a=e?.mode,i="msb+pc"===a||"lsb+pc"===a||"pc"===a||"cc"===a?a:"msb+lsb+pc";n.push({mode:i,msb:o(e?.msb??0,0,127),lsb:o(e?.lsb??0,0,127),pc:o(e?.pc??0,0,127),ccNumber:o(e?.ccNumber??0,0,127),ccValue:o(e?.ccValue??0,0,127)})}return n},T=Aa(()=>`midisaxo:midi-bank-changer:${$f.boardName?.value||"unknown"}`),N=()=>{try{const n=_s(T.value);if(n&&"object"==typeof n){"string"==typeof n.selectedOutputId&&(e.value=n.selectedOutputId),void 0!==n.channel&&(t.value=o(n.channel,1,16));const i=void 0!==n.buttonMappings?n.buttonMappings:n.mappings;void 0!==i&&(l.value=_(v.value,i)),void 0!==n.touchscreenMappings&&(s.value=_(y.value,n.touchscreenMappings)),void 0!==n.feedbackCcEnabled&&(r.value=n.feedbackCcEnabled?1:0),void 0!==n.feedbackCcNumber&&(a.value=o(n.feedbackCcNumber,0,127)),void 0!==n.manualButtonCount&&(f.value=o(n.manualButtonCount,0,128)),void 0!==n.manualTouchscreenCount&&(g.value=o(n.manualTouchscreenCount,0,128))}}catch{}};return Tn(async()=>{await(async()=>{n.value="";try{await rp.loadMidi(),await rp.assignInputs()}catch(e){n.value="WebMIDI  ."}})(),M(),l.value.length||(l.value=_(v.value,[])),s.value.length||(s.value=_(y.value,[])),N(),M()}),un(S,()=>{M()}),un(v,e=>{l.value=_(e,l.value),d("button")}),un(y,e=>{s.value=_(e,s.value),d("touchscreen")}),un(l,()=>{d("button")},{deep:!0}),un(s,()=>{d("touchscreen")},{deep:!0}),un(T,()=>{N()}),un([e,t,l,s,r,a,f,g],()=>{(()=>{try{Ts(T.value,{selectedOutputId:e.value,channel:o(t.value,1,16),buttonMappings:l.value,touchscreenMappings:s.value,feedbackCcEnabled:!!r.value,feedbackCcNumber:o(a.value,0,127),manualButtonCount:o(f.value,0,128),manualTouchscreenCount:o(g.value,0,128)})}catch{}})()},{deep:!0}),{outputs:S,isWebMidiSupported:k,selectedOutputId:e,channel:t,feedbackCcEnabled:r,feedbackCcNumber:a,setFeedbackCcEnabled:e=>{r.value=e},manualButtonCount:f,manualTouchscreenCount:g,buttonCount:v,touchscreenCount:y,buttonIndices:b,touchscreenIndices:L,buttonMappings:l,touchscreenMappings:s,buttonBank:u,touchscreenBank:c,canSend:E,error:n,isLedOn:(e,t)=>!!x[C(e,t)],sendMappedBankChange:(e,i)=>{n.value="";const u=I.value;if(!u)return void(n.value="MIDI Output .");const c=("touchscreen"===e?s.value:l.value)[i]||{mode:"msb+lsb+pc",msb:0,lsb:0,pc:0,ccNumber:0,ccValue:0},d=o(t.value,1,16),p=o(c.msb,0,127),f=o(c.lsb,0,127),g=o(c.pc,0,127),h=c.mode||"msb+lsb+pc";if("cc"===h){const e=o(c.ccNumber,0,127),t=o(c.ccValue,0,127);u.sendControlChange(e,t,d)}else"pc"===h?u.sendProgramChange(g,d):"msb+pc"===h?(u.sendControlChange(0,p,d),u.sendProgramChange(g,d)):"lsb+pc"===h?(u.sendControlChange(32,f,d),u.sendProgramChange(g,d)):(u.sendControlChange(0,p,d),u.sendControlChange(32,f,d),u.sendProgramChange(g,d));if(r.value){const t=o(a.value,0,127),r="touchscreen"===e?v.value+i+1:i+1;r<0||r>127?n.value="LED   0-127  .":u.sendControlChange(t,r,d)}((e,t)=>{const n=C(e,t);x[n]=!0;const r=w.get(n);r&&clearTimeout(r);const a=window.setTimeout(()=>{x[n]=!1,w.delete(n)},250);w.set(n,a)})(e,i)},bankFromMsbLsb:i,onBankInput:p,nudgeBank:(e,t,n)=>{const r="button"===e?u.value:c.value;r[t]=o((r[t]??0)+n,0,16383),p(e,t)}}}});const zh={class:"w-full px-4 sm:px-6 lg:px-8"},Wh={key:0,class:"text-sm"},Kh={key:1,class:"max-w-screen-sm"},Xh={key:0,class:"text-sm"},Qh={key:1,class:"form-grid"},Zh={class:"form-field"},Yh=["value"],Jh={class:"form-field"},em={class:"form-field"},tm={key:0,class:"form-field"},nm={key:2,class:"mt-6"},rm={key:0,class:"space-y-4"},am={class:"form-grid"},om={class:"form-field"},im={class:"form-field"},lm={key:1,class:"space-y-8"},sm={key:0,class:"space-y-6"},um={class:"form-field"},cm={class:"label"},dm={class:"form-field"},pm=["onUpdate:modelValue"],fm={class:"form-field"},gm=["onUpdate:modelValue"],hm={class:"form-field"},mm=["onUpdate:modelValue"],vm={key:0,class:"form-field"},ym={class:"relative"},bm=["onUpdate:modelValue","onInput"],Lm={class:"absolute top-0 right-0 bottom-0 flex flex-col justify-center pr-2"},xm=["onClick"],wm=["onClick"],Cm={class:"form-field"},Sm=["onUpdate:modelValue"],km={key:1,class:"form-field"},Im=["onUpdate:modelValue"],Em={key:2,class:"form-field"},Mm=["onUpdate:modelValue"],_m={key:1,class:"space-y-6"},Tm={class:"form-field"},Nm={class:"label"},Dm={class:"form-field"},Rm=["onUpdate:modelValue"],Pm={class:"form-field"},Am=["onUpdate:modelValue"],Om={class:"form-field"},Fm=["onUpdate:modelValue"],Bm={key:0,class:"form-field"},Um={class:"relative"},Vm=["onUpdate:modelValue","onInput"],$m={class:"absolute top-0 right-0 bottom-0 flex flex-col justify-center pr-2"},Gm=["onClick"],Hm=["onClick"],qm={class:"form-field"},jm=["onUpdate:modelValue"],zm={key:1,class:"form-field"},Wm=["onUpdate:modelValue"],Km={key:2,class:"form-field"},Xm=["onUpdate:modelValue"],Qm={key:2,class:"text-sm text-red-400"};jh.render=function(e,t,n,r,a,o){const i=Vn("FormToggle"),l=Vn("Button"),s=Vn("Section");return Yr(),ra(s,{title:"MIDI Bank Changer",class:"w-full"},{default:nn(()=>[sa("div",zh,[e.isWebMidiSupported?(Yr(),na("div",Kh,[e.outputs.length?(Yr(),na("div",Qh,[sa("div",Zh,[t[5]||(t[5]=sa("label",{class:"label"},"MIDI Output",-1)),rn(sa("select",{class:"form-select mt-1 py-1 text-sm block w-full","onUpdate:modelValue":t[0]||(t[0]=t=>e.selectedOutputId=t)},[(Yr(!0),na(zr,null,jn(e.outputs,e=>(Yr(),na("option",{key:e.id,value:e.id},X(e.name),9,Yh))),128))],512),[[xo,e.selectedOutputId]])]),sa("div",Jh,[t[6]||(t[6]=sa("label",{class:"label"},"Channel (1-16)",-1)),rn(sa("input",{class:"form-input mt-1 py-1 text-sm block w-full",type:"number",min:"1",max:"16","onUpdate:modelValue":t[1]||(t[1]=t=>e.channel=t)},null,512),[[yo,e.channel,void 0,{number:!0}]])]),sa("div",em,[t[8]||(t[8]=sa("label",{class:"label"},"OpenDeck LED ",-1)),ua(i,{value:e.feedbackCcEnabled,onChanged:e.setFeedbackCcEnabled},{default:nn(()=>[...t[7]||(t[7]=[da(" LED  CC  ",-1)])]),_:1},8,["value","onChanged"]),t[9]||(t[9]=sa("p",{class:"text-xs text-gray-500 mt-2"},' OpenDeck LED  "MIDI in / CC (Single value)" ,      LED   . ',-1))]),e.feedbackCcEnabled?(Yr(),na("div",tm,[t[10]||(t[10]=sa("label",{class:"label"},"LED Feedback CC# (0-127)",-1)),rn(sa("input",{class:"form-input mt-1 py-1 text-sm block w-full",type:"number",min:"0",max:"127","onUpdate:modelValue":t[2]||(t[2]=t=>e.feedbackCcNumber=t)},null,512),[[yo,e.feedbackCcNumber,void 0,{number:!0}]])])):fa("",!0)])):(Yr(),na("p",Xh,"    MIDI Output . ")),e.outputs.length?(Yr(),na("div",nm,[0===e.buttonCount&&0===e.touchscreenCount?(Yr(),na("div",rm,[t[13]||(t[13]=sa("p",{class:"text-sm"},"   /    . ",-1)),t[14]||(t[14]=sa("p",{class:"text-xs text-gray-500"}," (OpenDeck)           .       . ",-1)),sa("div",am,[sa("div",om,[t[11]||(t[11]=sa("label",{class:"label"}," Buttons ",-1)),rn(sa("input",{class:"form-input mt-1 py-1 text-sm block w-full",type:"number",min:"0",max:"128","onUpdate:modelValue":t[3]||(t[3]=t=>e.manualButtonCount=t)},null,512),[[yo,e.manualButtonCount,void 0,{number:!0}]])]),sa("div",im,[t[12]||(t[12]=sa("label",{class:"label"}," Touchscreen ",-1)),rn(sa("input",{class:"form-input mt-1 py-1 text-sm block w-full",type:"number",min:"0",max:"128","onUpdate:modelValue":t[4]||(t[4]=t=>e.manualTouchscreenCount=t)},null,512),[[yo,e.manualTouchscreenCount,void 0,{number:!0}]])])])])):(Yr(),na("div",lm,[e.buttonCount>0?(Yr(),na("div",sm,[t[25]||(t[25]=sa("p",{class:"text-sm font-semibold"},"Buttons",-1)),(Yr(!0),na(zr,null,jn(e.buttonIndices,n=>(Yr(),na("div",{key:`btn-${n}`,class:"form-grid"},[sa("div",um,[sa("label",cm," "+X(n+1),1),ua(l,{variant:"primary",disabled:!e.canSend,class:H({"btn-highlight":e.isLedOn("button",n)}),onClick:Eo(t=>e.sendMappedBankChange("button",n),["prevent"])},{default:nn(()=>[...t[15]||(t[15]=[da("  ",-1)])]),_:1},8,["disabled","class","onClick"])]),sa("div",dm,[t[17]||(t[17]=sa("label",{class:"label"}," ",-1)),rn(sa("select",{class:"form-select mt-1 py-1 text-sm block w-full","onUpdate:modelValue":t=>e.buttonMappings[n].mode=t},[...t[16]||(t[16]=[sa("option",{value:"msb+lsb+pc"},"MSB + LSB + PC",-1),sa("option",{value:"msb+pc"},"MSB + PC",-1),sa("option",{value:"lsb+pc"},"LSB + PC",-1),sa("option",{value:"pc"},"PC",-1),sa("option",{value:"cc"},"CC",-1)])],8,pm),[[xo,e.buttonMappings[n].mode]])]),sa("div",fm,[t[18]||(t[18]=sa("label",{class:"label"},"Bank MSB (CC0, 0-127)",-1)),rn(sa("input",{class:"form-input mt-1 py-1 text-sm block w-full",type:"number",min:"0",max:"127","onUpdate:modelValue":t=>e.buttonMappings[n].msb=t},null,8,gm),[[yo,e.buttonMappings[n].msb,void 0,{number:!0}]])]),sa("div",hm,[t[19]||(t[19]=sa("label",{class:"label"},"Bank LSB (CC32, 0-127)",-1)),rn(sa("input",{class:"form-input mt-1 py-1 text-sm block w-full",type:"number",min:"0",max:"127","onUpdate:modelValue":t=>e.buttonMappings[n].lsb=t},null,8,mm),[[yo,e.buttonMappings[n].lsb,void 0,{number:!0}]])]),"cc"!==e.buttonMappings[n].mode&&"pc"!==e.buttonMappings[n].mode?(Yr(),na("div",vm,[t[20]||(t[20]=sa("label",{class:"label"},"Bank (0-16383)",-1)),sa("div",ym,[rn(sa("input",{class:"form-input mt-1 py-1 text-sm block w-full pr-8",type:"number",min:"0",max:"16383","onUpdate:modelValue":t=>e.buttonBank[n]=t,onInput:t=>e.onBankInput("button",n)},null,40,bm),[[yo,e.buttonBank[n],void 0,{number:!0}]]),sa("div",Lm,[sa("button",{class:"px-1 text-xs leading-none text-gray-400 hover:text-gray-200 focus:outline-none",type:"button",onClick:t=>e.nudgeBank("button",n,1),"aria-label":"Bank +1",title:"Bank +1"},"  ",8,xm),sa("button",{class:"px-1 text-xs leading-none text-gray-400 hover:text-gray-200 focus:outline-none",type:"button",onClick:t=>e.nudgeBank("button",n,-1),"aria-label":"Bank -1",title:"Bank -1"},"  ",8,wm)])]),t[21]||(t[21]=sa("p",{class:"text-xs text-gray-500 mt-1"}," MSB = bank >> 7, LSB = bank & 0x7F ",-1))])):fa("",!0),sa("div",Cm,[t[22]||(t[22]=sa("label",{class:"label"},"Program (PC, 0-127)",-1)),rn(sa("input",{class:"form-input mt-1 py-1 text-sm block w-full",type:"number",min:"0",max:"127","onUpdate:modelValue":t=>e.buttonMappings[n].pc=t},null,8,Sm),[[yo,e.buttonMappings[n].pc,void 0,{number:!0}]])]),"cc"===e.buttonMappings[n].mode?(Yr(),na("div",km,[t[23]||(t[23]=sa("label",{class:"label"},"CC# (0-127)",-1)),rn(sa("input",{class:"form-input mt-1 py-1 text-sm block w-full",type:"number",min:"0",max:"127","onUpdate:modelValue":t=>e.buttonMappings[n].ccNumber=t},null,8,Im),[[yo,e.buttonMappings[n].ccNumber,void 0,{number:!0}]])])):fa("",!0),"cc"===e.buttonMappings[n].mode?(Yr(),na("div",Em,[t[24]||(t[24]=sa("label",{class:"label"},"CC Value (0-127)",-1)),rn(sa("input",{class:"form-input mt-1 py-1 text-sm block w-full",type:"number",min:"0",max:"127","onUpdate:modelValue":t=>e.buttonMappings[n].ccValue=t},null,8,Mm),[[yo,e.buttonMappings[n].ccValue,void 0,{number:!0}]])])):fa("",!0)]))),128))])):fa("",!0),e.touchscreenCount>0?(Yr(),na("div",_m,[t[36]||(t[36]=sa("p",{class:"text-sm font-semibold"},"Touchscreen (Nextion HMI)",-1)),(Yr(!0),na(zr,null,jn(e.touchscreenIndices,n=>(Yr(),na("div",{key:`ts-${n}`,class:"form-grid"},[sa("div",Tm,[sa("label",Nm," "+X(e.buttonCount+n+1),1),ua(l,{variant:"primary",disabled:!e.canSend,class:H({"btn-highlight":e.isLedOn("touchscreen",n)}),onClick:Eo(t=>e.sendMappedBankChange("touchscreen",n),["prevent"])},{default:nn(()=>[...t[26]||(t[26]=[da("  ",-1)])]),_:1},8,["disabled","class","onClick"])]),sa("div",Dm,[t[28]||(t[28]=sa("label",{class:"label"}," ",-1)),rn(sa("select",{class:"form-select mt-1 py-1 text-sm block w-full","onUpdate:modelValue":t=>e.touchscreenMappings[n].mode=t},[...t[27]||(t[27]=[sa("option",{value:"msb+lsb+pc"},"MSB + LSB + PC",-1),sa("option",{value:"msb+pc"},"MSB + PC",-1),sa("option",{value:"lsb+pc"},"LSB + PC",-1),sa("option",{value:"pc"},"PC",-1),sa("option",{value:"cc"},"CC",-1)])],8,Rm),[[xo,e.touchscreenMappings[n].mode]])]),sa("div",Pm,[t[29]||(t[29]=sa("label",{class:"label"},"Bank MSB (CC0, 0-127)",-1)),rn(sa("input",{class:"form-input mt-1 py-1 text-sm block w-full",type:"number",min:"0",max:"127","onUpdate:modelValue":t=>e.touchscreenMappings[n].msb=t},null,8,Am),[[yo,e.touchscreenMappings[n].msb,void 0,{number:!0}]])]),sa("div",Om,[t[30]||(t[30]=sa("label",{class:"label"},"Bank LSB (CC32, 0-127)",-1)),rn(sa("input",{class:"form-input mt-1 py-1 text-sm block w-full",type:"number",min:"0",max:"127","onUpdate:modelValue":t=>e.touchscreenMappings[n].lsb=t},null,8,Fm),[[yo,e.touchscreenMappings[n].lsb,void 0,{number:!0}]])]),"cc"!==e.touchscreenMappings[n].mode&&"pc"!==e.touchscreenMappings[n].mode?(Yr(),na("div",Bm,[t[31]||(t[31]=sa("label",{class:"label"},"Bank (0-16383)",-1)),sa("div",Um,[rn(sa("input",{class:"form-input mt-1 py-1 text-sm block w-full pr-8",type:"number",min:"0",max:"16383","onUpdate:modelValue":t=>e.touchscreenBank[n]=t,onInput:t=>e.onBankInput("touchscreen",n)},null,40,Vm),[[yo,e.touchscreenBank[n],void 0,{number:!0}]]),sa("div",$m,[sa("button",{class:"px-1 text-xs leading-none text-gray-400 hover:text-gray-200 focus:outline-none",type:"button",onClick:t=>e.nudgeBank("touchscreen",n,1),"aria-label":"Bank +1",title:"Bank +1"},"  ",8,Gm),sa("button",{class:"px-1 text-xs leading-none text-gray-400 hover:text-gray-200 focus:outline-none",type:"button",onClick:t=>e.nudgeBank("touchscreen",n,-1),"aria-label":"Bank -1",title:"Bank -1"},"  ",8,Hm)])]),t[32]||(t[32]=sa("p",{class:"text-xs text-gray-500 mt-1"}," MSB = bank >> 7, LSB = bank & 0x7F ",-1))])):fa("",!0),sa("div",qm,[t[33]||(t[33]=sa("label",{class:"label"},"Program (PC, 0-127)",-1)),rn(sa("input",{class:"form-input mt-1 py-1 text-sm block w-full",type:"number",min:"0",max:"127","onUpdate:modelValue":t=>e.touchscreenMappings[n].pc=t},null,8,jm),[[yo,e.touchscreenMappings[n].pc,void 0,{number:!0}]])]),"cc"===e.touchscreenMappings[n].mode?(Yr(),na("div",zm,[t[34]||(t[34]=sa("label",{class:"label"},"CC# (0-127)",-1)),rn(sa("input",{class:"form-input mt-1 py-1 text-sm block w-full",type:"number",min:"0",max:"127","onUpdate:modelValue":t=>e.touchscreenMappings[n].ccNumber=t},null,8,Wm),[[yo,e.touchscreenMappings[n].ccNumber,void 0,{number:!0}]])])):fa("",!0),"cc"===e.touchscreenMappings[n].mode?(Yr(),na("div",Km,[t[35]||(t[35]=sa("label",{class:"label"},"CC Value (0-127)",-1)),rn(sa("input",{class:"form-input mt-1 py-1 text-sm block w-full",type:"number",min:"0",max:"127","onUpdate:modelValue":t=>e.touchscreenMappings[n].ccValue=t},null,8,Xm),[[yo,e.touchscreenMappings[n].ccValue,void 0,{number:!0}]])])):fa("",!0)]))),128))])):fa("",!0),e.error?(Yr(),na("p",Qm,X(e.error),1)):fa("",!0)]))])):fa("",!0)])):(Yr(),na("p",Wh,"   WebMIDI  . "))])]),_:1})};const Zm=[{name:"midi-bank-changer",path:"/midi-bank-changer",component:jh}],Ym=e=>{const t=(e=>e.reduce((e,t)=>{const n=Math.max(1,Math.floor(Number(t.colSpan??1)||1));return Math.max(e,t.col+n-1)},0))(e),n=(e=>e.reduce((e,t)=>{const n=Math.max(1,Math.floor(Number(t.rowSpan??1)||1));return Math.max(e,t.row+n-1)},0))(e);return t<=12&&n<=40},Jm=(e,t)=>{const n=Math.max(1,Math.floor(Number(t)||1));return e.map(e=>{const t=Math.max(1,Math.floor(Number(e.rowSpan??1)||1)),r=Math.max(1,Math.floor(Number(e.colSpan??1)||1));return{...e,row:Math.max(1,Math.floor(Number(e.row)||1)*n),col:Math.max(1,Math.floor(Number(e.col)||1)*n),rowSpan:t*n,colSpan:r*n}})},ev=e=>Ym(e)?Jm(e,2):Jm(e,1),tv=(e,t,n)=>{const r=Math.floor(Number(e)||0);return Math.max(t,Math.min(n,r))},nv=e=>Math.max(1,Math.floor(Number(e)||1)),rv=(e,t,n,r)=>{const a=nv(t.rowSpan),o=nv(t.colSpan),i=tv(t.row,1,r),l=tv(t.col,1,n);if(l+o-1>n)return!0;if(i+a-1>r)return!0;for(let t=i;t<i+a;t++)for(let n=l;n<l+o;n++){const r=`${t},${n}`;if(e.has(r))return!0}for(let t=i;t<i+a;t++)for(let n=l;n<l+o;n++)e.add(`${t},${n}`);return!1},av=(e,t=16777215,n=40,r=24)=>{const a=tv(n,1,200),o=Number(t)>>>0&16777215,i=new Set;for(const t of e){if(o>>>tv(t.idx,0,23)&1&&rv(i,t,r,a))return!0}return!1},ov=(e,t)=>{const n=tv(e,1,t),r=Array.from({length:t},(e,t)=>t+1);return r.sort((e,t)=>{const r=Math.abs(e-n),a=Math.abs(t-n);return r!==a?r-a:e-t}),r},iv=[{idx:0,row:2,col:1,rowSpan:2,colSpan:2,big:!0},{idx:11,row:1,col:3,colSpan:2},{idx:12,row:1,col:5,colSpan:2},{idx:13,row:2,col:3,colSpan:2},{idx:21,row:2,col:7,colSpan:2},{idx:1,row:4,col:4,rowSpan:2,colSpan:2,big:!0},{idx:2,row:6,col:4,rowSpan:2,colSpan:2,big:!0},{idx:3,row:8,col:4,rowSpan:2,colSpan:2,big:!0},{idx:9,row:4,col:7,colSpan:2},{idx:10,row:9,col:1,colSpan:2},{idx:4,row:5,col:7,rowSpan:2,colSpan:2,big:!0},{idx:5,row:7,col:7,rowSpan:2,colSpan:2,big:!0},{idx:6,row:9,col:7,rowSpan:2,colSpan:2,big:!0},{idx:14,row:5,col:11,colSpan:2},{idx:15,row:7,col:11,colSpan:2},{idx:16,row:9,col:11,colSpan:2},{idx:19,row:11,col:1,colSpan:2},{idx:20,row:12,col:1,colSpan:2},{idx:23,row:11,col:3,colSpan:2},{idx:17,row:11,col:9,colSpan:2},{idx:18,row:12,col:9,colSpan:2},{idx:7,row:8,col:9,colSpan:2},{idx:22,row:10,col:9,colSpan:2},{idx:8,row:13,col:7,colSpan:2}];var lv=mn({name:"SaxFingeringKeyPad",props:{mask:{type:Number,required:!0},disabled:{type:Boolean,default:!1},keyCount:{type:Number,default:24},usableMask:{type:Number,default:null},visibleMask:{type:Number,default:null},hideUnusableKeys:{type:Boolean,default:!1},labels:{type:Array,default:null},showIndex:{type:Boolean,default:!1},layoutMode:{type:String,default:"sax"},saxLayoutOverride:{type:Array,default:null}},emits:["update:mask"],setup(e,{emit:t}){const n=Aa(()=>Math.max(0,Math.min(24,Math.floor(Number(e.keyCount)||24)))),r=16777215,a=Aa(()=>{const t=e.usableMask;return"number"!=typeof t?null:Number(t)>>>0&r}),o=Aa(()=>{const t=e.visibleMask;return"number"!=typeof t?null:Number(t)>>>0&r}),i=Aa(()=>{const e=a.value;if("number"==typeof e)return e;return(1<<n.value)-1>>>0}),l=Aa(()=>Number(e.mask)>>>0&r),s=Aa(()=>l.value.toString(16).toUpperCase().padStart(8,"0")),u=Aa(()=>["OCT","LH1","LH2","LH3","RH1","RH2","RH3","LOW F#","ALT","BIS Bb","G#","PALM D","PALM Eb","PALM F","SIDE C","SIDE Bb","SIDE F#","LOW Eb","LOW C","LOW B","LOW Bb","FRONT F","HIGH F#","LOW C#"]),c=Aa(()=>[{key:"register",title:"",keys:[0],columns:4,big:!0},{key:"left",title:" ",keys:[1,2,3,9,10],columns:5},{key:"palm",title:"/",keys:[11,12,13],columns:3},{key:"right",title:" ",keys:[4,5,6],columns:3},{key:"side",title:"",keys:[14,15,16],columns:3},{key:"low",title:"()",keys:[19,20,23,18,17,7],columns:6},{key:"alt",title:"/",keys:[21,22,8],columns:3}]),d=Aa(()=>e.hideUnusableKeys||"number"==typeof o.value?c.value.map(e=>({...e,keys:e.keys.filter(e=>x(e))})).filter(e=>e.keys.length>0):c.value),p=Aa(()=>{const t=(e=>{if(!e||!Array.isArray(e))return null;if(24!==e.length)return null;const t=new Set,n=[];for(const r of e){const e=Math.floor(Number(r?.idx)),a=Math.floor(Number(r?.row)),o=Math.floor(Number(r?.col));if(!Number.isFinite(e)||e<0||e>23)return null;if(!Number.isFinite(a)||a<1)return null;if(!Number.isFinite(o)||o<1)return null;if(t.has(e))return null;t.add(e);const i=void 0===r?.rowSpan?void 0:Math.max(1,Math.floor(Number(r?.rowSpan)||1)),l=void 0===r?.colSpan?void 0:Math.max(1,Math.floor(Number(r?.colSpan)||1));n.push({idx:e,row:a,col:o,rowSpan:i,colSpan:l,big:!!r?.big})}return n})(e.saxLayoutOverride);return ev(t??iv)}),f=Aa(()=>e.hideUnusableKeys||"number"==typeof o.value?p.value.filter(e=>x(e.idx)):p.value),g=Aa(()=>{const e=o.value;if("number"==typeof e){const t=[];for(let n=0;n<24;n++)e>>>n&1&&t.push(n);return t}const t=a.value;if("number"==typeof t){const e=[];for(let n=0;n<24;n++)t>>>n&1&&e.push(n);return e}const r=n.value;return Array.from({length:r},(e,t)=>t)}),h=Aa(()=>g.value.length),m=Aa(()=>g.value),v=Aa(()=>{let e=0;for(let t=0;t<24;t++)l.value>>>t&1&&e++;return e}),y=Aa(()=>{const e=[];for(let t=0;t<24;t++)l.value>>>t&1&&e.push(t);return e.join(",")}),b=e=>{const t=Math.max(0,Math.min(23,Math.floor(Number(e)||0)));return 1==(l.value>>>t&1)},L=e=>{const t=Math.max(0,Math.min(23,Math.floor(Number(e)||0))),r=a.value;return"number"==typeof r?1==(r>>>t&1):t<n.value},x=t=>{const n=Math.max(0,Math.min(23,Math.floor(Number(t)||0))),r=o.value;return"number"==typeof r?1==(r>>>n&1):!e.hideUnusableKeys||L(n)};return{effectiveKeyCount:n,visibleKeyCount:h,maskHex:s,groups:d,saxLayout:f,linearKeys:m,activeCount:v,activeKeysText:y,isActive:b,isUsableKey:L,keyClass:t=>e.disabled?b(t)?"cursor-not-allowed border-blue-300 bg-blue-500/45 text-blue-50 ring-1 ring-blue-400/70 shadow-[0_0_0_1px_rgba(59,130,246,0.25)]":L(t)?"opacity-55 cursor-not-allowed border-gray-800 bg-gray-900/30 text-gray-200":"opacity-30 cursor-not-allowed border-gray-800 bg-gray-900/20 text-gray-500":b(t)?"border-blue-300 bg-blue-500/45 text-blue-50 ring-1 ring-blue-400/70 shadow-[0_0_0_1px_rgba(59,130,246,0.25)]":L(t)?"border-gray-700 bg-gray-900/30 text-gray-200 hover:border-gray-500":"opacity-35 cursor-not-allowed border-gray-800 bg-gray-900/20 text-gray-500",keyStyle:e=>{const t=Math.max(1,Math.floor(Number(e.rowSpan)||1)),n=Math.max(1,Math.floor(Number(e.colSpan)||1));return{gridRow:`${e.row} / span ${t}`,gridColumn:`${e.col} / span ${n}`,width:"100%",height:"100%"}},labelFor:t=>{const n=Math.max(0,Math.min(23,Math.floor(Number(t)||0))),r=e.labels&&Array.isArray(e.labels)?e.labels:null,a=r&&r.length>=24?r:u.value;return String(a[n]??n)},toggle:n=>{if(e.disabled)return;const r=Math.max(0,Math.min(23,Math.floor(Number(n)||0)));if(!L(r))return;const a=(l.value^1<<r)>>>0;t("update:mask",a)},clearAll:()=>{e.disabled||t("update:mask",0)},invert:()=>{e.disabled||t("update:mask",(l.value^i.value)>>>0)}}}});const sv={class:"surface-neutral border rounded px-2 py-2"},uv={class:"flex items-center justify-between mb-2"},cv={class:"text-xs text-gray-400"},dv={class:"text-gray-200"},pv={class:"ml-2"},fv={class:"text-gray-200"},gv={class:"ml-2 text-gray-500"},hv={class:"flex items-center gap-2 text-xs"},mv=["disabled"],vv=["disabled"],yv={key:0,class:"sax-layout"},bv={class:"sax-panel"},Lv={class:"sax-grid"},xv=["aria-pressed","title","disabled","onClick"],wv={key:0,class:"absolute left-1 top-1 text-[10px] font-mono text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity"},Cv={class:"px-1 text-center leading-tight"},Sv={key:1,class:"grid gap-2"},kv=["aria-pressed","title","disabled","onClick"],Iv={key:0,class:"absolute left-1 top-1 text-[10px] font-mono text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity"},Ev={class:"px-1 text-center leading-tight"},Mv={key:2,class:"grid gap-3"},_v={class:"grid gap-2",style:{"grid-template-columns":"repeat(auto-fit, minmax(220px, 1fr))"}},Tv={class:"text-[11px] text-gray-400 mb-2"},Nv=["aria-pressed","title","disabled","onClick"],Dv={key:0,class:"absolute left-1 top-1 text-[10px] font-mono text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity"},Rv={class:"px-1 text-center leading-tight"},Pv={class:"mt-2 text-[11px] text-gray-400"},Av={class:"font-mono text-gray-200"},Ov={class:"ml-2"};lv.render=function(e,t,n,r,a,o){return Yr(),na("div",sv,[sa("div",uv,[sa("div",cv,[sa("strong",dv,X(e.visibleKeyCount)+"",1),sa("span",pv,[t[2]||(t[2]=da(": ",-1)),sa("strong",fv,X(e.activeCount)+"",1)]),sa("span",gv,"("+X(e.activeKeysText||"-")+")",1)]),sa("div",hv,[sa("button",{class:"px-2 py-1 border border-gray-700 rounded text-gray-200 hover:border-gray-500 disabled:opacity-50",disabled:e.disabled,type:"button",onClick:t[0]||(t[0]=(...t)=>e.clearAll&&e.clearAll(...t))},"   ",8,mv),sa("button",{class:"px-2 py-1 border border-gray-700 rounded text-gray-200 hover:border-gray-500 disabled:opacity-50",disabled:e.disabled,type:"button",onClick:t[1]||(t[1]=(...t)=>e.invert&&e.invert(...t))},"  ",8,vv)])]),"sax"===e.layoutMode?(Yr(),na("div",yv,[sa("div",bv,[sa("div",Lv,[(Yr(!0),na(zr,null,jn(e.saxLayout,t=>(Yr(),na("button",{key:`sax-${t.idx}`,type:"button",class:H(["group relative select-none rounded-full border font-semibold transition flex items-center justify-center overflow-hidden sax-pad",[e.keyClass(t.idx),t.big?"text-sm":"text-xs"]]),style:B(e.keyStyle(t)),"aria-pressed":e.isActive(t.idx)?"true":"false",title:`#${t.idx} ${e.labelFor(t.idx)}`,disabled:e.disabled||!e.isUsableKey(t.idx),onClick:n=>e.toggle(t.idx)},[e.showIndex?(Yr(),na("span",wv,X(t.idx),1)):fa("",!0),sa("span",Cv,X(e.labelFor(t.idx)),1)],14,xv))),128))])])])):"linear"===e.layoutMode?(Yr(),na("div",Sv,[sa("div",{class:"grid gap-1",style:B({gridTemplateColumns:`repeat(${Math.min(8,Math.max(1,e.visibleKeyCount))}, minmax(0, 1fr))`})},[(Yr(!0),na(zr,null,jn(e.linearKeys,t=>(Yr(),na("button",{key:`lin-${t}`,type:"button",class:H(["group relative select-none rounded-full border font-semibold transition flex items-center justify-center overflow-hidden sax-pad",[e.keyClass(t),"text-sm"]]),style:{height:"42px"},"aria-pressed":e.isActive(t)?"true":"false",title:`#${t} ${e.labelFor(t)}`,disabled:e.disabled,onClick:n=>e.toggle(t)},[e.showIndex?(Yr(),na("span",Iv,X(t),1)):fa("",!0),sa("span",Ev,X(e.labelFor(t)),1)],10,kv))),128))],4)])):(Yr(),na("div",Mv,[sa("div",_v,[(Yr(!0),na(zr,null,jn(e.groups,t=>(Yr(),na("div",{key:t.key,class:"border border-gray-800/60 rounded-md px-2 py-2"},[sa("div",Tv,X(t.title),1),sa("div",{class:"grid gap-1",style:B({gridTemplateColumns:`repeat(${t.columns}, minmax(0, 1fr))`})},[(Yr(!0),na(zr,null,jn(t.keys,n=>(Yr(),na("button",{key:`k-${t.key}-${n}`,type:"button",class:H(["group relative select-none rounded-full border font-semibold transition flex items-center justify-center overflow-hidden sax-pad",[e.keyClass(n),t.big?"text-sm":"text-xs"]]),style:B({height:t.big?"42px":"34px"}),"aria-pressed":e.isActive(n)?"true":"false",title:`#${n} ${e.labelFor(n)}`,disabled:e.disabled||!e.isUsableKey(n),onClick:t=>e.toggle(n)},[e.showIndex?(Yr(),na("span",Dv,X(n),1)):fa("",!0),sa("span",Rv,X(e.labelFor(n)),1)],14,Nv))),128))],4)]))),128))])])),sa("div",Pv,[t[3]||(t[3]=da("  : ",-1)),sa("span",Av,"0x"+X(e.maskHex),1),sa("span",Ov,"("+X(e.activeCount)+" keys)",1)])])},lv.__scopeId="data-v-131ccff7";const Fv=(e,t,n)=>{const r=Math.floor(Number(e)||0);return Math.max(t,Math.min(n,r))},Bv=e=>{const t=new Map;for(const e of ev(iv))t.set(e.idx,{...e});const n=Array.isArray(e)?e:[],r=[];for(const e of n){const t=Fv(e?.idx,0,23),n=Number(e?.row),a=Number(e?.col);!Number.isFinite(n)||n<1||(!Number.isFinite(a)||a<1||r.push({idx:t,row:Math.floor(n),col:Math.floor(a),rowSpan:void 0===e?.rowSpan?void 0:Math.max(1,Math.floor(Number(e?.rowSpan)||1)),colSpan:void 0===e?.colSpan?void 0:Math.max(1,Math.floor(Number(e?.colSpan)||1)),big:!!e?.big}))}const a=ev(r);for(const e of a){const n=Fv(e?.idx,0,23),r=t.get(n);r&&(void 0!==e?.row&&(r.row=Math.max(1,Math.floor(Number(e?.row)||1))),void 0!==e?.col&&(r.col=Math.max(1,Math.floor(Number(e?.col)||1))),void 0!==e?.rowSpan&&(r.rowSpan=Math.max(1,Math.floor(Number(e?.rowSpan)||1))),void 0!==e?.colSpan&&(r.colSpan=Math.max(1,Math.floor(Number(e?.colSpan)||1))),void 0!==e?.big&&(r.big=!!e?.big))}return Array.from({length:24},(e,n)=>t.get(n))},Uv=e=>{const t=new Set;for(const n of e){const e=Math.max(1,Math.floor(Number(n.rowSpan)||1)),r=Math.max(1,Math.floor(Number(n.colSpan)||1));for(let a=n.row;a<n.row+e;a++)for(let e=n.col;e<n.col+r;e++){const n=`${a},${e}`;if(t.has(n))return!0;t.add(n)}}return!1},Vv=e=>{const t=[];for(let n=0;n<24;n++){const r=e[n],a=Math.max(1,Math.floor(Number(r?.row)||1)),o=Math.max(1,Math.floor(Number(r?.col)||1)),i=Math.max(1,Math.floor(Number(r?.rowSpan)||1)),l=Math.max(1,Math.floor(Number(r?.colSpan)||1)),s=r?.big?1:0;t.push(`${a},${o},${i},${l},${s}`)}return t.join("|")};var $v=mn({name:"SaxFingeringLayoutDragEditor",props:{layout:{type:Array,required:!0},labels:{type:Array,default:null},usableMask:{type:Number,default:null},hideUnusableKeys:{type:Boolean,default:!1}},emits:["update:layout"],setup(e,{emit:t}){const n=xt(null),r=xt(Bv(e.layout)),a=xt(Vv(r.value)),o=xt(a.value);un(()=>e.layout,e=>{r.value=Bv(e),a.value=Vv(r.value),o.value=a.value},{deep:!0});const i=Aa(()=>24),l=Aa(()=>{const e=r.value.reduce((e,t)=>{const n=Math.max(1,Math.floor(Number(t.rowSpan)||1));return Math.max(e,t.row+n-1)},14);return Math.max(14,Math.min(40,e+1))}),s=xt(null),u=xt(null),c=xt(""),d=Aa(()=>{if(!e.hideUnusableKeys)return null;const t=e.usableMask;return"number"==typeof t&&Number.isFinite(t)?Number(t)>>>0&16777215:null}),p=e=>{const t=Fv(e,0,23),n=d.value;return"number"!=typeof n||1==(n>>>t&1)},f=Aa(()=>"number"!=typeof d.value?r.value:r.value.filter(e=>p(e.idx))),g=xt(100),h=Aa(()=>Math.max(.7,Math.min(1.6,(Number(g.value)||100)/100))),m=Aa(()=>h.value>=.9),v=Aa(()=>h.value>=1.15?"0.9rem":h.value<=.85?"0.72rem":"0.8rem"),y=Aa(()=>{const e=Math.max(14,Math.round(21*h.value)),t=Math.max(1,Math.round(3*h.value));return{gridTemplateColumns:`repeat(${i.value}, var(--cell-size))`,"--cell-size":`${e}px`,"--cell-gap":`${t}px`,"--key-font":v.value}}),b=Aa(()=>{const e=Math.max(14,Math.round(21*h.value)),t=Math.max(1,Math.round(3*h.value)),n=l.value;return{width:"100%",maxWidth:"340px",marginLeft:"auto",marginRight:"auto",minHeight:`${n*e+Math.max(0,n-1)*t+24+2}px`,maxHeight:"75vh"}}),L=Aa(()=>{if(null===s.value)return null;const e=Fv(s.value,0,23);return p(e)&&r.value[e]||null});un(()=>[e.hideUnusableKeys,e.usableMask],()=>{null===s.value||p(s.value)||(s.value=null)},{immediate:!0});const x=xt(1),w=xt(1),C=xt(1),S=xt(1),k=xt(!1),I=()=>{const e=L.value;e&&(x.value=Math.max(1,Math.floor(Number(e.row)||1)),w.value=Math.max(1,Math.floor(Number(e.col)||1)),C.value=Math.max(1,Math.floor(Number(e.rowSpan)||1)),S.value=Math.max(1,Math.floor(Number(e.colSpan)||1)),k.value=!!e.big)};un(L,()=>{c.value="",I()});const E=(e,t)=>{const n=r.value.map(e=>({...e})),a=Fv(e,0,23);return n[a]={...n[a],...t,idx:a},n},M=(e,t,n)=>{const o=Fv(e,0,23),s=r.value[o],u=Math.max(1,Math.floor(Number(s.rowSpan)||1)),c=Math.max(1,Math.floor(Number(s.colSpan)||1)),f=Fv(t,1,Math.max(1,l.value-u+1)),g=Fv(n,1,Math.max(1,i.value-c+1)),h=E(o,{row:f,col:g});if((()=>{if("number"!=typeof d.value)return Uv(h);const e=h.filter(e=>p(e.idx));return Uv(e)})())return!1;const m=Vv(h);return m===a.value||(r.value=h,a.value=m),!0},_=()=>{const e=Vv(r.value);e!==o.value&&(o.value=e,t("update:layout",r.value.map(e=>({...e}))))},T=e=>{const t=Fv(e,0,23);p(t)&&(s.value=t)},N=(e,t)=>{if(null===s.value)return;if(!p(s.value))return;const n=s.value,a=r.value[n];M(n,a.row+e,a.col+t)&&(c.value="",_())},D=()=>{if(null===s.value)return;if(!p(s.value))return;const e=Fv(s.value,0,23),t=Math.max(1,Math.floor(Number(C.value)||1)),n=Math.max(1,Math.floor(Number(S.value)||1)),o=Fv(x.value,1,Math.max(1,l.value)),u=Fv(w.value,1,Math.max(1,i.value)),f=E(e,{row:o,col:u,rowSpan:t,colSpan:n,big:!!k.value}),g=Vv(f);if(g===a.value)return void(c.value="");(()=>{if("number"!=typeof d.value)return Uv(f);const e=f.filter(e=>p(e.idx));return Uv(e)})()?c.value="     .":(c.value="",r.value=f,a.value=g,_())};un([x,w,C,S,k],()=>{null!==s.value&&D()},{flush:"post"});return{gridEl:n,localLayout:r,visibleLayout:f,gridCols:i,gridRows:l,selectedKey:L,draftRow:x,draftCol:w,draftRowSpan:C,draftColSpan:S,draftBig:k,lastError:c,zoomPercent:g,resetZoom:()=>{g.value=100},gridStyle:y,editorPanelStyle:b,showIndexHint:m,labelFor:t=>{const n=Fv(t,0,23),r=e.labels&&Array.isArray(e.labels)?e.labels:null;return r&&r.length>=24?String(r[n]??n):String(n)},keyStyle:e=>{const t=Math.max(1,Math.floor(Number(e.rowSpan)||1)),n=Math.max(1,Math.floor(Number(e.colSpan)||1));return{gridRow:`${e.row} / span ${t}`,gridColumn:`${e.col} / span ${n}`,width:"100%",height:"100%"}},keyClass:(e,t)=>{const n=Fv(e,0,23);return["border-gray-700","bg-gray-900/30","text-gray-200","hover:border-gray-500",t?"text-sm":"text-xs",s.value===n?"is-selected":"",u.value?.idx===n?"opacity-80":""].filter(Boolean)},select:T,onPointerDown:(e,t)=>{const a=Fv(e,0,23);T(a),c.value="";const o=t.currentTarget,s=t.pointerId;if(o&&o.setPointerCapture)try{o.setPointerCapture(t.pointerId)}catch{}const d=r.value[a];u.value={idx:a,started:!0,moved:!1,startRow:d.row,startCol:d.col};const p=(()=>{const e=n.value;if(!e)return null;const t=e.getBoundingClientRect(),r=window.getComputedStyle(e),a=i.value,o=Number.parseFloat(r.columnGap||"0")||0,l=Number.parseFloat(r.rowGap||"0")||0,s=r.getPropertyValue("grid-auto-rows"),u=Number.parseFloat(s||"21")||21,c=r.getPropertyValue("--cell-size"),d=(Number.parseFloat(c||"")||u||21)+o,p=u+l;return{rectLeft:t.left,rectTop:t.top,rectWidth:t.width,cols:a,stepX:d,stepY:p,scrollLeft:e.scrollLeft||0,scrollTop:e.scrollTop||0}})();let f=0,g=null;const h=e=>{u.value&&u.value.idx===a&&(g=e,f||(f=window.requestAnimationFrame(()=>{f=0;const e=g;if(g=null,!e||!u.value||u.value.idx!==a)return;if(!p)return;const t=((e,t)=>{const n=e.clientX-t.rectLeft+t.scrollLeft,r=e.clientY-t.rectTop+t.scrollTop,a=Math.floor(n/t.stepX)+1,o=Math.floor(r/t.stepY)+1;return{col:Fv(a,1,t.cols),row:Fv(o,1,l.value)}})(e,p);M(a,t.row,t.col)&&(u.value.moved=!0,c.value="")})))},m=()=>{const e=u.value;if(u.value=null,window.removeEventListener("pointermove",h),window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",m),window.removeEventListener("blur",m),o&&o.releasePointerCapture)try{o.releasePointerCapture(s)}catch{}f&&(window.cancelAnimationFrame(f),f=0),g=null,e?.moved&&_()};window.addEventListener("pointermove",h),window.addEventListener("pointerup",m),window.addEventListener("pointercancel",m),window.addEventListener("blur",m)},onGridKeyDown:e=>{if(u.value?.moved)return;const t=e.target,n=t?.tagName?.toLowerCase()||"";if("input"===n||"textarea"===n||t?.isContentEditable)return;const r=e.shiftKey?2:1;"ArrowUp"===e.key?(e.preventDefault(),N(-r,0)):"ArrowDown"===e.key?(e.preventDefault(),N(r,0)):"ArrowLeft"===e.key?(e.preventDefault(),N(0,-r)):"ArrowRight"===e.key&&(e.preventDefault(),N(0,r))},applySelectedDraft:D,resetSelectedToDefault:()=>{if(null===s.value)return;if(!p(s.value))return;const e=Fv(s.value,0,23),t=Bv(iv),n=E(e,t[e]);(()=>{if("number"!=typeof d.value)return Uv(n);const e=n.filter(e=>p(e.idx));return Uv(e)})()?c.value="      .":(c.value="",r.value=n,_(),I())}}}});const Gv={class:"border border-gray-800/60 rounded-md px-2 py-2"},Hv={class:"flex flex-wrap items-center gap-2 mb-2"},qv={class:"flex items-center gap-2 text-[11px] text-gray-500"},jv={class:"font-mono text-gray-400"},zv={class:"sax-layout"},Wv=["title","onClick","onPointerdown"],Kv={key:0,class:"absolute left-1 top-1 text-[10px] font-mono text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity"},Xv={class:"px-1 text-center leading-tight"},Qv={key:0,class:"mt-2 border border-gray-800/60 rounded-md px-2 py-2"},Zv={class:"flex flex-wrap items-center gap-2 mb-2"},Yv={class:"text-[11px] text-gray-400"},Jv={class:"text-gray-200"},ey={class:"ml-2 text-gray-500"},ty={class:"grid gap-2 grid-cols-2 sm:grid-cols-3 lg:grid-cols-5"},ny={class:"text-[11px] text-gray-300 grid gap-1 min-w-0"},ry={class:"text-[11px] text-gray-300 grid gap-1 min-w-0"},ay={class:"text-[11px] text-gray-300 grid gap-1 min-w-0"},oy={class:"text-[11px] text-gray-300 grid gap-1 min-w-0"},iy={class:"text-[11px] text-gray-300 flex items-center gap-2 lg:justify-center"},ly={key:0,class:"mt-2 text-[11px] text-red-400"};$v.render=function(e,t,n,r,a,o){return Yr(),na("div",Gv,[sa("div",Hv,[t[12]||(t[12]=sa("div",{class:"text-[11px] text-gray-400"},"    ().    . ",-1)),t[13]||(t[13]=sa("div",{class:"flex-grow"},null,-1)),sa("div",qv,[t[11]||(t[11]=sa("span",null,"",-1)),rn(sa("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.zoomPercent=t),type:"range",min:"70",max:"160",step:"5"},null,512),[[yo,e.zoomPercent,void 0,{number:!0}]]),sa("span",jv,X(e.zoomPercent)+"%",1),sa("button",{type:"button",class:"px-2 py-1 border border-gray-700 rounded text-gray-200 hover:border-gray-500",onClick:t[1]||(t[1]=Eo((...t)=>e.resetZoom&&e.resetZoom(...t),["prevent"]))}," 100% ")]),t[14]||(t[14]=sa("div",{class:"text-[11px] text-gray-500"},"       ",-1))]),sa("div",zv,[sa("div",{class:"sax-panel editor-resize",style:B(e.editorPanelStyle)},[sa("div",{ref:"gridEl",class:"sax-grid",tabindex:"0",role:"application","aria-label":"Sax layout editor",style:B(e.gridStyle),onKeydown:t[3]||(t[3]=(...t)=>e.onGridKeyDown&&e.onGridKeyDown(...t))},[(Yr(!0),na(zr,null,jn(e.visibleLayout,n=>(Yr(),na("button",{key:`edit-${n.idx}`,type:"button",class:H(["key-btn group relative select-none rounded-full border font-semibold transition flex items-center justify-center overflow-hidden sax-pad",e.keyClass(n.idx,n.big)]),style:B(e.keyStyle(n)),title:`#${n.idx} ${e.labelFor(n.idx)}`,onClick:Eo(t=>e.select(n.idx),["prevent"]),onPointerdown:Eo(t=>e.onPointerDown(n.idx,t),["prevent"]),onKeydown:t[2]||(t[2]=(...t)=>e.onGridKeyDown&&e.onGridKeyDown(...t))},[e.showIndexHint?(Yr(),na("span",Kv,X(n.idx),1)):fa("",!0),sa("span",Xv,X(e.labelFor(n.idx)),1)],46,Wv))),128))],36)],4),t[15]||(t[15]=sa("div",{class:"mt-1 text-[11px] text-gray-500"},"      .    . ",-1))]),e.selectedKey?(Yr(),na("div",Qv,[sa("div",Zv,[sa("div",Yv,[t[16]||(t[16]=da("  : ",-1)),sa("strong",Jv,"#"+X(e.selectedKey.idx),1),sa("span",ey,"("+X(e.labelFor(e.selectedKey.idx))+")",1)]),t[17]||(t[17]=sa("div",{class:"flex-grow"},null,-1)),sa("button",{type:"button",class:"px-2 py-1 border border-gray-700 rounded text-gray-200 hover:border-gray-500",onClick:t[4]||(t[4]=Eo((...t)=>e.resetSelectedToDefault&&e.resetSelectedToDefault(...t),["prevent"]))},"  "),sa("button",{type:"button",class:"px-2 py-1 border border-gray-700 rounded text-gray-200 hover:border-gray-500",onClick:t[5]||(t[5]=Eo((...t)=>e.applySelectedDraft&&e.applySelectedDraft(...t),["prevent"]))},"  ")]),sa("div",ty,[sa("label",ny,[t[18]||(t[18]=da(" row ",-1)),rn(sa("input",{"onUpdate:modelValue":t[6]||(t[6]=t=>e.draftRow=t),type:"number",min:"1",class:"px-2 py-1 border border-gray-700 rounded bg-transparent text-gray-200 w-full min-w-0"},null,512),[[yo,e.draftRow,void 0,{number:!0}]])]),sa("label",ry,[t[19]||(t[19]=da(" col ",-1)),rn(sa("input",{"onUpdate:modelValue":t[7]||(t[7]=t=>e.draftCol=t),type:"number",min:"1",class:"px-2 py-1 border border-gray-700 rounded bg-transparent text-gray-200 w-full min-w-0"},null,512),[[yo,e.draftCol,void 0,{number:!0}]])]),sa("label",ay,[t[20]||(t[20]=da(" height ",-1)),rn(sa("input",{"onUpdate:modelValue":t[8]||(t[8]=t=>e.draftRowSpan=t),type:"number",min:"1",class:"px-2 py-1 border border-gray-700 rounded bg-transparent text-gray-200 w-full min-w-0"},null,512),[[yo,e.draftRowSpan,void 0,{number:!0}]])]),sa("label",oy,[t[21]||(t[21]=da(" width ",-1)),rn(sa("input",{"onUpdate:modelValue":t[9]||(t[9]=t=>e.draftColSpan=t),type:"number",min:"1",class:"px-2 py-1 border border-gray-700 rounded bg-transparent text-gray-200 w-full min-w-0"},null,512),[[yo,e.draftColSpan,void 0,{number:!0}]])]),sa("label",iy,[rn(sa("input",{"onUpdate:modelValue":t[10]||(t[10]=t=>e.draftBig=t),type:"checkbox"},null,512),[[bo,e.draftBig]]),t[22]||(t[22]=da(" big ",-1))])]),e.lastError?(Yr(),na("div",ly,X(e.lastError),1)):fa("",!0)])):fa("",!0),t[23]||(t[23]=sa("div",{class:"mt-2 text-[11px] text-gray-500"}," :  JSON   (: localStorage). ",-1))])},$v.__scopeId="data-v-7bbd99cc";var sy=mn({name:"InfoTooltip",props:{text:{type:String,required:!0},placement:{type:String,default:"bottom"}},setup:e=>({bubblePlacementClass:Aa(()=>"top"===e.placement?"absolute left-1/2 bottom-full mb-1 z-50":"absolute left-1/2 top-full mt-1 z-50")})});const uy={class:"info-tooltip relative inline-flex items-center align-middle"};sy.render=function(e,t,n,r,a,o){return Yr(),na("span",uy,[t[0]||(t[0]=sa("span",{class:"ml-1 inline-flex items-center justify-center w-4 h-4 text-[10px] leading-none rounded border border-gray-600 bg-gray-800 text-gray-200 cursor-help select-none",tabindex:"0",role:"button","aria-label":""}," ? ",-1)),sa("span",{class:H(["info-tooltip__bubble rounded border border-gray-700 bg-gray-900 text-gray-200 text-xs px-3 py-2 shadow-lg whitespace-normal break-words leading-relaxed",e.bubblePlacementClass])},X(e.text),3)])},sy.__scopeId="data-v-043f2310";var cy=mn({name:"MidiSaxophone",components:{SaxFingeringKeyPad:lv,SaxFingeringLayoutDragEditor:$v,InfoTooltip:sy},setup(){const{isConnected:e}=rp,t=xt(!1),n=xt(""),r=Aa(()=>String(Vf.state?.boardName||"").toLowerCase().includes("midisaxo")),a=xt(!1),o=xt(null),i=xt(null),l=xt(0),s=async()=>{o.value=null,a.value=!0;try{const e=await $f.saxPitchBendDeadzoneGet();i.value=Number(e),Number.isFinite(i.value)&&(l.value=i.value)}catch(e){o.value=String(e?.message||e||"Failed to read deadzone")}finally{a.value=!1}};un(()=>[e.value,r.value],([e,t])=>{e&&t&&s()},{immediate:!0});const u=xt(null),c=xt(null),d=xt(null),p=xt("unknown"),f=xt(!1);xt(!1),xt(""),xt(!1);const g=xt(null),h=new Map,m=new Map,v=128,y=xt(!1),b=xt(!1),L=xt(""),x=xt(!1),w=xt(!1),C=xt(!1),S={sax:["Octave","LH 1","LH 2","LH 3","RH 1","RH 2","RH 3","Low F#","Alt","Bis Bb","G#","Palm D","Palm Eb","Palm F","Side C","Side Bb","Side F#","Low Eb","Low C","Low B","Low Bb","Front F","High F#","Low C#"],numbers:Array.from({length:24},(e,t)=>String(t))},k=xt("sax"),I=xt([...S.sax]),E=xt(!1),M=xt(!1),_=xt(!1),T=xt(""),N=xt(null),D=xt(null),R=xt([]),P=xt(null),A=xt(null),O=xt(""),F=xt("");let B=null;const U=e=>{const t=new Map;for(const e of iv)t.set(e.idx,{...e});const n=Array.isArray(e)?e:[];for(const e of n){const n=Math.max(0,Math.min(23,Math.floor(Number(e?.idx)||0))),r=t.get(n);if(!r)continue;const a=Number(e?.row),o=Number(e?.col);Number.isFinite(a)&&a>=1&&(r.row=Math.floor(a)),Number.isFinite(o)&&o>=1&&(r.col=Math.floor(o)),void 0!==e?.rowSpan&&(r.rowSpan=Math.max(1,Math.floor(Number(e?.rowSpan)||1))),void 0!==e?.colSpan&&(r.colSpan=Math.max(1,Math.floor(Number(e?.colSpan)||1))),void 0!==e?.big&&(r.big=!!e?.big)}return Array.from({length:24},(e,n)=>t.get(n))},V=Aa(()=>{const e=String(T.value||"").trim();if(e)try{const t=JSON.parse(e);return Array.isArray(t)?t:void 0}catch{return}}),$=Aa(()=>{const e=String(T.value||"").trim();if(!e)return null;try{const t=JSON.parse(e);return Array.isArray(t)?24!==t.length?"  24(0..23)  .":null:" JSON  ."}catch{return" JSON  ."}}),G=16777215,H=xt(G),q=xt(!1),j=xt(!1),z=xt(!1),W=e=>{const t=Number(e)>>>0&G;return 0!==t?t:1},K=Aa(()=>{const e=H.value>>>0;let t=0;for(let n=0;n<24;n++)e>>>n&1&&t++;return t}),X=Aa(()=>j.value&&K.value<24||K.value<=10?"linear":"sax"),Q=xt("horizontal"),Z=xt("page3"),Y=xt(null),J=xt(!1),ee=xt(!1),te=()=>{const e=Y.value;if(!e||"horizontal"!==Q.value)return J.value=!1,void(ee.value=!1);const t=e.scrollLeft,n=Math.max(0,e.scrollWidth-e.clientWidth);J.value=t>0,ee.value=t<n-1},ne="opendeck.midisaxophone.ui",re=()=>{try{const e="undefined"!=typeof window?window.localStorage.getItem(ne):null;if(!e)return;const t=JSON.parse(e);if(t&&"object"==typeof t){if("boolean"==typeof t.showSaxHelpPanel&&(b.value=t.showSaxHelpPanel),"boolean"==typeof t.showFingeringTable&&(y.value=t.showFingeringTable),"string"==typeof t.fingeringFilterText&&(L.value=t.fingeringFilterText),"boolean"==typeof t.fingeringFilterOnlyEnabled&&(x.value=t.fingeringFilterOnlyEnabled),"boolean"==typeof t.fingeringFilterOnlyWithKeys&&(w.value=t.fingeringFilterOnlyWithKeys),"boolean"==typeof t.fingeringFilterOnlyWithNote&&(C.value=t.fingeringFilterOnlyWithNote),"sax"===t.fingeringKeyLabelPreset||"numbers"===t.fingeringKeyLabelPreset?k.value=t.fingeringKeyLabelPreset:"recorder8"===t.fingeringKeyLabelPreset&&(k.value="numbers"),"boolean"==typeof t.showFingeringKeyIndex&&(E.value=t.showFingeringKeyIndex),"boolean"==typeof t.showFingeringLabelEditor&&(M.value=t.showFingeringLabelEditor),"entry"!==t.fingeringEntryScrollStepMode&&"page3"!==t.fingeringEntryScrollStepMode||(Z.value=t.fingeringEntryScrollStepMode),"boolean"==typeof t.showFingeringLayoutEditor&&(_.value=t.showFingeringLayoutEditor),"string"==typeof t.fingeringSaxLayoutOverrideText&&(T.value=t.fingeringSaxLayoutOverrideText),Array.isArray(t.fingeringLayoutPresets)){const e=t.fingeringLayoutPresets.slice(0,50).map(e=>{const t=String(e?.id||"").trim(),n=String(e?.name||"").trim()||"Preset",r=String(e?.createdAt||""),a=String(e?.updatedAt||""),o=U(e?.layout);return t?{id:t,name:n,createdAt:r,updatedAt:a,layout:o}:null}).filter(Boolean);R.value=e}if("string"==typeof t.activeFingeringLayoutPresetId&&(P.value=t.activeFingeringLayoutPresetId),"string"==typeof t.selectedFingeringLayoutPresetId&&(A.value=t.selectedFingeringLayoutPresetId),"grid"!==t.fingeringEntryLayoutMode&&"horizontal"!==t.fingeringEntryLayoutMode||(Q.value=t.fingeringEntryLayoutMode),"number"==typeof t.fingeringUiUsableKeyMask)H.value=W(t.fingeringUiUsableKeyMask);else if("number"==typeof t.fingeringUiKeyCount){const e=(e=>{const t=Math.floor(Number(e)||24);return Math.max(1,Math.min(24,t))})(t.fingeringUiKeyCount);H.value=e>=24?G:(1<<e)-1>>>0}if(Array.isArray(t.fingeringKeyLabels)){const e=t.fingeringKeyLabels.slice(0,24).map((e,t)=>"string"==typeof e?e:S[k.value][t]||String(t));24===e.length&&(I.value=e)}"boolean"==typeof t.showFingeringUsableKeySelector&&(q.value=t.showFingeringUsableKeySelector),"boolean"==typeof t.hideUnusableFingeringKeys&&(j.value=t.hideUnusableFingeringKeys),"boolean"==typeof t.hideUnselectedKeysInKeySelector&&(z.value=t.hideUnselectedKeysInKeySelector),"boolean"==typeof t.capturePanelContinuousMode&&(Ye.value=t.capturePanelContinuousMode),"boolean"==typeof t.capturePanelManualMode&&(Je.value=t.capturePanelManualMode)}}catch{}};let ae=null;const oe=()=>{try{if("undefined"==typeof window)return;null!==ae&&window.clearTimeout(ae),ae=window.setTimeout(()=>{ae=null,(()=>{try{if("undefined"==typeof window)return;window.localStorage.setItem(ne,JSON.stringify({showSaxHelpPanel:b.value,showFingeringTable:y.value,fingeringFilterText:L.value,fingeringFilterOnlyEnabled:x.value,fingeringFilterOnlyWithKeys:w.value,fingeringFilterOnlyWithNote:C.value,fingeringKeyLabelPreset:k.value,fingeringKeyLabels:I.value,showFingeringKeyIndex:E.value,showFingeringLabelEditor:M.value,showFingeringLayoutEditor:_.value,fingeringSaxLayoutOverrideText:T.value,fingeringEntryLayoutMode:Q.value,fingeringEntryScrollStepMode:Z.value,fingeringLayoutPresets:R.value,activeFingeringLayoutPresetId:P.value,selectedFingeringLayoutPresetId:A.value,fingeringUiUsableKeyMask:H.value,showFingeringUsableKeySelector:q.value,hideUnusableFingeringKeys:j.value,hideUnselectedKeysInKeySelector:z.value,capturePanelContinuousMode:Ye.value,capturePanelManualMode:Je.value}))}catch{}})()},150)}catch{}},ie=xt(!1),le=xt(!1),se=e=>{if(e&&e.isComposing)return;if(le.value)return;const t=e&&e.target;T.value=t?String(t.value||""):"",oe()},ue=Aa(()=>{const e=V.value;return U(e??iv)}),ce=e=>{const t=JSON.stringify(e,null,2);t!==T.value&&(T.value=t,oe())},de=(e,t)=>{const n=Number(e)>>>0&G,r=Number(t)>>>0&G,a=ue.value;if(!av(a,r))return;const o=((e,t,n=16777215,r=40,a=24)=>{const o=tv(r,1,200),i=Number(n)>>>0&16777215,l=Number(t)>>>0&16777215,s=new Map;for(const t of e){const e=tv(t.idx,0,23);s.set(e,{...t,idx:e,row:Math.max(1,Math.floor(Number(t.row)||1)),col:Math.max(1,Math.floor(Number(t.col)||1)),rowSpan:nv(t.rowSpan),colSpan:nv(t.colSpan),big:!!t.big})}const u=Array.from({length:24},(e,t)=>s.get(t)||{idx:t,row:1,col:1,rowSpan:1,colSpan:1,big:!1}),c=new Set;for(let e=0;e<24;e++)i>>>e&1&&l>>>e&1&&rv(c,u[e],a,o);for(let e=0;e<24;e++){if(!(i>>>e&1))continue;if(1==(l>>>e&1))continue;const t=u[e],n=nv(t.rowSpan),r=nv(t.colSpan);{const e=new Set(c);if(!rv(e,t,a,o)){rv(c,t,a,o);continue}}const s=ov(t.row,o),d=ov(t.col,a);let p=!1;for(const i of s)if(!(i+n-1>o)){for(const n of d){if(n+r-1>a)continue;const l={...t,row:i,col:n},s=new Set(c);if(!rv(s,l,a,o)){u[e]=l,rv(c,l,a,o),p=!0;break}}if(p)break}p||rv(c,t,a,o)}return u})(a,n,r);if(!av(o,r)){const e=[];for(let t=0;t<24;t++){if(!(r>>>t&1))continue;if(1==(n>>>t&1))continue;const i=a[t],l=o[t];if(!i||!l)continue;(i.row!==l.row||i.col!==l.col||(i.rowSpan??1)!==(l.rowSpan??1)||(i.colSpan??1)!==(l.colSpan??1)||!!i.big!=!!l.big)&&e.push(t)}if(e.length){const t=e=>{const t=I.value,n=Array.isArray(t)&&t.length>=24?t[e]:String(e);return String(n||e)},n=e.slice(0,10).map(e=>`#${e}(${t(e)})`).join(" "),r=e.length>10?`  ${e.length-10}`:"";F.value=`     : ${n}${r}`,"undefined"!=typeof window&&(null!==B&&window.clearTimeout(B),B=window.setTimeout(()=>{B=null,F.value=""},6e3))}ce(o)}},pe=e=>{const t=String(e||"");return t&&R.value.find(e=>e.id===t)||null},fe=()=>`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,ge=e=>{const t=pe(e);t&&(T.value=JSON.stringify(t.layout,null,2),P.value=t.id,A.value=t.id,oe())},he=()=>{I.value=[...S[k.value]]},me=Aa(()=>{const e=I.value||[],t=[];for(let n=0;n<24;n++)t.push(String(e[n]??""));return t.join("\n")}),ve=e=>{if(e&&e.isComposing)return;if(ie.value)return;const t=e&&e.target,n=(t&&"string"==typeof t.value?t.value:"").split(/\r?\n/),r=[];for(let e=0;e<24;e++){const t=n[e];r.push("string"==typeof t?t.trim():"")}I.value=r},{formData:ye,loading:be,onSettingChange:Le,showField:xe}=Ys(Sl.Global,Ql.Setting),we=xt(null),Ce=xt(null),Se=xt(null),ke=()=>{we.value=null,Ce.value=null,Se.value=null},Ie=Aa(()=>{const e=Number(ye.saxBreathControllerCC),t=we.value,n=Ce.value,r=e=>null===e?"---":String(e).padStart(3,"0");return 2===e?`CC2 v${r(t)}`:11===e?`CC11 v${r(n)}`:`CC2 v${r(t)} | CC11 v${r(n)}`}),Ee=e=>{if(!e||"function"!=typeof e.addListener)return()=>{};const t=e=>{const t=Number(e?.controller?.number);if(2!==t&&11!==t)return;const n=Number(e?.value),r=Number(e?.channel),a=(new Date).toTimeString().slice(0,8);if(!Number.isFinite(n)||!Number.isFinite(r))return;const o=Math.max(0,Math.min(127,Math.floor(n)));Se.value=a,2===t?we.value=o:Ce.value=o};return e.addListener("controlchange","all",t),()=>{try{e.removeListener("controlchange","all",t)}catch{}}};let Me=null;const _e=new Set(["saxBreathControllerEnable","saxBreathControllerAnalogIndex","saxBreathControllerMidPercent","saxBreathControllerCC","saxPitchBendDeadzone"]),Te=Aa(()=>Object.values(Rd[Sl.Global].sections).filter(e=>e.type===Ql.Setting&&_e.has(e.key))),Ne=Aa(()=>Te.value.length>0),De=Aa(()=>Te.value.map(e=>{const t=$f.isControlDisabled(e)?" /  .":"",n="number"==typeof e.min?e.min:void 0,r="number"==typeof e.max?e.max:void 0,a="number"==typeof n&&"number"==typeof r?`${n} - ${r}`:"",o="string"==typeof e.helpText?e.helpText.trim():"";return{key:e.key,label:e.label||e.key,rangeText:a,description:o,disabledText:t,isVisible:!!xe(e)}})),Re=e=>Math.max(0,Math.min(127,e)),Pe=e=>{const t=Re(e),n=Math.floor(t/12)-1;return`${["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"][t%12]}${n}`},Ae=async()=>{if(!e.value)return u.value=null,c.value=null,d.value=null,void(p.value="unknown");f.value=!0;try{const e=await Vf.actions.getSectionValues(Sl.Global);Object.prototype.hasOwnProperty.call(e,"saxFingeringMaskLo14")&&Object.prototype.hasOwnProperty.call(e,"saxFingeringMaskHi10Enable")&&Object.prototype.hasOwnProperty.call(e,"saxFingeringNote")?(p.value="supported",u.value=e.saxFingeringMaskLo14,c.value=e.saxFingeringMaskHi10Enable,d.value=e.saxFingeringNote):(p.value="unsupported",u.value=null,c.value=null,d.value=null)}finally{f.value=!1}},Oe=Math.max(0,10),Fe=(1<<Oe)-1,Be=1<<Oe,Ue=e=>{let t=e>>>0;return t-=t>>>1&1431655765,t=(858993459&t)+(t>>>2&858993459),16843009*(t+(t>>>4)&252645135)>>>24},Ve=xt(null),$e=xt(!1),Ge=xt(0),He=Aa(()=>{const e=Ge.value>>>0;return e?ze(e):""}),qe=()=>{Ve.value=null,$e.value=!1,Ge.value=0},je=async e=>{y.value=!0,Qt.value[e]=!0,await Dt(e)},ze=e=>{const t=[];for(let n=0;n<24;n++)e>>>n&1&&t.push(n);return t.join(",")},We=xt(!1),Ke=Aa(()=>{try{const e=new URLSearchParams(window.location.search||"");return e.has("capture")||e.has("captureOnly")}catch{return!1}}),Xe=xt(0),Qe=xt("60"),Ze=xt(""),Ye=xt(!1),Je=xt(!0),et=xt(null);Tn(()=>{Ke.value&&(b.value=!1,y.value=!0,We.value=!0)}),un(()=>Je.value,()=>{oe()});const tt=Aa(()=>ze(Xe.value>>>0)),nt=Aa(()=>Ue(Xe.value>>>0)),rt=Aa(()=>`0x${(Xe.value>>>0).toString(16).padStart(6,"0")}`),at=xt(null),ot="midisaxo.capturePanel.position.v2",it=xt(null),lt=xt(null),st=xt({dx:0,dy:0}),ut=xt(!1),ct=Aa(()=>{const e=lt.value;return e?{left:`${Math.round(e.x)}px`,top:`${Math.round(e.y)}px`}:{left:"50%",top:"5rem",transform:"translateX(-50%)"}}),dt=(e,t)=>{try{const n=it.value,r="undefined"!=typeof window?window.innerWidth:0,a="undefined"!=typeof window?window.innerHeight:0;if(!n||!r||!a)return{x:e,y:t};const o=n.getBoundingClientRect(),i=12,l=Math.max(i,r-o.width-i),s=Math.max(i,a-o.height-i),u=Math.max(i,Math.min(l,e));return{x:u,y:Math.max(i,Math.min(s,t))}}catch{return{x:e,y:t}}},pt=()=>{try{const e=lt.value;if(!e||"undefined"==typeof localStorage)return;localStorage.setItem(ot,JSON.stringify({x:e.x,y:e.y}))}catch{}},ft=async()=>{if(await zt(),!We.value)return;const e=(()=>{try{if("undefined"==typeof localStorage)return null;const e=localStorage.getItem(ot);if(!e)return null;const t=JSON.parse(e),n=Number(t&&t.x),r=Number(t&&t.y);return Number.isFinite(n)&&Number.isFinite(r)?{x:n,y:r}:null}catch{return null}})();if(e)lt.value=dt(e.x,e.y);else try{const e="undefined"!=typeof window?window.innerWidth:0,t="undefined"!=typeof window?window.innerHeight:0,n=it.value;if(e&&t&&n){const r=n.getBoundingClientRect(),a=Math.max(12,Math.floor((e-r.width)/2)),o=Math.max(12,Math.floor(.08*t));lt.value=dt(a,o)}}catch{}},gt=e=>({lo14:16383&e,hi:e>>>14&Fe}),ht=async(e,t,n)=>{await Vf.actions.setComponentSectionValue({block:Sl.Global,section:e,index:t,value:n},()=>{})},mt=async()=>{try{return await ht(8,0,1),!0}catch{return!1}},vt=async(e,t)=>Vf.actions.getValue(Sl.Global,e,t),yt=async()=>{try{const e=await vt(7,0);return((await vt(7,1)&Fe)<<14|16383&e)>>>0}catch{return null}},bt=async()=>{if(Ze.value="",!e.value)return Xe.value=0,void(Ze.value=" .");if("supported"!==p.value)return Xe.value=0,Je.value=!0,void(Ze.value=" /     .   .");const t=await yt();if(null===t)return Xe.value=0,Je.value=!0,void(Ze.value=" ( )   .  ( ) .");const n=t>>>0&W(H.value);Xe.value=n,Ze.value=n?`: ${Ue(n)} (${ze(n)})`:"   ."},Lt=async()=>{await zt();const e=et.value;if(e)try{e.focus(),e.select()}catch{}},wt=async(t,n)=>{if(!e.value||"supported"!==p.value)return{action:"noop"};u.value&&c.value&&d.value||await Ae();const r=n>>>0&W(H.value);if(!r)return window.alert("   ."),{action:"blocked"};const a=Et(r),o=(a.enabled.length?a.enabled:a.any)[0];if("number"==typeof o)return window.alert(`     . : #${o+1}`),await je(o),{action:"jumped",entryIndex:o};const i=[],l=Jt.value;for(const e of Pt.value)e.index>=l||e.enabled&&e.note===t&&i.push(e.index);if(i.length>=3)return i.sort((e,t)=>e-t),window.alert(` :  ${t}(${Pe(t)})  3 ()  .\n\n  : ${i.slice(0,3).map(e=>`#${e+1}`).join(", ")}`),i.length&&await je(i[0]),{action:"blocked"};u.value&&c.value&&d.value||await Ae();const s=u.value,g=c.value,h=d.value;if(!s||!g||!h)return window.alert("   ."),{action:"noop"};let m=Math.min(v,Jt.value+1),y=m-1,b=null,L=-1,x=-1,w=-1;for(let e=0;e<=y;e++){if(!(!!(16383&Number(s[e]||0))||0!==(Number(g[e]||0)&(Fe|Be))))continue;w=e;const n=Re(Math.floor(Number(h[e])||0));n!==t?n>t&&-1===x&&(x=e):L=e}b=L>=0?Math.min(y,L+1):x>=0?x:Math.min(y,w+1);const C=Math.max(0,Math.min(y,b??0)),S=e=>!!(16383&Number(s[e]||0))||0!==(Number(g[e]||0)&(Fe|Be));let k=-1;for(let e=C;e<=y;e++)if(!S(e)){k=e;break}let I=!1;if(k<0){if(m>=v)return window.alert("  :     (128).\n\n       ."),{action:"blocked"};m=Math.min(v,m+1),y=m-1,k=y,I=!0}const E=k>C;if(E){if(!window.confirm(` (): #${C+1}        .\n`+(I?`\n     ${m} .\n`:"\n")+"?"))return{action:"cancelled"}}f.value=!0;try{E&&await(async(e,t)=>{for(let n=t;n>e;n--){const e=n-1,t=16383&Number(s[e]||0),r=Number(g[e]||0)&(Fe|Be),a=Re(Math.floor(Number(h[e])||0));await ht(3,n,t),await ht(4,n,r),await ht(5,n,a),s[n]=t,g[n]=r,h[n]=a}})(C,k);const{lo14:e,hi:n}=gt(r),a=n&Fe|Be;await ht(3,C,e),await ht(4,C,a),await ht(5,C,t),s[C]=e,g[C]=a,h[C]=t,await Ae(),await Dt(C)}finally{f.value=!1}return{action:"saved",entryIndex:C}},Ct=xt(null),St=xt(!1),kt=()=>{try{null!==Ct.value&&(window.clearInterval(Ct.value),Ct.value=null)}catch{}St.value=!1},It=()=>{kt(),We.value&&(Je.value||e.value&&"supported"===p.value&&(Ct.value=window.setInterval(()=>{We.value&&!Je.value?e.value&&"supported"===p.value&&!f.value&&(St.value||(St.value=!0,(async()=>{if(!e.value||"supported"!==p.value||f.value)return;if(!We.value||Je.value)return;const t=await yt();if(null===t)return void(Ze.value||(Ze.value="   "));const n=t>>>0&W(H.value);Xe.value>>>0!=n>>>0&&(Xe.value=n);const r=n?`: ${Ue(n)} (${ze(n)})`:"   .";Ze.value!==r&&(Ze.value=r)})().catch(()=>{}).finally(()=>{St.value=!1}))):kt()},650)))},Et=e=>{const t=e>>>0,n=[],r=[];if(!t)return{enabled:n,any:r};for(const e of Pt.value)(Number(e.mask)>>>0||0)===t&&(r.push(e.index),e.enabled&&n.push(e.index));return n.sort((e,t)=>e-t),r.sort((e,t)=>e-t),{enabled:n,any:r}},Mt=async(t,n)=>{if(!e.value||"supported"!==p.value)return;const r=(c.value&&c.value[t]||0)&Fe,a=n?r|Be:r;f.value=!0;try{await ht(4,t,a),c.value&&(c.value[t]=a)}finally{f.value=!1}},_t=async(t,n)=>{if(!e.value||"supported"!==p.value)return;const r=Math.max(0,Math.min(127,Math.floor(Number(n)||0))),a=Pt.value[t];if(a&&a.enabled){let e=0;for(const n of Pt.value)n.enabled&&n.index!==t&&n.note===r&&e++;if(e>=3)return void window.alert(` :  ${r}(${Pe(r)})  3 ()  .\n\n  ,   .`)}f.value=!0;try{await ht(5,t,r),d.value&&(d.value[t]=r)}finally{f.value=!1}},Tt=async(t,n)=>{if(!e.value||"supported"!==p.value)return;const r=W(H.value),a=Number(n)>>>0&r,{lo14:o,hi:i}=gt(a),l=c.value&&c.value[t]||0,s=i&Fe|l&Be;f.value=!0;try{await ht(3,t,o),await ht(4,t,s),u.value&&(u.value[t]=o),c.value&&(c.value[t]=s)}finally{f.value=!1}},Nt=async(e,t)=>{const n=(e=>{if(!e)return 0;const t=W(H.value),n=e.split(/[,\s]+/).map(e=>e.trim()).filter(Boolean);let r=0;for(const e of n){const n=Number(e);if(!Number.isFinite(n))continue;const a=Math.floor(n);a<0||a>23||t>>>a&1&&(r|=1<<a)}return r>>>0})(t);return Tt(e,n)},Dt=async e=>{g.value=e,await zt();const t=h.get(e);t&&t.scrollIntoView({behavior:"smooth",block:"center"});const n=m.get(e);n&&!n.disabled&&(n.focus(),n.select())};Tn(()=>{re(),Ae(),window.setTimeout(()=>te(),0)}),Tn(()=>{const e=e=>{We.value&&"Escape"===e.key&&(We.value=!1)};window.addEventListener("keydown",e),Pn(()=>window.removeEventListener("keydown",e))}),Pn(()=>{kt()}),Pn(()=>{try{"undefined"!=typeof document&&document.body&&(null!==at.value&&(document.body.style.overflow=at.value),at.value=null)}catch{}}),Tn(()=>{Me?.(),Me=Ee(Vf.state.input)}),Pn(()=>{Me?.(),Me=null}),un(()=>[b.value,y.value],()=>oe(),{deep:!1}),un(()=>We.value,e=>{try{"undefined"!=typeof document&&document.body&&(e?(null===at.value&&(at.value=document.body.style.overflow||""),document.body.style.overflow="hidden"):(null!==at.value&&(document.body.style.overflow=at.value),at.value=null))}catch{}e?(window.setTimeout(()=>{ft()},0),window.setTimeout(()=>bt(),0),window.setTimeout(()=>{Lt()},0),window.setTimeout(()=>It(),0)):(kt(),pt())},{deep:!1}),un(()=>Je.value,()=>{We.value?Je.value?kt():It():kt()},{deep:!1}),un(()=>[L.value,x.value,w.value,C.value],()=>oe(),{deep:!1}),un(()=>[k.value,E.value,M.value,Q.value,Z.value,I.value.join("\0")],()=>oe(),{deep:!1});const Rt=xt(W(H.value));un(()=>H.value,e=>{const t=W(e);if(t!==e)return void(H.value=t);const n=Rt.value;Rt.value=t;const r=(t&~n)>>>0;j.value&&r&&de(n,t),oe()},{deep:!1}),un(()=>j.value,(e,t)=>{t&&!e&&de(W(H.value),G),oe()},{deep:!1}),un(()=>e.value,e=>{e?(Ae(),Me?.(),Me=Ee(Vf.state.input)):(u.value=null,c.value=null,d.value=null,p.value="unknown",ke(),Me?.(),Me=null)}),un(()=>Vf.state.input,t=>{e.value&&(Me?.(),Me=Ee(t))});const Pt=Aa(()=>{const e=u.value||[],t=c.value||[],n=d.value||[],r=W(H.value);return Array.from({length:v},(a,o)=>{const i=16383&Number(e[o]||0),l=Number(t[o]||0)&(Fe|Be),s=0!==(l&Be),u=(i|(l&Fe)<<14)>>>0,c=Math.max(0,Math.min(127,Math.floor(Number(n[o]||0)))),d=(u&r)>>>0;return{index:o,enabled:s,mask:d,keysText:ze(d),note:c}})}),At=xt(null),Ot=xt(null),Ft=xt(""),Bt=Aa(()=>null!==Ot.value),Ut=e=>{const t=String(e||"").trim();if(!t)return"";const n=new Date(t);if(Number.isNaN(n.getTime()))return t;try{return n.toLocaleString()}catch{return n.toISOString()}},Vt=e=>`${e.entryCount}  / ${e.keyCount} / ${e.entries.length} `,$t=e=>{const t=[],n=Ut(e.createdAt);n&&t.push(`: ${n}`);const r=e.meta||{},a=String(r.boardName||"").trim();a&&t.push(`: ${a}`);const o=null==r.firmwareVersion?"":String(r.firmwareVersion).trim();o&&t.push(`FW: ${o}`);const i=String(r.buildSha||"").trim();i&&t.push(`UI: ${i.slice(0,7)}`);const l=Ut(String(r.buildTime||""));return l&&t.push(`: ${l}`),t.join(" / ")},Gt=Aa(()=>{const e=Ot.value;return e?Vt(e):""}),Ht=Aa(()=>{const e=Ot.value;return e?$t(e):""}),qt=()=>{const e=Pt.value.map(e=>({index:e.index,enabled:Boolean(e.enabled),mask:Number(e.mask)>>>0,note:Re(Number(e.note)||0)})),t=void 0!==import.meta&&{BASE_URL:"/midisaxo/",MODE:"production",DEV:!1,PROD:!0}&&{}.VITE_BUILD_SHA||"",n=void 0!==import.meta&&{BASE_URL:"/midisaxo/",MODE:"production",DEV:!1,PROD:!0}&&{}.VITE_BUILD_TIME||"",r=Vf.state&&Vf.state.boardName||"",a=Vf.state&&Vf.state.firmwareVersion||null;return{schema:"midisaxo.fingering-backup.v1",createdAt:(new Date).toISOString(),keyCount:24,entryCount:v,entries:e,meta:{boardName:r,firmwareVersion:a,buildSha:t,buildTime:n}}},jt=e=>e.toISOString().replace(/\..+$/,"").replace(/[-:]/g,"").replace("T","-"),Wt=(e,t=32)=>{const n=String(e||"").trim().toLowerCase();if(!n)return"";const r=n.replace(/[^a-z0-9]+/g,"-").replace(/^-+/,"").replace(/-+$/,"").replace(/-+/g,"-");return r?r.slice(0,Math.max(1,Math.floor(t))):""},Kt=(e,t)=>`${[e,Wt(Vf.state?.boardName,24),Wt(Vf.state?.firmwareVersion,16),Wt(String(void 0!==import.meta&&{BASE_URL:"/midisaxo/",MODE:"production",DEV:!1,PROD:!0}&&{}.VITE_BUILD_SHA||"").slice(0,7),7),t].filter(Boolean).join("-")}.json`,Xt=(e,t)=>{const n=JSON.stringify(t,null,2),r=new Blob([n],{type:"application/json"}),a=URL.createObjectURL(r),o=document.createElement("a");o.href=a,o.download=e,o.click(),window.setTimeout(()=>URL.revokeObjectURL(a),0)},Qt=xt({}),Zt=e=>!0===Qt.value[e],Yt=Aa(()=>{let e=-1;for(const t of Pt.value){(!!t.enabled||Number(t.mask)>>>0!=0)&&(t.index>e&&(e=t.index))}const t=e>=0?e+1:0,n=Math.max(49,t);return{requiredCount:Math.max(1,Math.min(v,n))}}),Jt=Aa(()=>Yt.value.requiredCount),en=Aa(()=>Jt.value),tn=Aa(()=>{var e;const t=(e=L.value,String(e||"").trim().toLowerCase()).replace(/\s+/g,""),n=t.replace(/^#/,""),r=en.value;return Pt.value.filter(e=>{const a="number"==typeof e.note&&Number.isFinite(e.note);if(e.index>=r)return!1;if(x.value&&!e.enabled)return!1;if(w.value&&!e.mask)return!1;if(C.value&&!a)return!1;if(!t)return!0;const o=String(e.keysText||"").toLowerCase().replace(/\s+/g,""),i=a?String(e.note):"",l=a?Pe(e.note).toLowerCase():"";return String(e.index+1).includes(n)||String(e.index).includes(n)||i.includes(t)||l.includes(t)||o.includes(t)})});return un(()=>[Q.value,tn.value.length,f.value],()=>{window.setTimeout(()=>te(),0)},{deep:!1}),{formData:ye,loading:be,onSaxSettingChange:t=>{if(e.value)return Le(t)},showField:xe,saxSections:Te,hasSaxSections:Ne,saxHelpItems:De,showSaxHelpPanel:b,toggleSaxHelpPanel:()=>{b.value=!b.value,oe()},saveUiState:oe,isConnected:e,isMidisaxoBoard:r,pressurePbPresetBusy:t,pressurePbPresetNotice:n,applyPressurePitchBendPreset:async()=>{if(!e.value||t.value)return;if(!r.value)return;if(!window.confirm(["     ?\n","- Analog #1: Pitch bend ( )","- Analog #2: Reserved (internal: PB deadzone trim)","- Sax Breath Controller(CC ): OFF\n",":   RP2040 ADC(3.3V)    / ."].join("\n")))return;t.value=!0,n.value="";const a=async e=>Vf.actions.setComponentSectionValue(e,()=>{}),o=(e=>{const t=Math.max(0,Math.min(16383,Math.floor(Number(e)||0)));return{lsb:127&t,msb:t>>7&127}})(16383),i=Number(ye.globalChannel),l=Number.isFinite(i)?Math.max(1,Math.min(17,Math.floor(i))):1;try{await a({block:Sl.Global,section:2,index:6,value:0}),await a({block:Sl.Global,section:2,index:7,value:1}),await a({block:Sl.Analog,section:0,index:1,value:1}),await a({block:Sl.Analog,section:1,index:1,value:0}),await a({block:Sl.Analog,section:2,index:1,value:Il.PitchBend}),await a({block:Sl.Analog,section:3,index:1,value:0}),await a({block:Sl.Analog,section:4,index:1,value:0}),await a({block:Sl.Analog,section:5,index:1,value:0}),await a({block:Sl.Analog,section:6,index:1,value:0}),await a({block:Sl.Analog,section:7,index:1,value:o.lsb}),await a({block:Sl.Analog,section:8,index:1,value:o.msb}),await a({block:Sl.Analog,section:9,index:1,value:l}),await a({block:Sl.Analog,section:10,index:1,value:0}),await a({block:Sl.Analog,section:11,index:1,value:0}),await a({block:Sl.Analog,section:0,index:2,value:1}),await a({block:Sl.Analog,section:1,index:2,value:0}),await a({block:Sl.Analog,section:2,index:2,value:Il.Reserved}),await a({block:Sl.Analog,section:3,index:2,value:0}),await a({block:Sl.Analog,section:4,index:2,value:0}),await a({block:Sl.Analog,section:5,index:2,value:0}),await a({block:Sl.Analog,section:6,index:2,value:0}),await a({block:Sl.Analog,section:7,index:2,value:127}),await a({block:Sl.Analog,section:8,index:2,value:0}),await a({block:Sl.Analog,section:9,index:2,value:l}),await a({block:Sl.Analog,section:10,index:2,value:0}),await a({block:Sl.Analog,section:11,index:2,value:0}),n.value="   "}catch{n.value="    (/ )"}finally{t.value=!1,window.setTimeout(()=>{n.value=""},3e3)}},pbQuickBusy:a,pbQuickError:o,pbDeadzoneValue:i,pbDeadzoneDraft:l,refreshPbDeadzone:s,onPbCenterCapture:async()=>{o.value=null,a.value=!0;try{await $f.saxPitchBendCenterCapture()}catch(e){o.value=String(e?.message||e||"Failed to capture PB center")}finally{a.value=!1}},onPbDeadzoneInc:async()=>{o.value=null,a.value=!0;try{await $f.saxPitchBendDeadzoneInc(),await s()}catch(e){o.value=String(e?.message||e||"Failed to increase deadzone")}finally{a.value=!1}},onPbDeadzoneDec:async()=>{o.value=null,a.value=!0;try{await $f.saxPitchBendDeadzoneDec(),await s()}catch(e){o.value=String(e?.message||e||"Failed to decrease deadzone")}finally{a.value=!1}},onPbDeadzoneDraftChange:e=>{const t=e&&e.target,n=Math.trunc(Number(t?.value??0));l.value=Math.min(2e3,Math.max(0,Number.isFinite(n)?n:0))},onPbDeadzoneSet:async()=>{o.value=null,a.value=!0;try{await $f.saxPitchBendDeadzoneSet(l.value),await s()}catch(e){o.value=String(e?.message||e||"Failed to set deadzone")}finally{a.value=!1}},clearBreathActivity:ke,breathCcStatusLine:Ie,lastBreathCcTime:Se,showFingeringTable:y,exportFingeringBackup:()=>{if(!e.value||"supported"!==p.value)return;const t=qt(),n=jt(new Date);Xt(Kt("midisaxo-fingering-backup",n),t)},triggerFingeringBackupImport:()=>{e.value&&"supported"===p.value&&At.value?.click()},onFingeringBackupFileChange:async e=>{const t=e.target,n=t?.files?.[0];if(n)try{const e=await n.text(),t=(e=>{if(!e||"midisaxo.fingering-backup.v1"!==e.schema)throw new Error("   .");const t=Math.max(0,Math.floor(Number(e.entryCount)||0)),n=Math.max(0,Math.floor(Number(e.keyCount)||0)),r=String(e.createdAt||""),a=(Array.isArray(e.entries)?e.entries:[]).map(e=>({index:Math.max(0,Math.floor(Number(e?.index)||0)),enabled:Boolean(e?.enabled),mask:Number(e?.mask)>>>0||0,note:Re(Math.floor(Number(e?.note)||0))})).filter(e=>Number.isFinite(e.index)&&e.index>=0&&e.index<t),o=e&&"object"==typeof e.meta?e.meta:null,i=o?{boardName:String(o.boardName||"").trim()||void 0,firmwareVersion:null==o.firmwareVersion?void 0:String(o.firmwareVersion),buildSha:String(o.buildSha||"").trim()||void 0,buildTime:String(o.buildTime||"").trim()||void 0}:void 0;return{schema:"midisaxo.fingering-backup.v1",createdAt:r,keyCount:n,entryCount:t,entries:a,meta:i}})(JSON.parse(e));if(24!==t.keyCount||t.entryCount!==v)return Ot.value=null,void window.alert(`     . (: ${t.entryCount}/${t.keyCount}, : 128/24)`);Ot.value=t}catch(e){const t=e;Ot.value=null,window.alert(`    : ${String(t?.message||t)}`)}finally{t&&(t.value="")}},applyFingeringBackup:async()=>{if(!e.value||"supported"!==p.value)return;const t=Ot.value;if(!t)return;const n=Vt(t),r=$t(t);if(!window.confirm(["   ( 128)   .","",`: ${n}`,r||"","","?"].filter(Boolean).join("\n")))return;try{const e=qt(),t=jt(new Date);Xt(Kt("midisaxo-fingering-safety-backup-before-apply",t),e)}catch{}const a=new Map;for(const e of t.entries)a.set(e.index,e);f.value=!0,Ft.value="  ";try{for(let e=0;e<v;e++){const t=a.get(e)||{index:e,enabled:!1,mask:0,note:0},n=Number(t.mask)>>>0,{lo14:r,hi:o}=gt(n),i=o&Fe|(t.enabled?Be:0),l=Re(Math.floor(Number(t.note)||0));Ft.value=`  ${e+1}/128`,await ht(3,e,r),await ht(4,e,i),await ht(5,e,l)}Ft.value="  .  ",await Ae(),Ot.value=null}finally{Ft.value="",f.value=!1}},hasPendingFingeringBackup:Bt,pendingFingeringBackupSummary:Gt,pendingFingeringBackupMetaText:Ht,fingeringBackupApplyProgressText:Ft,fingeringBackupFileInput:At,fingeringSupport:p,fingeringLoading:f,fingeringEntryCount:v,fingeringEntries:Pt,visibleFingeringEntries:tn,isFingeringEntryDetailsOpen:Zt,toggleFingeringEntryDetails:e=>{Qt.value[e]=!Zt(e)},openAllFingeringEntryDetails:()=>{const e={};for(let t=0;t<v;t++)e[t]=!0;Qt.value=e},closeAllFingeringEntryDetails:()=>{Qt.value={}},fingeringFilterText:L,fingeringFilterOnlyEnabled:x,fingeringFilterOnlyWithKeys:w,fingeringFilterOnlyWithNote:C,fingeringActiveEntryCount:en,fingeringEntryRequiredCount:Jt,fingeringUiUsableKeyMask:H,fingeringUsableKeyCount:K,showFingeringUsableKeySelector:q,hideUnusableFingeringKeys:j,hideUnselectedKeysInKeySelector:z,midiNoteName:Pe,applyFingeringControllerPreset:e=>{H.value=G,k.value="sax",I.value=[...S.sax]},fingeringKeyPadLayoutMode:X,resetFingeringFilters:()=>{L.value="",x.value=!1,w.value=!1,C.value=!1},reloadFingering:async()=>{await Ae()},captureFingeringEntry:async t=>{if(!e.value||"supported"!==p.value)return;u.value&&c.value&&d.value||await Ae();const n=await yt();if(null===n)return void window.alert(" ( )   .\n\n  ,  /    .");const r=n>>>0&W(H.value);if(!r)return void window.alert("   .");const a=d.value?d.value[t]:60,o=window.prompt(`  (${ze(r)})   ? (0-127)`,String("number"==typeof a?a:60));if(null===o)return;const i=Number(String(o).trim());if(!Number.isFinite(i))return void window.alert(" 0-127  .");const l=Re(i);await wt(l,r)},showFingeringCapturePanel:We,capturePanelCardEl:it,capturePanelCardStyle:ct,capturePanelPressedMask:Xe,capturePanelPressedKeysText:tt,capturePanelPressedKeyCount:nt,capturePanelPressedMaskHex:rt,capturePanelNoteDraft:Qe,capturePanelStatusText:Ze,capturePanelContinuousMode:Ye,capturePanelManualMode:Je,clearCapturePanelSelection:()=>{Xe.value=0,Ze.value=" ."},clearCapturePanelDevicePressedMask:async()=>{if(Ze.value="",!e.value||"supported"!==p.value)return void(Ze.value="/  .");const t=await mt();Xe.value=0,Ze.value=t?"   .":"   .",Je.value||window.setTimeout(()=>bt(),0)},refreshCapturePanelPressedMask:bt,saveCapturePanelToNote:async()=>{if(Ze.value="",!e.value||"supported"!==p.value)return void(Ze.value="/  .");let t=Xe.value>>>0;if(t||Je.value||(await bt(),t=Xe.value>>>0),!t)return void(Je.value&&window.alert("   ."));const n=Number(String(Qe.value||"").trim());if(!Number.isFinite(n))return void window.alert(" 0-127  .");const r=Re(n),a=await wt(r,t);Ze.value=`: ${ze(t)} -> ${r}(${Pe(r)})`;if("saved"===a.action||"jumped"===a.action){if("saved"!==a.action&&"jumped"!==a.action||await je(a.entryIndex),Ye.value)return Je.value||window.setTimeout(()=>bt(),0),void window.setTimeout(()=>{Lt()},0);if(!Je.value){const e=await mt();Xe.value=0,e&&(Ze.value="   .")}We.value=!1}},resetCapturePanelPosition:async()=>{try{"undefined"!=typeof localStorage&&localStorage.removeItem(ot)}catch{}lt.value=null,await ft()},onCapturePanelDragStart:e=>{try{if(!e||0!==e.button)return;const t=e.target;if(t&&t.closest&&t.closest("button, a, input, textarea, select, label"))return;e.preventDefault();const n=it.value;if(!n)return;const r=n.getBoundingClientRect();st.value={dx:e.clientX-r.left,dy:e.clientY-r.top},ut.value=!0;const a=e=>{if(!ut.value)return;const t=e.clientX-st.value.dx,n=e.clientY-st.value.dy;lt.value=dt(t,n)},o=()=>{ut.value=!1,window.removeEventListener("pointermove",a),window.removeEventListener("pointerup",o),pt()};window.addEventListener("pointermove",a),window.addEventListener("pointerup",o)}catch{}},onCapturePanelNoteWheel:e=>{try{if(!e)return;if("undefined"!=typeof document&&et.value&&document.activeElement!==et.value)return;e.preventDefault();const t=e.deltaY<0?1:-1,n=e.shiftKey?12:1,r=Math.trunc(Number(String(Qe.value||"").trim())),a=Number.isFinite(r)?r:60,o=Math.min(127,Math.max(0,a+t*n));Qe.value=String(o)}catch{}},onFingeringEnabledChange:(e,t)=>{const n=t&&t.target,r=!(!n||!n.checked);if(r){const t=Pt.value[e],r=t?Number(t.mask)>>>0:0;if(r){const t=[];for(const n of Pt.value)n.enabled&&n.index!==e&&(Number(n.mask)>>>0||0)===r&&t.push(n.index);if(t.length){t.sort((e,t)=>e-t);const r=t.map(e=>`#${e+1}`).join(", "),a=t[0];if(!window.confirm(`  :  #${e+1}  ${r}\n #${a+1} .\n\n ?`))return n&&(n.checked=!1),Qt.value[a]=!0,void Dt(a)}}const a=t?t.note:0,o=[];for(const t of Pt.value)t.enabled&&t.index!==e&&t.note===a&&o.push(t.index);if(o.length>=3){o.sort((e,t)=>e-t);const t=o.slice(0,3).map(e=>`#${e+1}`).join(", "),r=o[0];return window.alert(` :  ${a}(${Pe(a)})  3 ()  .\n\n  : ${t}\n#${e+1}       .\n\n: #${r+1}`),n&&(n.checked=!1),Qt.value[r]=!0,void Dt(r)}}return Mt(e,r)},onFingeringKeysChange:(e,t)=>{const n=t&&t.target,r=n&&void 0!==n.value?String(n.value):"";return Nt(e,r)},onFingeringNoteChange:(e,t)=>{const n=t&&t.target,r=n&&void 0!==n.value?Number(n.value):0;return _t(e,r)},setFingeringEnabled:Mt,setFingeringMask:Tt,setFingeringKeysText:Nt,setFingeringNote:_t,activeFingeringEntryIndex:g,setFingeringEntryEl:e=>t=>{t&&t instanceof HTMLElement?h.set(e,t):h.delete(e)},setFingeringNoteInputEl:e=>t=>{t&&t instanceof HTMLInputElement?m.set(e,t):m.delete(e)},fingeringKeyLabelPreset:k,fingeringKeyLabels:I,showFingeringKeyIndex:E,showFingeringLabelEditor:M,showFingeringLayoutEditor:_,fingeringSaxLayoutOverrideText:T,fingeringSaxLayoutOverride:V,fingeringSaxLayoutOverrideError:$,fingeringSaxLayoutForDragEditor:ue,onFingeringSaxLayoutDragUpdate:ce,onFingeringSaxLayoutOverrideInput:se,onFingeringSaxLayoutOverrideCompositionStart:()=>{le.value=!0},onFingeringSaxLayoutOverrideCompositionEnd:e=>{le.value=!1,se(e)},fingeringLayoutAutoRelocateNotice:F,exportFingeringSaxLayoutOverride:()=>{const e=ue.value,t=jt(new Date);Xt(Kt("midisaxo-layout-override",t),e)},triggerFingeringSaxLayoutOverrideImport:()=>{N.value?.click()},onFingeringLayoutFileChange:async e=>{const t=e.target,n=t?.files?.[0];if(n)try{const e=await n.text(),t=JSON.parse(e);if(!Array.isArray(t)||24!==t.length)return void window.alert("  24   JSON  .");const r=U(t);T.value=JSON.stringify(r,null,2),oe()}catch(e){const t=e;window.alert(`    : ${String(t?.message||t)}`)}finally{t&&(t.value="")}},fingeringLayoutFileInput:N,fingeringLayoutPresets:R,activeFingeringLayoutPresetId:P,selectedFingeringLayoutPresetId:A,fingeringLayoutPresetNameDraft:O,applyFingeringLayoutPreset:ge,addFingeringLayoutPresetFromCurrent:()=>{const e=String(O.value||"").trim()||`Preset ${R.value.length+1}`,t=(new Date).toISOString(),n={id:fe(),name:e,createdAt:t,updatedAt:t,layout:ue.value.map(e=>({...e}))};R.value=[n,...R.value].slice(0,50),O.value="",ge(n.id),oe()},updateSelectedFingeringLayoutPresetFromCurrent:()=>{const e=pe(A.value);if(!e)return;const t=(new Date).toISOString();R.value=R.value.map(n=>n.id===e.id?{...n,updatedAt:t,layout:ue.value.map(e=>({...e}))}:n),oe()},renameSelectedFingeringLayoutPreset:()=>{const e=pe(A.value);if(!e)return;const t=window.prompt(" ",e.name);if(null==t)return;const n=String(t).trim();if(!n)return;const r=(new Date).toISOString();R.value=R.value.map(t=>t.id===e.id?{...t,name:n,updatedAt:r}:t),oe()},deleteSelectedFingeringLayoutPreset:()=>{const e=pe(A.value);e&&window.confirm(` ? (${e.name})`)&&(R.value=R.value.filter(t=>t.id!==e.id),P.value===e.id&&(P.value=null),A.value=null,oe())},exportSelectedFingeringLayoutPreset:()=>{const e=pe(A.value);if(!e)return;const t=jt(new Date),n=`midisaxo-layout-preset-${Wt(e.name,24)||"preset"}`;Xt(Kt(n,t),{schema:"midisaxo.layout-preset.v1",name:e.name,createdAt:e.createdAt,updatedAt:e.updatedAt,layout:e.layout})},triggerFingeringLayoutPresetImport:()=>{D.value?.click()},onFingeringLayoutPresetFileChange:async e=>{const t=e.target,n=t?.files?.[0];if(n)try{const e=await n.text(),t=JSON.parse(e);let r=Wt(String(n.name||"").replace(/\.[^.]+$/,""),24);r||(r="Imported");let a=r,o=null;if(Array.isArray(t))o=t;else{if(!t||"object"!=typeof t||"midisaxo.layout-preset.v1"!==t.schema)return void window.alert("   .");a=String(t.name||r).trim()||r,o=t.layout}if(!Array.isArray(o)||24!==o.length)return void window.alert("  24   JSON  .");const i=U(o),l=(new Date).toISOString(),s={id:fe(),name:a,createdAt:l,updatedAt:l,layout:i};R.value=[s,...R.value].slice(0,50),ge(s.id),oe()}catch(e){const t=e;window.alert(`    : ${String(t?.message||t)}`)}finally{t&&(t.value="")}},fingeringLayoutPresetFileInput:D,resetFingeringSaxLayoutOverrideToDefault:()=>{T.value=JSON.stringify(iv,null,2),oe()},clearFingeringSaxLayoutOverride:()=>{T.value="",oe()},fingeringEntryLayoutMode:Q,fingeringEntryScrollStepMode:Z,fingeringEntriesScrollEl:Y,canScrollFingeringLeft:J,canScrollFingeringRight:ee,scrollFingeringEntriesByPage:e=>{const t=Y.value;if(!t||"horizontal"!==Q.value)return;const n=Math.sign(Number(e)||0);if(!n)return;const r="entry"===Z.value?1:3,a=(e=>{const t=Array.from(e.querySelectorAll("[data-fingering-entry]"));if(t.length>=2){const e=t[1].offsetLeft-t[0].offsetLeft;return Math.max(120,Math.abs(e)||0)}return 1===t.length?Math.max(120,t[0].getBoundingClientRect().width):Math.max(120,e.clientWidth/3)})(t);t.scrollBy({left:n*a*r,behavior:"smooth"}),window.setTimeout(()=>te(),200)},updateFingeringScrollButtons:te,jumpToCurrentPressedFingering:async()=>{if(e.value)if("supported"===p.value){u.value&&c.value&&d.value||await Ae(),f.value=!0;try{qe();const e=await yt();if(null===e)return void window.alert(" ( )   .\n\n  ,  /    .");const t=e>>>0&W(H.value);if(Ge.value=t,!t)return void window.alert("   .");const n=Et(t),r=(n.enabled.length?n.enabled:n.any).slice(0,3);if(!r.length)return $e.value=!1,void(Ve.value=null);$e.value=!0,Ve.value=r,await je(r[0])}finally{f.value=!1}}else window.alert("   /    .")},jumpToFingeringEntry:je,lastPressedJumpCandidates:Ve,lastPressedJumpExact:$e,lastPressedJumpKeysText:He,clearLastPressedJump:qe,getNoteAlternativesForEntry:(e,t)=>{const n=Re(Number(t)||0),r=Pt.value.filter(e=>e.enabled&&e.note===n).map(e=>e.index).sort((e,t)=>e-t),a=[];a.includes(e)||a.push(e);for(const e of r){if(a.length>=3)break;a.includes(e)||a.push(e)}return a},onFingeringLabelPresetChange:e=>{const t=e&&e.target,n=t&&"string"==typeof t.value?t.value:"sax";"sax"!==n&&"numbers"!==n||(k.value=n,he())},onFingeringEntryLayoutModeChange:e=>{const t=e&&e.target,n=t&&"string"==typeof t.value?t.value:"horizontal";"grid"!==n&&"horizontal"!==n||(Q.value=n)},onFingeringKeyLabelInput:(e,t)=>{const n=Math.max(0,Math.min(23,Math.floor(Number(e)||0))),r=t&&t.target,a=r&&"string"==typeof r.value?r.value:"",o=[...I.value];for(;o.length<24;)o.push("");o[n]=a,I.value=o},fingeringKeyLabelsText:me,onFingeringKeyLabelsTextInput:ve,onFingeringKeyLabelsTextCompositionStart:()=>{ie.value=!0},onFingeringKeyLabelsTextCompositionEnd:e=>{ie.value=!1,ve(e)},resetFingeringLabelsToPreset:he}}});const dy={key:0,class:"absolute flex inset-0 opacity-75 bg-gray-900"},py={class:"w-full px-4 sm:px-6 lg:px-8"},fy={key:0,class:"surface-neutral border rounded px-4 py-3 mb-6 text-sm"},gy={class:"mt-3 flex flex-wrap items-center gap-2"},hy={key:1,class:"text-sm mb-6"},my={class:"surface-neutral border rounded px-4 py-3 mb-6 text-sm"},vy={class:"flex items-center justify-between gap-2"},yy=["aria-expanded"],by={class:"mt-2 grid gap-3",style:{"grid-template-columns":"repeat(auto-fill, minmax(260px, 1fr))"}},Ly={class:"text-gray-200 font-semibold flex items-center gap-1"},xy={key:0,class:"text-gray-400 font-normal"},wy={key:0,class:"mt-1 text-red-400"},Cy={key:2,class:"surface-neutral border border-gray-700/60 rounded px-4 py-3 mb-6 text-sm"},Sy={key:0,class:"mt-4 border-t border-gray-700/60 pt-4"},ky={class:"mt-3 flex flex-wrap items-center gap-2"},Iy={key:0,class:"text-xs text-green-300"},Ey={class:"mt-4 border-t border-gray-700/60 pt-4"},My={class:"mt-3 flex flex-wrap items-center gap-2"},_y={class:"flex items-center gap-2"},Ty=["disabled","value"],Ny={key:0,class:"text-xs text-gray-300"},Dy={class:"text-gray-100"},Ry={key:1,class:"text-xs text-red-400"},Py={key:0,class:"flex flex-col gap-1"},Ay={key:0,class:"text-xs text-gray-300 whitespace-nowrap"},Oy={class:"ml-2 font-mono text-yellow-300"},Fy={key:0,class:"ml-2 text-gray-500"},By={key:0,class:"surface-neutral border border-gray-700/60 rounded px-3 py-2 mb-3 text-xs text-gray-300"},Uy={class:"flex flex-wrap items-center gap-2 mb-2"},Vy={class:"flex items-center gap-2 ml-auto"},$y={class:"flex items-center gap-2"},Gy=["disabled","value"],Hy={key:0,class:"flex items-center gap-1"},qy=["disabled"],jy={key:1,class:"text-xs text-gray-400 mb-2"},zy={key:2,class:"text-xs text-gray-400 mb-2"},Wy={class:"text-gray-200"},Ky={key:0,class:"mt-1 text-[11px] text-gray-500"},Xy={key:3,class:"surface-neutral border rounded px-3 py-2 mb-3"},Qy={class:"flex flex-wrap items-center gap-2"},Zy={class:"text-xs text-gray-300"},Yy={key:0,class:"ml-2 font-mono text-gray-200"},Jy={key:1,class:"ml-2 text-gray-400"},eb={key:2,class:"ml-2 text-gray-400"},tb={class:"flex items-center gap-1"},nb={key:0,class:"mt-1 text-[11px] text-gray-500"},rb={key:4,class:"surface-neutral border rounded px-3 py-2 mb-3"},ab={class:"flex flex-wrap items-center gap-2"},ob={key:0,class:"mt-3"},ib={key:0,class:"mt-2 text-[11px] text-amber-300"},lb={class:"mt-3 border border-gray-800/60 rounded-md px-2 py-2"},sb={class:"flex flex-wrap items-center gap-2"},ub=["value"],cb={key:0},db={class:"flex flex-wrap items-center gap-2 mt-2"},pb=["value"],fb={key:1,class:"text-xs text-red-400 mt-2"},gb={key:5},hb={key:1,class:"flex flex-wrap items-center gap-2 text-xs text-gray-400 mb-3"},mb={class:"text-gray-200"},vb={class:"text-gray-200"},yb={key:2,class:"surface-neutral border rounded px-3 py-2 mb-3"},bb={class:"flex flex-wrap items-center gap-2"},Lb={class:"text-xs text-gray-300 flex items-center gap-1"},xb={class:"text-gray-200"},wb={class:"text-gray-500"},Cb={class:"flex items-center gap-2"},Sb={class:"text-xs text-gray-300"},kb={class:"text-gray-200"},Ib={class:"flex items-center gap-1 text-[11px]"},Eb={class:"text-xs text-gray-300 flex items-center gap-1"},Mb={key:0,class:"mt-3 border border-gray-800/60 rounded-md px-2 py-2"},_b={class:"text-xs text-gray-300 flex items-center gap-1 mb-2"},Tb={class:"text-xs text-gray-300 flex items-center gap-1"},Nb={class:"text-xs text-gray-300 flex items-center gap-1"},Db={class:"text-xs text-gray-300 flex items-center gap-1"},Rb={class:"text-xs text-gray-400"},Pb={class:"text-gray-200"},Ab={key:3,class:"fixed inset-0 z-50",style:{"z-index":"9999"}},Ob={class:"absolute inset-0 pointer-events-none"},Fb={class:"flex items-center gap-2 px-3 py-2 border-b border-gray-800/60 select-none"},Bb={class:"px-3 py-3 overflow-y-auto"},Ub={class:"flex flex-wrap items-center gap-2"},Vb={class:"text-xs text-gray-300 flex items-center gap-1"},$b={class:"text-xs text-gray-200"},Gb={class:"text-gray-100"},Hb={class:"text-gray-400 ml-2"},qb={class:"text-[11px] text-gray-500 ml-2"},jb={class:"flex items-center gap-2 px-2 py-1 border border-gray-800/60 rounded"},zb={class:"text-xs text-gray-300 flex items-center gap-1 mr-1"},Wb={class:"text-[11px] text-gray-400 mt-2 min-h-[14px]"},Kb={class:"mt-2 surface-neutral border border-gray-800/60 rounded px-3 py-2"},Xb={class:"flex flex-wrap items-center gap-2"},Qb={class:"mt-3"},Zb={key:4,class:"surface-neutral border rounded px-3 py-2 mb-3"},Yb={class:"flex flex-wrap items-center gap-2"},Jb=["value"],eL={class:"text-xs text-gray-300 flex items-center gap-1"},tL={key:0,class:"mt-3"},nL=["value"],rL=["data-fingering-entry"],aL={class:"flex items-center justify-between mb-2"},oL={class:"text-xs"},iL={class:"flex items-center gap-3"},lL={class:"text-xs text-gray-200"},sL=["checked","onChange"],uL={key:0,class:"text-[11px] text-gray-300 mb-2"},cL={class:"flex items-center gap-2 mt-2"},dL={key:0,class:"mt-2 border border-gray-800/60 rounded-md px-2 py-2"},pL={class:"flex flex-col gap-1"},fL=["onClick"],gL={class:"font-semibold"},hL={class:"ml-2 font-mono text-gray-400"},mL={key:0,class:"ml-2 text-gray-500"},vL=["value","disabled","onChange"],yL=["value","disabled","onChange"],bL={key:6,class:"grid gap-2",style:{"grid-template-columns":"repeat(auto-fill, minmax(220px, 1fr))"}},LL=["data-fingering-entry"],xL={class:"flex items-center justify-between mb-2"},wL={class:"text-xs"},CL={class:"flex items-center gap-3"},SL={class:"text-xs text-gray-200"},kL=["checked","onChange"],IL={key:0,class:"text-[11px] text-gray-300 mb-2"},EL={class:"flex items-center gap-2 mt-2"},ML={key:0,class:"mt-2 border border-gray-800/60 rounded-md px-2 py-2"},_L={class:"flex flex-col gap-1"},TL=["onClick"],NL={class:"font-semibold"},DL={class:"ml-2 font-mono text-gray-400"},RL={key:0,class:"ml-2 text-gray-500"},PL=["value","disabled","onChange"],AL=["value","disabled","onChange"];cy.render=function(e,t,n,r,a,o){const i=Vn("Spinner"),l=Vn("router-link"),s=Vn("InfoTooltip"),u=Vn("Button"),c=Vn("FormField"),d=Vn("SaxFingeringLayoutDragEditor"),p=Vn("Hero"),f=Vn("SaxFingeringKeyPad"),g=Vn("Section");return Yr(),na("form",{class:"relative flex flex-wrap flex-grow",novalidate:"",onSubmit:t[54]||(t[54]=Eo(()=>{},["prevent"]))},[e.loading?(Yr(),na("div",dy,[ua(i,{class:"self-center"})])):fa("",!0),ua(g,{title:"MIDI Saxophone",class:"w-full"},{default:nn(()=>[sa("div",py,[t[171]||(t[171]=sa("p",{class:"text-sm mb-6"},"  YDS-150    (  +  ). ",-1)),e.isConnected?e.hasSaxSections?fa("",!0):(Yr(),na("p",hy,"  UI       . ")):(Yr(),na("div",fy,[t[57]||(t[57]=sa("div",{class:"text-gray-200 font-semibold"}," ",-1)),t[58]||(t[58]=sa("div",{class:"mt-2 text-gray-300"}," WebMIDI (MIDI+SysEx)     . ",-1)),sa("div",gy,[ua(l,{to:{name:"home"},class:"px-3 py-1 border border-gray-600 rounded text-gray-200 hover:border-gray-400"},{default:nn(()=>[...t[55]||(t[55]=[da(" ( )  ",-1)])]),_:1}),t[56]||(t[56]=sa("span",{class:"text-gray-400"},[da("  "),sa("strong",null,"SysEx   + Reload"),da("     ")],-1))]),t[59]||(t[59]=sa("div",{class:"mt-2 text-xs text-gray-400"}," : Chrome/Edge",-1))])),sa("div",my,[sa("div",vy,[t[60]||(t[60]=sa("div",{class:"text-gray-200 font-semibold"}," ",-1)),sa("button",{class:"px-2 py-0.5 border border-gray-700 rounded text-[10px] text-gray-200 hover:border-gray-500","aria-expanded":e.showSaxHelpPanel?"true":"false",onClick:t[0]||(t[0]=Eo((...t)=>e.toggleSaxHelpPanel&&e.toggleSaxHelpPanel(...t),["prevent"]))},X(e.showSaxHelpPanel?"":""),9,yy)]),t[61]||(t[61]=sa("div",{class:"mt-2 text-xs text-gray-300"},[da("     "),sa("span",{class:"font-mono"},"?"),da("     . ")],-1)),rn(sa("div",by,[(Yr(!0),na(zr,null,jn(e.saxHelpItems,e=>(Yr(),na("div",{key:`help-${e.key}`,class:H(["text-xs",{"opacity-60":!e.isVisible}])},[sa("div",Ly,[sa("span",null,[da(X(e.label)+" ",1),e.rangeText?(Yr(),na("span",xy,"("+X(e.rangeText)+")",1)):fa("",!0)]),e.description?(Yr(),ra(s,{key:0,text:e.description},null,8,["text"])):fa("",!0)]),e.disabledText?(Yr(),na("div",wy,X(e.disabledText),1)):fa("",!0)],2))),128))],512),[[Wa,e.showSaxHelpPanel]])]),e.isConnected?(Yr(),na("div",Cy,[e.isConnected&&e.isMidisaxoBoard?(Yr(),na("div",Sy,[t[70]||(t[70]=sa("div",{class:"text-gray-200 font-semibold"},"    ",-1)),t[71]||(t[71]=sa("div",{class:"mt-2 text-gray-300 whitespace-pre-line text-xs"}," MPXV7002DP( )   .   Analog #1 Pitch bend, Analog #2 Reserved(  ) . : RP2040 ADC 3.3V . MPXV7002DP( 5V )  /      . ",-1)),sa("div",ky,[ua(u,{size:"sm",variant:"secondary",disabled:e.pressurePbPresetBusy,onClick:Eo(e.applyPressurePitchBendPreset,["prevent"])},{default:nn(()=>[da(X(e.pressurePbPresetBusy?"APPLY...":"  "),1)]),_:1},8,["disabled","onClick"]),e.pressurePbPresetNotice?(Yr(),na("span",Iy,X(e.pressurePbPresetNotice),1)):fa("",!0)]),sa("div",Ey,[t[68]||(t[68]=sa("div",{class:"text-gray-200 font-semibold"}," (  )",-1)),t[69]||(t[69]=sa("div",{class:"mt-2 text-gray-300 whitespace-pre-line text-xs"}," DAW/     PB      . ",-1)),sa("div",My,[ua(u,{size:"sm",variant:"secondary",disabled:e.pbQuickBusy,onClick:t[1]||(t[1]=Eo(t=>e.onPbCenterCapture(),["prevent"]))},{default:nn(()=>[...t[62]||(t[62]=[da(" PB Center Capture ",-1)])]),_:1},8,["disabled"]),ua(u,{size:"sm",variant:"secondary",disabled:e.pbQuickBusy,onClick:t[2]||(t[2]=Eo(t=>e.onPbDeadzoneDec(),["prevent"]))},{default:nn(()=>[...t[63]||(t[63]=[da(" Deadzone - ",-1)])]),_:1},8,["disabled"]),ua(u,{size:"sm",variant:"secondary",disabled:e.pbQuickBusy,onClick:t[3]||(t[3]=Eo(t=>e.onPbDeadzoneInc(),["prevent"]))},{default:nn(()=>[...t[64]||(t[64]=[da(" Deadzone + ",-1)])]),_:1},8,["disabled"]),sa("div",_y,[sa("input",{class:"w-24 text-sm px-2 py-1 border border-gray-700 rounded bg-transparent text-gray-200",type:"number",min:"0",max:"2000",step:"1",disabled:e.pbQuickBusy,value:e.pbDeadzoneDraft,onChange:t[4]||(t[4]=t=>e.onPbDeadzoneDraftChange(t))},null,40,Ty),ua(u,{size:"sm",variant:"secondary",disabled:e.pbQuickBusy,onClick:t[5]||(t[5]=Eo(t=>e.onPbDeadzoneSet(),["prevent"]))},{default:nn(()=>[...t[65]||(t[65]=[da(" Set ",-1)])]),_:1},8,["disabled"])]),ua(u,{size:"sm",variant:"secondary",disabled:e.pbQuickBusy,onClick:t[6]||(t[6]=Eo(t=>e.refreshPbDeadzone(),["prevent"]))},{default:nn(()=>[...t[66]||(t[66]=[da(" Read ",-1)])]),_:1},8,["disabled"]),null!==e.pbDeadzoneValue?(Yr(),na("span",Ny,[t[67]||(t[67]=da(" : ",-1)),sa("strong",Dy,X(e.pbDeadzoneValue),1)])):fa("",!0),e.pbQuickError?(Yr(),na("span",Ry,X(e.pbQuickError),1)):fa("",!0)])])])):fa("",!0)])):fa("",!0),sa("div",{class:H(["form-grid sax-settings-grid mb-8",{"pointer-events-none opacity-50":!e.isConnected}])},[(Yr(!0),na(zr,null,jn(e.saxSections,n=>(Yr(),na(zr,{key:n.key},[e.showField(n)?(Yr(),na("div",Py,[ua(c,{value:e.formData[n.key],"field-definition":n,"simple-layout":!0,onModified:e.onSaxSettingChange},null,8,["value","field-definition","onModified"]),e.isConnected&&"saxBreathControllerMidPercent"===n.key?(Yr(),na("div",Ay,[t[72]||(t[72]=da("  : ",-1)),sa("span",Oy,X(e.breathCcStatusLine),1),e.lastBreathCcTime?(Yr(),na("span",Fy,"("+X(e.lastBreathCcTime)+")",1)):fa("",!0),sa("button",{class:"ml-2 px-1.5 py-0.5 border border-gray-700 rounded text-[10px] text-gray-200 hover:border-gray-500",onClick:t[7]||(t[7]=Eo((...t)=>e.clearBreathActivity&&e.clearBreathActivity(...t),["prevent"]))}," clear ")])):fa("",!0)])):fa("",!0)],64))),128))],2),sa("div",{class:H(["mb-6",{"pointer-events-none opacity-50":e.fingeringLoading}])},[e.isConnected?fa("",!0):(Yr(),na("div",By,[...t[73]||(t[73]=[da("   .  ",-1),sa("strong",{class:"text-gray-100"}," ( )",-1),da("    ,       . ",-1)])])),sa("div",Uy,[t[86]||(t[86]=sa("h4",{class:"heading mb-0"},"  (26)",-1)),sa("div",Vy,[sa("div",$y,[t[78]||(t[78]=sa("div",{class:"text-xs text-gray-300 font-semibold"}," (/)",-1)),sa("select",{class:"text-sm px-2 py-1 border border-gray-700 rounded bg-transparent text-gray-200",disabled:"unsupported"===e.fingeringSupport,value:e.fingeringEntryLayoutMode,onChange:t[8]||(t[8]=t=>e.onFingeringEntryLayoutModeChange(t))},[...t[74]||(t[74]=[sa("option",{value:"horizontal"},"()",-1),sa("option",{value:"grid"},"()",-1)])],40,Gy),"horizontal"===e.fingeringEntryLayoutMode?(Yr(),na("div",Hy,[ua(u,{size:"sm",variant:"secondary",disabled:"unsupported"===e.fingeringSupport||!e.showFingeringTable||!e.canScrollFingeringLeft,onClick:t[9]||(t[9]=Eo(t=>e.scrollFingeringEntriesByPage(-1),["prevent"]))},{default:nn(()=>[...t[75]||(t[75]=[da("  ",-1)])]),_:1},8,["disabled"]),ua(u,{size:"sm",variant:"secondary",disabled:"unsupported"===e.fingeringSupport||!e.showFingeringTable||!e.canScrollFingeringRight,onClick:t[10]||(t[10]=Eo(t=>e.scrollFingeringEntriesByPage(1),["prevent"]))},{default:nn(()=>[...t[76]||(t[76]=[da("  ",-1)])]),_:1},8,["disabled"]),rn(sa("select",{"onUpdate:modelValue":t[11]||(t[11]=t=>e.fingeringEntryScrollStepMode=t),class:"text-[10px] px-1.5 py-0.5 border border-gray-700 rounded bg-transparent text-gray-200",disabled:"unsupported"===e.fingeringSupport||!e.showFingeringTable,title:"  "},[...t[77]||(t[77]=[sa("option",{value:"entry"},"1",-1),sa("option",{value:"page3"},"3",-1)])],8,qy),[[xo,e.fingeringEntryScrollStepMode]])])):fa("",!0)]),ua(u,{size:"sm",variant:"secondary",disabled:"unsupported"===e.fingeringSupport||!e.showFingeringTable,onClick:Eo(e.openAllFingeringEntryDetails,["prevent"])},{default:nn(()=>[...t[79]||(t[79]=[da("   ",-1)])]),_:1},8,["disabled","onClick"]),ua(u,{size:"sm",variant:"secondary",disabled:"unsupported"===e.fingeringSupport||!e.showFingeringTable,onClick:Eo(e.closeAllFingeringEntryDetails,["prevent"])},{default:nn(()=>[...t[80]||(t[80]=[da("   ",-1)])]),_:1},8,["disabled","onClick"]),ua(u,{size:"sm",variant:"secondary",disabled:"supported"!==e.fingeringSupport||e.fingeringLoading,onClick:Eo(e.jumpToCurrentPressedFingering,["prevent"])},{default:nn(()=>[...t[81]||(t[81]=[da("    ",-1)])]),_:1},8,["disabled","onClick"]),ua(u,{size:"sm",variant:"secondary",disabled:"supported"!==e.fingeringSupport||e.fingeringLoading,onClick:Eo(e.exportFingeringBackup,["prevent"])},{default:nn(()=>[...t[82]||(t[82]=[da("   ",-1)])]),_:1},8,["disabled","onClick"]),ua(u,{size:"sm",variant:"secondary",disabled:"supported"!==e.fingeringSupport||e.fingeringLoading,onClick:Eo(e.triggerFingeringBackupImport,["prevent"])},{default:nn(()=>[...t[83]||(t[83]=[da("   ",-1)])]),_:1},8,["disabled","onClick"]),ua(u,{size:"sm",variant:"danger",disabled:"supported"!==e.fingeringSupport||e.fingeringLoading||!e.hasPendingFingeringBackup,onClick:Eo(e.applyFingeringBackup,["prevent"])},{default:nn(()=>[...t[84]||(t[84]=[da("   ",-1)])]),_:1},8,["disabled","onClick"]),sa("input",{ref:"fingeringBackupFileInput",type:"file",accept:"application/json,.json",class:"hidden",onChange:t[12]||(t[12]=(...t)=>e.onFingeringBackupFileChange&&e.onFingeringBackupFileChange(...t))},null,544),ua(u,{size:"sm",variant:"secondary",onClick:t[13]||(t[13]=Eo(t=>e.showFingeringTable=!e.showFingeringTable,["prevent"]))},{default:nn(()=>[da(X(e.showFingeringTable?"":""),1)]),_:1}),ua(u,{size:"sm",variant:"primary",disabled:e.fingeringLoading,onClick:t[14]||(t[14]=Eo(t=>e.showFingeringCapturePanel=!0,["prevent"])),title:"  (  )"},{default:nn(()=>[...t[85]||(t[85]=[da("  ",-1)])]),_:1},8,["disabled"])])]),e.fingeringBackupApplyProgressText?(Yr(),na("div",jy,X(e.fingeringBackupApplyProgressText),1)):e.hasPendingFingeringBackup?(Yr(),na("div",zy,[sa("div",null,[t[87]||(t[87]=da("  : ",-1)),sa("strong",Wy,X(e.pendingFingeringBackupSummary),1)]),e.pendingFingeringBackupMetaText?(Yr(),na("div",Ky,X(e.pendingFingeringBackupMetaText),1)):fa("",!0)])):fa("",!0),e.lastPressedJumpCandidates&&e.lastPressedJumpCandidates.length?(Yr(),na("div",Xy,[sa("div",Qy,[sa("div",Zy,[t[88]||(t[88]=sa("strong",{class:"text-gray-200"}," ",-1)),e.lastPressedJumpKeysText?(Yr(),na("span",Yy,X(e.lastPressedJumpKeysText),1)):fa("",!0),e.lastPressedJumpExact?(Yr(),na("span",Jy,"()")):(Yr(),na("span",eb,"(  )"))]),sa("div",tb,[(Yr(!0),na(zr,null,jn(e.lastPressedJumpCandidates,t=>(Yr(),ra(u,{key:`pressed-cand-${t}`,size:"sm",variant:"secondary",onClick:Eo(n=>e.jumpToFingeringEntry(t),["prevent"])},{default:nn(()=>[da(" #"+X(t),1)]),_:2},1032,["onClick"]))),128))]),t[90]||(t[90]=sa("div",{class:"flex-grow"},null,-1)),ua(u,{size:"sm",variant:"secondary",onClick:Eo(e.clearLastPressedJump,["prevent"])},{default:nn(()=>[...t[89]||(t[89]=[da("",-1)])]),_:1},8,["onClick"])]),e.lastPressedJumpExact?fa("",!0):(Yr(),na("div",nb,"    ,   ( 3) . "))])):fa("",!0),"unsupported"!==e.fingeringSupport?(Yr(),na("div",rb,[sa("div",ab,[t[95]||(t[95]=sa("div",{class:"text-xs text-gray-300 font-semibold"}," ",-1)),ua(u,{size:"sm",variant:"secondary",onClick:t[15]||(t[15]=Eo(()=>{e.showFingeringLayoutEditor=!e.showFingeringLayoutEditor,e.saveUiState()},["prevent"]))},{default:nn(()=>[da(X(e.showFingeringLayoutEditor?"  ":" "),1)]),_:1}),t[96]||(t[96]=sa("div",{class:"flex-grow"},null,-1)),ua(u,{size:"sm",variant:"secondary",onClick:t[16]||(t[16]=Eo(t=>e.resetFingeringSaxLayoutOverrideToDefault(),["prevent"]))},{default:nn(()=>[...t[91]||(t[91]=[da("  () ",-1)])]),_:1}),ua(u,{size:"sm",variant:"secondary",onClick:t[17]||(t[17]=Eo(t=>e.clearFingeringSaxLayoutOverride(),["prevent"]))},{default:nn(()=>[...t[92]||(t[92]=[da("    ",-1)])]),_:1}),ua(u,{size:"sm",variant:"secondary",onClick:Eo(e.exportFingeringSaxLayoutOverride,["prevent"])},{default:nn(()=>[...t[93]||(t[93]=[da("   ",-1)])]),_:1},8,["onClick"]),ua(u,{size:"sm",variant:"secondary",onClick:Eo(e.triggerFingeringSaxLayoutOverrideImport,["prevent"])},{default:nn(()=>[...t[94]||(t[94]=[da("   ",-1)])]),_:1},8,["onClick"]),sa("input",{ref:"fingeringLayoutFileInput",type:"file",accept:"application/json,.json",class:"hidden",onChange:t[18]||(t[18]=(...t)=>e.onFingeringLayoutFileChange&&e.onFingeringLayoutFileChange(...t))},null,544)]),e.showFingeringLayoutEditor?(Yr(),na("div",ob,[t[110]||(t[110]=sa("div",{class:"text-xs text-gray-400 mb-2"},[da("    JSON (). "),sa("strong",{class:"text-gray-200"},"idx(0..23) "),da(", row/col      . ")],-1)),ua(d,{layout:e.fingeringSaxLayoutForDragEditor,labels:e.fingeringKeyLabels,"usable-mask":e.fingeringUiUsableKeyMask,"hide-unusable-keys":e.hideUnusableFingeringKeys,"onUpdate:layout":e.onFingeringSaxLayoutDragUpdate},null,8,["layout","labels","usable-mask","hide-unusable-keys","onUpdate:layout"]),e.fingeringLayoutAutoRelocateNotice?(Yr(),na("div",ib,X(e.fingeringLayoutAutoRelocateNotice),1)):fa("",!0),sa("div",lb,[t[108]||(t[108]=sa("div",{class:"text-xs text-gray-300 font-semibold mb-2"}," ",-1)),sa("div",sb,[rn(sa("input",{"onUpdate:modelValue":t[19]||(t[19]=t=>e.fingeringLayoutPresetNameDraft=t),class:"text-sm px-2 py-1 border border-gray-700 rounded bg-transparent text-gray-200",style:{"min-width":"200px"},placeholder:"  "},null,512),[[yo,e.fingeringLayoutPresetNameDraft]]),ua(u,{size:"sm",variant:"secondary",onClick:Eo(e.addFingeringLayoutPresetFromCurrent,["prevent"])},{default:nn(()=>[...t[97]||(t[97]=[da("    ",-1)])]),_:1},8,["onClick"]),t[103]||(t[103]=sa("div",{class:"flex-grow"},null,-1)),rn(sa("select",{"onUpdate:modelValue":t[20]||(t[20]=t=>e.selectedFingeringLayoutPresetId=t),class:"text-sm px-2 py-1 border border-gray-700 rounded bg-transparent text-gray-200",style:{"min-width":"220px"}},[t[98]||(t[98]=sa("option",{value:null},"( )",-1)),(Yr(!0),na(zr,null,jn(e.fingeringLayoutPresets,t=>(Yr(),na("option",{key:t.id,value:t.id},[da(X(t.name)+" ",1),e.activeFingeringLayoutPresetId===t.id?(Yr(),na("span",cb,"()")):fa("",!0)],8,ub))),128))],512),[[xo,e.selectedFingeringLayoutPresetId]]),ua(u,{size:"sm",variant:"secondary",disabled:!e.selectedFingeringLayoutPresetId,onClick:t[21]||(t[21]=Eo(t=>e.applyFingeringLayoutPreset(e.selectedFingeringLayoutPresetId),["prevent"]))},{default:nn(()=>[...t[99]||(t[99]=[da("  ",-1)])]),_:1},8,["disabled"]),ua(u,{size:"sm",variant:"secondary",disabled:!e.selectedFingeringLayoutPresetId,onClick:Eo(e.updateSelectedFingeringLayoutPresetFromCurrent,["prevent"])},{default:nn(()=>[...t[100]||(t[100]=[da("  ",-1)])]),_:1},8,["disabled","onClick"]),ua(u,{size:"sm",variant:"secondary",disabled:!e.selectedFingeringLayoutPresetId,onClick:Eo(e.renameSelectedFingeringLayoutPreset,["prevent"])},{default:nn(()=>[...t[101]||(t[101]=[da("   ",-1)])]),_:1},8,["disabled","onClick"]),ua(u,{size:"sm",variant:"danger",disabled:!e.selectedFingeringLayoutPresetId,onClick:Eo(e.deleteSelectedFingeringLayoutPreset,["prevent"])},{default:nn(()=>[...t[102]||(t[102]=[da("  ",-1)])]),_:1},8,["disabled","onClick"])]),sa("div",db,[ua(u,{size:"sm",variant:"secondary",disabled:!e.selectedFingeringLayoutPresetId,onClick:Eo(e.exportSelectedFingeringLayoutPreset,["prevent"])},{default:nn(()=>[...t[104]||(t[104]=[da("   ",-1)])]),_:1},8,["disabled","onClick"]),ua(u,{size:"sm",variant:"secondary",onClick:Eo(e.triggerFingeringLayoutPresetImport,["prevent"])},{default:nn(()=>[...t[105]||(t[105]=[da("   ",-1)])]),_:1},8,["onClick"]),sa("input",{ref:"fingeringLayoutPresetFileInput",type:"file",accept:"application/json,.json",class:"hidden",onChange:t[22]||(t[22]=(...t)=>e.onFingeringLayoutPresetFileChange&&e.onFingeringLayoutPresetFileChange(...t))},null,544),t[106]||(t[106]=sa("div",{class:"flex-grow"},null,-1)),t[107]||(t[107]=sa("div",{class:"text-[11px] text-gray-500"},"  :  / localStorage ",-1))])]),sa("textarea",{class:"w-full text-xs px-2 py-2 border border-gray-700 rounded bg-transparent text-gray-200 font-mono",style:{"min-height":"220px"},value:e.fingeringSaxLayoutOverrideText,onInput:t[23]||(t[23]=t=>e.onFingeringSaxLayoutOverrideInput(t)),onCompositionstart:t[24]||(t[24]=(...t)=>e.onFingeringSaxLayoutOverrideCompositionStart&&e.onFingeringSaxLayoutOverrideCompositionStart(...t)),onCompositionend:t[25]||(t[25]=t=>e.onFingeringSaxLayoutOverrideCompositionEnd(t))},null,40,pb),e.fingeringSaxLayoutOverrideError?(Yr(),na("div",fb,[da(X(e.fingeringSaxLayoutOverrideError)+" ",1),t[109]||(t[109]=sa("span",{class:"ml-2 text-gray-500"},"(    )",-1))])):fa("",!0)])):fa("",!0)])):fa("",!0),t[170]||(t[170]=sa("p",{class:"text-sm mb-3"},"  (  )  (0-127)  .       ,   ()      . ",-1)),e.showFingeringTable?(Yr(),na("div",gb,["unsupported"===e.fingeringSupport?(Yr(),ra(p,{key:0,custom:"h-20",title:"     ."})):(Yr(),na("div",hb,[sa("span",null,[t[111]||(t[111]=da("  : ",-1)),sa("strong",mb,X("supported"===e.fingeringSupport?"":"unsupported"===e.fingeringSupport?"":""),1)]),sa("span",null,[t[112]||(t[112]=da(" : ",-1)),sa("strong",vb,X(e.fingeringEntryCount),1)]),t[114]||(t[114]=sa("div",{class:"flex-grow"},null,-1)),ua(u,{size:"sm",variant:"secondary",onClick:Eo(e.reloadFingering,["prevent"])},{default:nn(()=>[...t[113]||(t[113]=[da("  ",-1)])]),_:1},8,["onClick"])])),"unsupported"!==e.fingeringSupport?(Yr(),na("div",yb,[sa("div",bb,[rn(sa("input",{"onUpdate:modelValue":t[26]||(t[26]=t=>e.fingeringFilterText=t),class:"text-sm px-2 py-1 border border-gray-700 rounded bg-transparent text-gray-200",style:{"min-width":"220px"},placeholder:"#(1-128), (: 1,2,3), (: 60  C4)"},null,512),[[yo,e.fingeringFilterText]]),sa("div",Lb,[t[115]||(t[115]=da("  () ",-1)),sa("strong",xb,X(e.fingeringActiveEntryCount),1),sa("span",wb,"( #1 ~ #"+X(e.fingeringActiveEntryCount)+" )",1)]),sa("div",Cb,[sa("div",Sb,[t[116]||(t[116]=da("  : ",-1)),sa("strong",kb,X(e.fingeringUsableKeyCount),1),t[117]||(t[117]=da(" / 24 ",-1))]),sa("div",Ib,[ua(u,{size:"sm",variant:"secondary",disabled:"unsupported"===e.fingeringSupport,onClick:t[27]||(t[27]=Eo(t=>e.applyFingeringControllerPreset("sax24"),["prevent"]))},{default:nn(()=>[...t[118]||(t[118]=[da(" (24) ",-1)])]),_:1},8,["disabled"]),ua(u,{size:"sm",variant:"secondary",disabled:"unsupported"===e.fingeringSupport,onClick:t[28]||(t[28]=Eo(t=>e.showFingeringUsableKeySelector=!e.showFingeringUsableKeySelector,["prevent"]))},{default:nn(()=>[da(X(e.showFingeringUsableKeySelector?"  ":"  "),1)]),_:1},8,["disabled"])]),t[120]||(t[120]=sa("span",{class:"text-[11px] text-gray-500"},"   / /  ",-1)),sa("label",Eb,[rn(sa("input",{type:"checkbox","onUpdate:modelValue":t[29]||(t[29]=t=>e.hideUnusableFingeringKeys=t)},null,512),[[bo,e.hideUnusableFingeringKeys]]),t[119]||(t[119]=da("    ",-1))])]),e.showFingeringUsableKeySelector&&"unsupported"!==e.fingeringSupport?(Yr(),na("div",Mb,[t[122]||(t[122]=sa("div",{class:"text-[11px] text-gray-400 mb-2"},"   () .   / . ",-1)),sa("label",_b,[rn(sa("input",{type:"checkbox","onUpdate:modelValue":t[30]||(t[30]=t=>e.hideUnselectedKeysInKeySelector=t)},null,512),[[bo,e.hideUnselectedKeysInKeySelector]]),t[121]||(t[121]=da("    ",-1))]),ua(f,{mask:e.fingeringUiUsableKeyMask,disabled:"unsupported"===e.fingeringSupport,"key-count":24,labels:e.fingeringKeyLabels,"show-index":!0,"layout-mode":"grouped","sax-layout-override":e.fingeringSaxLayoutOverride,"visible-mask":e.hideUnselectedKeysInKeySelector?e.fingeringUiUsableKeyMask:null,"onUpdate:mask":t[31]||(t[31]=t=>e.fingeringUiUsableKeyMask=t)},null,8,["mask","disabled","labels","sax-layout-override","visible-mask"]),t[123]||(t[123]=sa("div",{class:"text-[11px] text-gray-500 mt-2"}," :  (: 0,1,2,4,5...)    . ",-1))])):fa("",!0),sa("label",Tb,[rn(sa("input",{type:"checkbox","onUpdate:modelValue":t[32]||(t[32]=t=>e.fingeringFilterOnlyEnabled=t)},null,512),[[bo,e.fingeringFilterOnlyEnabled]]),t[124]||(t[124]=da("   ",-1))]),sa("label",Nb,[rn(sa("input",{type:"checkbox","onUpdate:modelValue":t[33]||(t[33]=t=>e.fingeringFilterOnlyWithKeys=t)},null,512),[[bo,e.fingeringFilterOnlyWithKeys]]),t[125]||(t[125]=da("   ",-1))]),sa("label",Db,[rn(sa("input",{type:"checkbox","onUpdate:modelValue":t[34]||(t[34]=t=>e.fingeringFilterOnlyWithNote=t)},null,512),[[bo,e.fingeringFilterOnlyWithNote]]),t[126]||(t[126]=da("   ",-1))]),ua(u,{size:"sm",variant:"secondary",onClick:Eo(e.resetFingeringFilters,["prevent"])},{default:nn(()=>[...t[127]||(t[127]=[da("  ",-1)])]),_:1},8,["onClick"]),ua(u,{size:"sm",variant:"secondary",disabled:e.fingeringLoading,onClick:t[35]||(t[35]=Eo(t=>e.showFingeringCapturePanel=!e.showFingeringCapturePanel,["prevent"]))},{default:nn(()=>[da(X(e.showFingeringCapturePanel?" ":""),1)]),_:1},8,["disabled"]),t[129]||(t[129]=sa("div",{class:"flex-grow"},null,-1)),sa("div",Rb,[t[128]||(t[128]=da(" : ",-1)),sa("strong",Pb,X(e.visibleFingeringEntries.length),1),da(" / "+X(e.fingeringActiveEntryCount),1)])])])):fa("",!0),e.showFingeringCapturePanel?(Yr(),na("div",Ab,[sa("div",{class:"absolute inset-0 bg-black bg-opacity-60",onClick:t[36]||(t[36]=Eo(t=>e.showFingeringCapturePanel=!1,["prevent"]))}),sa("div",Ob,[sa("div",{ref:"capturePanelCardEl",class:"absolute surface-neutral border rounded w-full flex flex-col shadow-xl pointer-events-auto",style:B([{"max-width":"640px","max-height":"calc(100% - 2rem)"},e.capturePanelCardStyle])},[sa("div",Fb,[sa("div",{class:"text-sm text-gray-200 font-semibold cursor-move",title:"  ",onPointerdown:t[37]||(t[37]=(...t)=>e.onCapturePanelDragStart&&e.onCapturePanelDragStart(...t))},"   ",32),t[132]||(t[132]=sa("div",{class:"text-[11px] text-gray-500"},"  ( ) ,     . ",-1)),t[133]||(t[133]=sa("div",{class:"flex-grow"},null,-1)),ua(u,{size:"sm",variant:"secondary",onClick:Eo(e.resetCapturePanelPosition,["prevent"])},{default:nn(()=>[...t[130]||(t[130]=[da("   ",-1)])]),_:1},8,["onClick"]),ua(u,{size:"sm",variant:"secondary",onClick:t[38]||(t[38]=Eo(t=>e.showFingeringCapturePanel=!1,["prevent"]))},{default:nn(()=>[...t[131]||(t[131]=[da("  ",-1)])]),_:1})]),sa("div",Bb,[sa("div",Ub,[sa("label",Vb,[rn(sa("input",{type:"checkbox","onUpdate:modelValue":t[39]||(t[39]=t=>e.capturePanelManualMode=t)},null,512),[[bo,e.capturePanelManualMode]]),t[134]||(t[134]=da("  ( ) ",-1))]),ua(u,{size:"sm",variant:"secondary",disabled:e.fingeringLoading,onClick:Eo(e.clearCapturePanelSelection,["prevent"]),title:"   "},{default:nn(()=>[...t[135]||(t[135]=[da("   ",-1)])]),_:1},8,["disabled","onClick"]),ua(u,{size:"sm",variant:"secondary",disabled:!e.isConnected||"supported"!==e.fingeringSupport||e.fingeringLoading,onClick:Eo(e.clearCapturePanelDevicePressedMask,["prevent"]),title:"Nextion(Latching)      "},{default:nn(()=>[...t[136]||(t[136]=[da("    ",-1)])]),_:1},8,["disabled","onClick"]),ua(u,{size:"sm",variant:"secondary",disabled:e.capturePanelManualMode||!e.isConnected||"supported"!==e.fingeringSupport||e.fingeringLoading,onClick:Eo(e.refreshCapturePanelPressedMask,["prevent"])},{default:nn(()=>[...t[137]||(t[137]=[da("    ",-1)])]),_:1},8,["disabled","onClick"]),sa("div",$b,[t[138]||(t[138]=da("  ( ): ",-1)),sa("strong",Gb,X(e.capturePanelPressedKeyCount)+"",1),sa("span",Hb,"(: "+X(e.capturePanelPressedKeysText||"-")+")",1),sa("span",qb,X(e.capturePanelPressedMaskHex),1)]),sa("div",jb,[sa("label",zb,[rn(sa("input",{type:"checkbox","onUpdate:modelValue":t[40]||(t[40]=t=>e.capturePanelContinuousMode=t)},null,512),[[bo,e.capturePanelContinuousMode]]),t[139]||(t[139]=da("   ",-1))]),t[141]||(t[141]=sa("label",{class:"text-xs text-gray-200"},"(0-127)",-1)),rn(sa("input",{ref:"capturePanelNoteInput","onUpdate:modelValue":t[41]||(t[41]=t=>e.capturePanelNoteDraft=t),class:"text-sm px-2 py-1 border border-gray-700 rounded bg-transparent text-gray-200",style:{width:"110px"},type:"number",min:"0",max:"127",step:"1",placeholder:": 60",title:"   (Shift=12)",onWheel:t[42]||(t[42]=(...t)=>e.onCapturePanelNoteWheel&&e.onCapturePanelNoteWheel(...t))},null,544),[[yo,e.capturePanelNoteDraft]]),ua(u,{size:"sm",variant:"primary",disabled:!e.isConnected||"supported"!==e.fingeringSupport||e.fingeringLoading,onClick:Eo(e.saveCapturePanelToNote,["prevent"])},{default:nn(()=>[...t[140]||(t[140]=[da("  ",-1)])]),_:1},8,["disabled","onClick"])]),t[142]||(t[142]=sa("div",{class:"flex-grow"},null,-1))]),sa("div",Wb,X(e.capturePanelStatusText),1),sa("div",Kb,[sa("div",Xb,[t[143]||(t[143]=sa("div",{class:"text-xs text-gray-200 font-semibold"},"  ",-1)),t[144]||(t[144]=sa("div",{class:"text-[11px] text-gray-400"},[da(" Nextion       "),sa("span",{class:"font-mono"},"Latching"),da("  .   Buttons  Touchscreen (24)  "),sa("span",{class:"font-mono"},"Type=Latching"),da("  ("),sa("span",{class:"font-mono"},"0..23"),da(")  . (: "),sa("span",{class:"font-mono"},"Sax Fingering Key (no MIDI)"),da(") ")],-1)),t[145]||(t[145]=sa("div",{class:"flex-grow"},null,-1)),ua(u,{size:"sm",variant:"secondary",disabled:!e.isConnected||"supported"!==e.fingeringSupport||e.fingeringLoading||e.touchscreenFingeringSetupBusy,onClick:t[43]||(t[43]=Eo(t=>e.setupTouchscreenFingeringButtons("no-midi"),["prevent"])),title:" 24    "},{default:nn(()=>[da(X(e.touchscreenFingeringSetupBusy?" ...":"  24 ()"),1)]),_:1},8,["disabled"]),ua(u,{size:"sm",variant:"secondary",disabled:!e.isConnected||"supported"!==e.fingeringSupport||e.fingeringLoading||e.touchscreenFingeringSetupBusy,onClick:t[44]||(t[44]=Eo(t=>e.setupTouchscreenFingeringButtons("disable"),["prevent"])),title:"  :  24  ( )"},{default:nn(()=>[da(X(e.touchscreenFingeringSetupBusy?" ...":"24 "),1)]),_:1},8,["disabled"])]),e.touchscreenFingeringSetupNotice?(Yr(),na("div",{key:0,class:H(["mt-1 text-[11px]",e.touchscreenFingeringSetupNoticeIsError?"text-red-400":"text-green-300"])},X(e.touchscreenFingeringSetupNotice),3)):fa("",!0)]),sa("div",Qb,[t[146]||(t[146]=sa("div",{class:"text-xs text-gray-200 mb-1"}," ()",-1)),ua(f,{mask:e.capturePanelPressedMask,disabled:!e.capturePanelManualMode,"onUpdate:mask":t[45]||(t[45]=t=>e.capturePanelPressedMask=t),"key-count":24,"usable-mask":e.fingeringUiUsableKeyMask,"hide-unusable-keys":!1,labels:e.fingeringKeyLabels,"show-index":e.showFingeringKeyIndex,"layout-mode":e.fingeringKeyPadLayoutMode,"sax-layout-override":e.fingeringSaxLayoutOverride},null,8,["mask","disabled","usable-mask","labels","show-index","layout-mode","sax-layout-override"]),t[147]||(t[147]=sa("div",{class:"text-[11px] text-gray-500 mt-1"},"          . ",-1))]),t[148]||(t[148]=sa("div",{class:"text-[11px] text-gray-500 mt-3"}," : ESC    .         . ",-1))])],4)])])):fa("",!0),"unsupported"!==e.fingeringSupport?(Yr(),na("div",Zb,[sa("div",Yb,[t[152]||(t[152]=sa("div",{class:"text-xs text-gray-300 font-semibold"}," ",-1)),sa("select",{class:"text-sm px-2 py-1 border border-gray-700 rounded bg-transparent text-gray-200",value:e.fingeringKeyLabelPreset,onChange:t[46]||(t[46]=t=>e.onFingeringLabelPresetChange(t))},[...t[149]||(t[149]=[sa("option",{value:"sax"}," ()",-1),sa("option",{value:"numbers"},"0-23 ",-1)])],40,Jb),sa("label",eL,[rn(sa("input",{type:"checkbox","onUpdate:modelValue":t[47]||(t[47]=t=>e.showFingeringKeyIndex=t)},null,512),[[bo,e.showFingeringKeyIndex]]),t[150]||(t[150]=da(" (#0-23)  ",-1))]),ua(u,{size:"sm",variant:"secondary",onClick:t[48]||(t[48]=Eo(t=>e.showFingeringLabelEditor=!e.showFingeringLabelEditor,["prevent"]))},{default:nn(()=>[da(X(e.showFingeringLabelEditor?"  ":" "),1)]),_:1}),t[153]||(t[153]=sa("div",{class:"flex-grow"},null,-1)),ua(u,{size:"sm",variant:"secondary",onClick:t[49]||(t[49]=Eo(t=>e.resetFingeringLabelsToPreset(),["prevent"]))},{default:nn(()=>[...t[151]||(t[151]=[da("   ",-1)])]),_:1})]),e.showFingeringLabelEditor?(Yr(),na("div",tL,[t[154]||(t[154]=sa("div",{class:"text-xs text-gray-400 mb-2"},[da("  "),sa("strong",{class:"text-gray-200"}," #0"),da(" ~ "),sa("strong",{class:"text-gray-200"}," #23"),da("  1 1 . ")],-1)),sa("textarea",{class:"w-full text-sm px-2 py-2 border border-gray-700 rounded bg-transparent text-gray-200 font-mono",style:{"min-height":"220px"},value:e.fingeringKeyLabelsText,onInput:t[50]||(t[50]=t=>e.onFingeringKeyLabelsTextInput(t)),onCompositionstart:t[51]||(t[51]=(...t)=>e.onFingeringKeyLabelsTextCompositionStart&&e.onFingeringKeyLabelsTextCompositionStart(...t)),onCompositionend:t[52]||(t[52]=t=>e.onFingeringKeyLabelsTextCompositionEnd(t))},null,40,nL),t[155]||(t[155]=sa("div",{class:"text-[11px] text-gray-500 mt-2"}," :  UI   /  . ",-1))])):fa("",!0)])):fa("",!0),"horizontal"===e.fingeringEntryLayoutMode?(Yr(),na("div",{key:5,ref:"fingeringEntriesScrollEl",onScrollPassive:t[53]||(t[53]=(...t)=>e.updateFingeringScrollButtons&&e.updateFingeringScrollButtons(...t)),class:"flex gap-2 overflow-x-auto pb-2",style:{"scrollbar-gutter":"stable","scroll-snap-type":"x mandatory","scroll-padding-left":"4px","scroll-padding-right":"4px"}},[(Yr(!0),na(zr,null,jn(e.visibleFingeringEntries,n=>(Yr(),na("div",{key:`fing-${n.index}`,ref_for:!0,ref:e.setFingeringEntryEl(n.index),"data-fingering-entry":n.index,class:H(["surface-neutral border rounded px-2 py-2 flex-none",{"ring-2 ring-blue-500":e.activeFingeringEntryIndex===n.index,"opacity-80":!n.enabled}]),style:{width:"340px","scroll-snap-align":"start"}},[sa("div",aL,[sa("div",oL,[sa("strong",null,"#"+X(n.index+1),1)]),sa("div",iL,[sa("label",lL,[sa("input",{type:"checkbox",checked:n.enabled,onChange:t=>e.onFingeringEnabledChange(n.index,t)},null,40,sL),t[156]||(t[156]=da(" () ",-1))])])]),n.enabled?fa("",!0):(Yr(),na("div",uL," :    . ( ) ")),t[162]||(t[162]=sa("label",{class:"text-xs text-gray-200 block mb-1"},"  ( )",-1)),ua(f,{class:"mb-2",mask:n.mask,disabled:e.fingeringLoading||!e.isConnected||"supported"!==e.fingeringSupport,"key-count":24,"usable-mask":e.fingeringUiUsableKeyMask,"hide-unusable-keys":e.hideUnusableFingeringKeys,labels:e.fingeringKeyLabels,"show-index":e.showFingeringKeyIndex,"layout-mode":e.fingeringKeyPadLayoutMode,"sax-layout-override":e.fingeringSaxLayoutOverride,"onUpdate:mask":t=>e.setFingeringMask(n.index,t)},null,8,["mask","disabled","usable-mask","hide-unusable-keys","labels","show-index","layout-mode","sax-layout-override","onUpdate:mask"]),sa("div",cL,[t[157]||(t[157]=sa("div",{class:"text-xs text-gray-200 font-semibold"},"/",-1)),t[158]||(t[158]=sa("div",{class:"flex-grow"},null,-1)),ua(u,{size:"sm",variant:"secondary",onClick:Eo(t=>e.toggleFingeringEntryDetails(n.index),["prevent"])},{default:nn(()=>[da(X(e.isFingeringEntryDetailsOpen(n.index)?"":""),1)]),_:2},1032,["onClick"])]),rn(sa("div",null,[e.getNoteAlternativesForEntry(n.index,n.note).length?(Yr(),na("div",dL,[t[159]||(t[159]=sa("div",{class:"text-[11px] text-gray-300 font-semibold mb-1"},"( ) -  3",-1)),sa("div",pL,[(Yr(!0),na(zr,null,jn(e.getNoteAlternativesForEntry(n.index,n.note),t=>(Yr(),na("button",{key:`alt-note-${n.index}-${t}`,type:"button",class:"text-left text-[11px] text-gray-200 hover:text-white",onClick:Eo(n=>e.jumpToFingeringEntry(t),["prevent"])},[sa("span",gL,"#"+X(t+1),1),sa("span",hL,X(e.fingeringEntries[t]?.keysText),1),e.fingeringEntries[t]?.enabled?fa("",!0):(Yr(),na("span",mL,"()"))],8,fL))),128))])])):fa("",!0),t[160]||(t[160]=sa("label",{class:"text-[11px] text-gray-300 block mt-2 mb-1"},"  ()",-1)),sa("input",{class:"form-input mt-1 py-1 text-sm block w-full font-mono",value:n.keysText,disabled:e.fingeringLoading||!e.isConnected||"supported"!==e.fingeringSupport,onChange:t=>e.onFingeringKeysChange(n.index,t)},null,40,vL),t[161]||(t[161]=sa("label",{class:"text-xs text-gray-200 block mt-3 mb-1"}," (0-127)",-1)),sa("input",{class:"form-input mt-1 py-1 text-sm block w-full",type:"number",min:"0",max:"127",value:n.note,disabled:e.fingeringLoading||!e.isConnected||"supported"!==e.fingeringSupport,ref_for:!0,ref:e.setFingeringNoteInputEl(n.index),onChange:t=>e.onFingeringNoteChange(n.index,t)},null,40,yL)],512),[[Wa,e.isFingeringEntryDetailsOpen(n.index)]])],10,rL))),128))],544)):(Yr(),na("div",bL,[(Yr(!0),na(zr,null,jn(e.visibleFingeringEntries,n=>(Yr(),na("div",{key:`fing-${n.index}`,ref_for:!0,ref:e.setFingeringEntryEl(n.index),"data-fingering-entry":n.index,class:H(["surface-neutral border rounded px-2 py-2",{"ring-2 ring-blue-500":e.activeFingeringEntryIndex===n.index,"opacity-80":!n.enabled}])},[sa("div",xL,[sa("div",wL,[sa("strong",null,"#"+X(n.index+1),1)]),sa("div",CL,[sa("label",SL,[sa("input",{type:"checkbox",checked:n.enabled,onChange:t=>e.onFingeringEnabledChange(n.index,t)},null,40,kL),t[163]||(t[163]=da(" () ",-1))])])]),n.enabled?fa("",!0):(Yr(),na("div",IL," :    . ( ) ")),t[169]||(t[169]=sa("label",{class:"text-xs text-gray-200 block mb-1"},"  ( )",-1)),ua(f,{class:"mb-2",mask:n.mask,disabled:e.fingeringLoading||!e.isConnected||"supported"!==e.fingeringSupport,"key-count":24,"usable-mask":e.fingeringUiUsableKeyMask,"hide-unusable-keys":e.hideUnusableFingeringKeys,labels:e.fingeringKeyLabels,"show-index":e.showFingeringKeyIndex,"layout-mode":e.fingeringKeyPadLayoutMode,"sax-layout-override":e.fingeringSaxLayoutOverride,"onUpdate:mask":t=>e.setFingeringMask(n.index,t)},null,8,["mask","disabled","usable-mask","hide-unusable-keys","labels","show-index","layout-mode","sax-layout-override","onUpdate:mask"]),sa("div",EL,[t[164]||(t[164]=sa("div",{class:"text-xs text-gray-200 font-semibold"},"/",-1)),t[165]||(t[165]=sa("div",{class:"flex-grow"},null,-1)),ua(u,{size:"sm",variant:"secondary",onClick:Eo(t=>e.toggleFingeringEntryDetails(n.index),["prevent"])},{default:nn(()=>[da(X(e.isFingeringEntryDetailsOpen(n.index)?"":""),1)]),_:2},1032,["onClick"])]),rn(sa("div",null,[e.getNoteAlternativesForEntry(n.index,n.note).length?(Yr(),na("div",ML,[t[166]||(t[166]=sa("div",{class:"text-[11px] text-gray-300 font-semibold mb-1"},"( ) -  3",-1)),sa("div",_L,[(Yr(!0),na(zr,null,jn(e.getNoteAlternativesForEntry(n.index,n.note),t=>(Yr(),na("button",{key:`alt-note-grid-${n.index}-${t}`,type:"button",class:"text-left text-[11px] text-gray-200 hover:text-white",onClick:Eo(n=>e.jumpToFingeringEntry(t),["prevent"])},[sa("span",NL,"#"+X(t+1),1),sa("span",DL,X(e.fingeringEntries[t]?.keysText),1),e.fingeringEntries[t]?.enabled?fa("",!0):(Yr(),na("span",RL,"()"))],8,TL))),128))])])):fa("",!0),t[167]||(t[167]=sa("label",{class:"text-[11px] text-gray-300 block mt-2 mb-1"},"  ()",-1)),sa("input",{class:"form-input mt-1 py-1 text-sm block w-full font-mono",value:n.keysText,disabled:e.fingeringLoading||!e.isConnected||"supported"!==e.fingeringSupport,onChange:t=>e.onFingeringKeysChange(n.index,t)},null,40,PL),t[168]||(t[168]=sa("label",{class:"text-xs text-gray-200 block mt-3 mb-1"}," (0-127)",-1)),sa("input",{class:"form-input mt-1 py-1 text-sm block w-full",type:"number",min:"0",max:"127",value:n.note,disabled:e.fingeringLoading||!e.isConnected||"supported"!==e.fingeringSupport,ref_for:!0,ref:e.setFingeringNoteInputEl(n.index),onChange:t=>e.onFingeringNoteChange(n.index,t)},null,40,AL)],512),[[Wa,e.isFingeringEntryDetailsOpen(n.index)]])],10,LL))),128))]))])):fa("",!0)],2)])]),_:1})],32)},cy.__scopeId="data-v-5c8ff5d0";var OL=mn({name:"MidiSaxophone",components:{MidiSaxophoneCanonical:cy},setup(){const e=xt(null),t=Aa(()=>"/?capture=1#/midisaxophone");return Bn((t,n,r)=>(e.value={message:t instanceof Error?t.message:String(t),info:r},!1)),{error:e,captureOnlyHref:t}}});const FL={key:0,class:"w-full px-4 sm:px-6 lg:px-8 pt-4"},BL={class:"surface-neutral border border-red-700/60 rounded px-4 py-3 text-sm"},UL={class:"mt-1 text-red-200/90 text-xs whitespace-pre-wrap"},VL={key:0,class:"mt-1 text-red-200/70 text-[11px] whitespace-pre-wrap"},$L={class:"mt-3 text-xs text-gray-300"},GL=["href"];OL.render=function(e,t,n,r,a,o){const i=Vn("MidiSaxophoneCanonical");return e.error?(Yr(),na("div",FL,[sa("div",BL,[t[1]||(t[1]=sa("div",{class:"text-red-300 font-semibold"},"MIDI    ",-1)),sa("div",UL,X(e.error.message),1),e.error.info?(Yr(),na("div",VL,X(e.error.info),1)):fa("",!0),sa("div",$L,[t[0]||(t[0]=da("    : ",-1)),sa("a",{class:"underline",href:e.captureOnlyHref},"  ",8,GL)])])])):(Yr(),ra(i,{key:1}))};const HL=[{name:"midisaxophone",path:"/midisaxophone",component:OL}];var qL;const jL=function(e){const t=Yi(e.routes,e),n=e.parseQuery||Si,r=e.stringifyQuery||ki,a=e.history,o=Di(),i=Di(),l=Di(),s=wt(ui,!0);let u=ui;To&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Ro.bind(null,e=>""+e),d=Ro.bind(null,ei),p=Ro.bind(null,ti);function f(e,o){if(o=Do({},o||s.value),"string"==typeof e){const r=ri(n,e,o.path),i=t.resolve({path:r.path},o),l=a.createHref(r.fullPath);return Do(r,i,{params:p(i.params),hash:ti(r.hash),redirectedFrom:void 0,href:l})}let i;if(null!=e.path)i=Do({},e,{path:ri(n,e.path,o.path).path});else{const t=Do({},e.params);for(const e in t)null==t[e]&&delete t[e];i=Do({},e,{params:d(t)}),o.params=d(o.params)}const l=t.resolve(i,o),u=e.hash||"";l.params=c(p(l.params));const f=function(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}(r,Do({},e,{hash:(g=u,Zo(g).replace(Wo,"{").replace(Xo,"}").replace(jo,"^")),path:l.path}));var g;const h=a.createHref(f);return Do({fullPath:f,hash:u,query:r===ki?Ii(e.query):e.query||{}},l,{redirectedFrom:void 0,href:h})}function g(e){return"string"==typeof e?ri(n,e,s.value.path):Do({},e)}function h(e,t){if(u!==e)return wi(Li.NAVIGATION_CANCELLED,{from:t,to:e})}function m(e){return y(e)}function v(e,t){const n=e.matched[e.matched.length-1];if(n&&n.redirect){const{redirect:r}=n;let a="function"==typeof r?r(e,t):r;return"string"==typeof a&&(a=a.includes("?")||a.includes("#")?a=g(a):{path:a},a.params={}),Do({query:e.query,hash:e.hash,params:null!=a.path?{}:e.params},a)}}function y(e,t){const n=u=f(e),a=s.value,o=e.state,i=e.force,l=!0===e.replace,c=v(n,a);if(c)return y(Do(g(c),{state:"object"==typeof c?Do({},o,c.state):o,force:i,replace:l}),t||n);const d=n;let p;return d.redirectedFrom=t,!i&&function(e,t,n){const r=t.matched.length-1,a=n.matched.length-1;return r>-1&&r===a&&oi(t.matched[r],n.matched[a])&&ii(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}(r,a,n)&&(p=wi(Li.NAVIGATION_DUPLICATED,{to:d,from:a}),N(a,a,!0,!1)),(p?Promise.resolve(p):x(d,a)).catch(e=>Ci(e)?Ci(e,Li.NAVIGATION_GUARD_REDIRECT)?e:T(e):_(e,d,a)).then(e=>{if(e){if(Ci(e,Li.NAVIGATION_GUARD_REDIRECT))return y(Do({replace:l},g(e.to),{state:"object"==typeof e.to?Do({},o,e.to.state):o,force:i}),t||d)}else e=C(d,a,!0,l,o);return w(d,a,e),e})}function b(e,t){const n=h(e,t);return n?Promise.reject(n):Promise.resolve()}function L(e){const t=P.values().next().value;return t&&"function"==typeof t.runWithContext?t.runWithContext(e):e()}function x(e,t){let n;const[r,a,l]=function(e,t){const n=[],r=[],a=[],o=Math.max(t.matched.length,e.matched.length);for(let i=0;i<o;i++){const o=t.matched[i];o&&(e.matched.find(e=>oi(e,o))?r.push(o):n.push(o));const l=e.matched[i];l&&(t.matched.find(e=>oi(e,l))||a.push(l))}return[n,r,a]}
/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */(e,t);n=Pi(r.reverse(),"beforeRouteLeave",e,t);for(const a of r)a.leaveGuards.forEach(r=>{n.push(Ri(r,e,t))});const s=b.bind(null,e,t);return n.push(s),O(n).then(()=>{n=[];for(const r of o.list())n.push(Ri(r,e,t));return n.push(s),O(n)}).then(()=>{n=Pi(a,"beforeRouteUpdate",e,t);for(const r of a)r.updateGuards.forEach(r=>{n.push(Ri(r,e,t))});return n.push(s),O(n)}).then(()=>{n=[];for(const r of l)if(r.beforeEnter)if(Ao(r.beforeEnter))for(const a of r.beforeEnter)n.push(Ri(a,e,t));else n.push(Ri(r.beforeEnter,e,t));return n.push(s),O(n)}).then(()=>(e.matched.forEach(e=>e.enterCallbacks={}),n=Pi(l,"beforeRouteEnter",e,t,L),n.push(s),O(n))).then(()=>{n=[];for(const r of i.list())n.push(Ri(r,e,t));return n.push(s),O(n)}).catch(e=>Ci(e,Li.NAVIGATION_CANCELLED)?e:Promise.reject(e))}function w(e,t,n){l.list().forEach(r=>L(()=>r(e,t,n)))}function C(e,t,n,r,o){const i=h(e,t);if(i)return i;const l=t===ui,u=To?history.state:{};n&&(r||l?a.replace(e.fullPath,Do({scroll:l&&u&&u.scroll},o)):a.push(e.fullPath,o)),s.value=e,N(e,t,n,l),T()}let S;function k(){S||(S=a.listen((e,t,n)=>{if(!A.listening)return;const r=f(e),o=v(r,A.currentRoute.value);if(o)return void y(Do(o,{replace:!0,force:!0}),r).catch(Po);u=r;const i=s.value;var l,c;To&&(l=vi(i.fullPath,n.delta),c=hi(),yi.set(l,c)),x(r,i).catch(e=>Ci(e,Li.NAVIGATION_ABORTED|Li.NAVIGATION_CANCELLED)?e:Ci(e,Li.NAVIGATION_GUARD_REDIRECT)?(y(Do(g(e.to),{force:!0}),r).then(e=>{Ci(e,Li.NAVIGATION_ABORTED|Li.NAVIGATION_DUPLICATED)&&!n.delta&&n.type===ci.pop&&a.go(-1,!1)}).catch(Po),Promise.reject()):(n.delta&&a.go(-n.delta,!1),_(e,r,i))).then(e=>{(e=e||C(r,i,!1))&&(n.delta&&!Ci(e,Li.NAVIGATION_CANCELLED)?a.go(-n.delta,!1):n.type===ci.pop&&Ci(e,Li.NAVIGATION_ABORTED|Li.NAVIGATION_DUPLICATED)&&a.go(-1,!1)),w(r,i,e)}).catch(Po)}))}let I,E=Di(),M=Di();function _(e,t,n){T(e);const r=M.list();return r.length?r.forEach(r=>r(e,t,n)):console.error(e),Promise.reject(e)}function T(e){return I||(I=!e,k(),E.list().forEach(([t,n])=>e?n(e):t()),E.reset()),e}function N(t,n,r,a){const{scrollBehavior:o}=e;if(!To||!o)return Promise.resolve();const i=!r&&function(e){const t=yi.get(e);return yi.delete(e),t}(vi(t.fullPath,0))||(a||!r)&&history.state&&history.state.scroll||null;return zt().then(()=>o(t,n,i)).then(e=>e&&mi(e)).catch(e=>_(e,t,n))}const D=e=>a.go(e);let R;const P=new Set,A={currentRoute:s,listening:!0,addRoute:function(e,n){let r,a;return bi(e)?(r=t.getRecordMatcher(e),a=n):a=e,t.addRoute(a,r)},removeRoute:function(e){const n=t.getRecordMatcher(e);n&&t.removeRoute(n)},clearRoutes:t.clearRoutes,hasRoute:function(e){return!!t.getRecordMatcher(e)},getRoutes:function(){return t.getRoutes().map(e=>e.record)},resolve:f,options:e,push:m,replace:function(e){return m(Do(g(e),{replace:!0}))},go:D,back:()=>D(-1),forward:()=>D(1),beforeEach:o.add,beforeResolve:i.add,afterEach:l.add,onError:M.add,isReady:function(){return I&&s.value!==ui?Promise.resolve():new Promise((e,t)=>{E.add([e,t])})},install(e){e.component("RouterLink",il),e.component("RouterView",cl),e.config.globalProperties.$router=A,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>St(s)}),To&&!R&&s.value===ui&&(R=!0,m(a.location).catch(e=>{}));const t={};for(const e in ui)Object.defineProperty(t,e,{get:()=>s.value[e],enumerable:!0});e.provide(_i,A),e.provide(Ti,ut(t)),e.provide(Ni,s);const n=e.unmount;P.add(e),e.unmount=function(){P.delete(e),P.size<1&&(u=ui,S&&S(),S=null,s.value=ui,R=!1,I=!1),n()}}};function O(e){return e.reduce((e,t)=>e.then(()=>L(t)),Promise.resolve())}return A}({history:((qL=location.host?qL||location.pathname+location.search:"").includes("#")||(qL+="#"),Bi(qL)),routes:[...qh,...HL,...Zm,{path:"/:pathMatch(.*)*",redirect:{name:"home"}}]});var zL=mn({name:"Chevron",props:{type:{type:String,default:"left",validate:e=>["left","right"].includes(e)}}});const WL={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},KL={key:0,d:"M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z"},XL={key:1,d:"M7.05 9.293L6.343 10 12 15.657l1.414-1.414L9.172 10l4.242-4.243L12 4.343z"};zL.render=function(e,t,n,r,a,o){return Yr(),na("svg",WL,["right"===e.type?(Yr(),na("path",KL)):(Yr(),na("path",XL))])};var QL=mn({name:"Hero",props:{title:{type:String,default:null},custom:{type:String,default:""}}});const ZL={class:"max-w-sm mx-auto flex-1 align-middle"};QL.render=function(e,t,n,r,a,o){return Yr(),na("div",{class:H(["flex justify-center items-center surface-elevated border-b text-center",e.custom])},[zn(e.$slots,"default",{},()=>[sa("h3",ZL,X(e.title),1)])],2)};var YL=mn({name:"Button",props:{disabled:{default:!1,type:Boolean}}});const JL=["disabled"];YL.render=function(e,t,n,r,a,o){return Yr(),na("button",{disabled:e.disabled,class:"btn"},[zn(e.$slots,"default")],8,JL)};var ex=mn({name:"ButtonLink",props:{to:{required:!0,type:[Object,Boolean]}}});ex.render=function(e,t,n,r,a,o){const i=Vn("router-link");return Yr(),ra(i,{to:e.to,class:"btn"},{default:nn(()=>[zn(e.$slots,"default")]),_:3},8,["to"])};var tx=mn({name:"Section",props:{title:{type:String,default:null},showContent:{type:Boolean,default:!0},wide:{type:Boolean,default:!1}}});const nx={key:0,class:"section-heading"},rx={class:"section-heading-inner"},ax={key:0,class:"section-content"};tx.render=function(e,t,n,r,a,o){return Yr(),na("div",{class:H(["section",{"section-wide":!!e.wide}])},[zn(e.$slots,"title",{},()=>[e.title?(Yr(),na("h3",nx,[sa("div",rx,X(e.title),1)])):fa("",!0)]),e.showContent?(Yr(),na("div",ax,[zn(e.$slots,"default")])):fa("",!0)],2)};var ox=mn({name:"Spinner",props:{name:{default:"",type:String},type:{default:"number",type:String}}});const ix={class:"spinner"};ox.render=function(e,t,n,r,a,o){return Yr(),na("div",ix,[...t[0]||(t[0]=[sa("div",{class:"bounce1"},null,-1),sa("div",{class:"bounce2"},null,-1),sa("div",{class:"bounce3"},null,-1)])])},ox.__scopeId="data-v-1e6cca72";var lx=mn({name:"Siblinks",props:{current:{type:Number,required:!0},total:{type:Number,default:0},paramKey:{type:String,required:!0},params:{type:Object,default:void 0}}});lx.render=function(e,t,n,r,a,o){const i=Vn("Chevron"),l=Vn("router-link");return Yr(),na(zr,null,[e.total&&e.current>0?(Yr(),ra(l,{key:0,class:H(["ml-6",{"cursor-pointer":e.current>0,"yellow-700":0===e.current}]),to:{params:{...e.params,[e.paramKey]:e.current-1}}},{default:nn(()=>[ua(i,{type:"left",class:"inline fill-current h-6 w-6"}),t[0]||(t[0]=sa("small",null,"previous",-1))]),_:1},8,["class","to"])):fa("",!0),e.total&&e.current<e.total-1?(Yr(),ra(l,{key:1,class:H(["ml-6",{"cursor-pointer":e.current<e.total,"yellow-700":e.current===e.total-1}]),to:{params:{...e.params,[e.paramKey]:e.current+1}}},{default:nn(()=>[t[1]||(t[1]=sa("small",null,"next",-1)),ua(i,{type:"right",class:"inline fill-current h-6 w-6"})]),_:1},8,["class","to"])):fa("",!0)],64)};var sx=mn({name:"ProgressBar",props:{percentage:{type:Number,default:0}}});const ux={class:"absolute flex inset-0 bg-gray-900"},cx={class:"flex-1 rounded h-6 top-auto self-center opacity-100 justify-center mx-auto max-w-sm bg-gray-600"};sx.render=function(e,t,n,r,a,o){return Yr(),na("div",ux,[sa("div",cx,[sa("div",{class:"flex-1 h-6 text-xs rounded text-center bg-yellow-500 text-gray-800 leading-6",style:B({width:`${e.percentage}%`})},X(e.percentage)+"% ",5)])])};var dx=mn({name:"SpinnerOverlay"});const px={class:"absolute flex inset-0 opacity-75 bg-gray-900"};dx.render=function(e,t,n,r,a,o){const i=Vn("Spinner");return Yr(),na("div",px,[ua(i,{class:"self-center"})])};const fx=e=>t=>Number(t)<e?`Minimum value is ${e}`:null,gx=e=>t=>Number(t)>e?`Maximum value is ${e}`:null;var hx=mn({name:"FormSelect",props:{value:{default:"",type:[String,Number]},options:{required:!0,type:[Array,Function]}},setup(e,{emit:t}){const n=xt(String(e.value)),r=e.options&&"function"==typeof e.options?Aa(()=>{const t=e.options();return n.value=`${String(e.value)}-${t.map(e=>e.value)}`,t}):e.options;return{keyHash:n,emit:t,optionsArray:r}}});const mx=["value"],vx=["value"];hx.render=function(e,t,n,r,a,o){return Yr(),na("select",{key:e.keyHash,class:"form-select mt-1 py-1 text-sm block w-full max-w-sm",value:e.value,onChange:t[0]||(t[0]=t=>e.emit("changed",t.target.value))},[(Yr(!0),na(zr,null,jn(e.optionsArray,(e,t)=>(Yr(),na("option",{key:t,value:e.value},X(e.text),9,vx))),128))],40,mx)};var yx=mn({name:"FormToggle",props:{value:{default:0,type:[Boolean,Number]}},emits:["changed"],setup(e,{emit:t}){const n=Aa(()=>!!e.value);return{toggle:()=>t("changed",n.value?0:1),isChecked:n}}});const bx=["checked"];yx.render=function(e,t,n,r,a,o){return Yr(),na("span",{class:H(["toggle",{active:e.isChecked}])},[sa("label",null,[sa("input",{type:"checkbox",checked:e.isChecked,class:"toggle-checkbox",onChange:t[0]||(t[0]=(...t)=>e.toggle&&e.toggle(...t))},null,40,bx),t[2]||(t[2]=sa("span",{class:"toggle-track"},null,-1))]),sa("span",{class:"toggle-label",onClick:t[1]||(t[1]=(...t)=>e.toggle&&e.toggle(...t))},[zn(e.$slots,"default")])],2)};var Lx=mn({name:"FormInput",props:{value:{default:"",type:[String,Number]},updateOnInput:{default:!1,type:Boolean},name:{default:"",type:String},placeholder:{default:"",type:String},type:{default:"number",type:String}},setup:(e,{emit:t})=>({emit:t,emitChanged:e=>t("changed",e.target?.value)})});const xx=["value","type","name","placeholder"];Lx.render=function(e,t,n,r,a,o){return Yr(),na("input",{value:e.value,class:"form-input mt-1 py-1 text-sm block w-24",type:e.type,name:e.name,placeholder:e.placeholder,onInput:t[0]||(t[0]=t=>e.updateOnInput?e.emitChanged(t):null),onChange:t[1]||(t[1]=t=>e.emitChanged(t))},null,40,xx)};var wx=mn({name:"FormErrorDisplay",props:{errors:{required:!0,type:Array}}});const Cx={class:"errors"};wx.render=function(e,t,n,r,a,o){return Yr(),na("div",Cx,[(Yr(!0),na(zr,null,jn(e.errors,(e,t)=>(Yr(),na("div",{key:t},X(e),1))),128))])};const Sx=e=>{const t=[e=>null==e?"Value is required":null];switch(e.component){case dl.Toggle:t.push(fx(0),gx(1));break;case dl.Input:if(void 0!==e.min&&t.push(fx(e.min)),void 0!==e.max){let n=e.max2Byte&&$f.showMsbControls?e.max2Byte:e.max;t.push(gx(n))}break;case dl.Select:e.options&&Array.isArray(e.options)&&t.push((n=e.options.map(e=>e.value),e=>n.includes(Number(e))?null:`Invalid value ${e}`));break;default:throw new Error(`Unknown component type ${e.component} for ${e.key}`)}var n;return t};var kx=mn({name:"FormField",components:{FormSelect:hx,FormInput:Lx,FormToggle:yx,FormErrorDisplay:wx,InfoTooltip:sy},props:{value:{default:null,type:[String,Number]},fieldDefinition:{type:Object,required:!0},index:{type:Number,default:void 0},simpleLayout:{type:Boolean,default:!1}},emits:["modified"],setup(e,{emit:t}){const{fieldDefinition:n}=Et(e),{component:r,key:a,section:o,label:i,helpText:l,isMsb:s,isLsb:u,min:c,max:d,max2Byte:p,options:f,onLoad:g}=n.value,h=e.fieldDefinition.settingIndex,m=Aa(()=>$f.isControlDisabled(e.fieldDefinition)),v=ln("formFieldTooltipPlacement","bottom"),y=Et(e).value,b=Sx(e.fieldDefinition),L="saxBreathControllerMidPercent"===a;let x=null;const w=n=>{t("modified",{key:a,value:n,section:o,settingIndex:h,index:e.index,onLoad:g})},{input:C,errors:S,onValueChange:k}=((e,t,n)=>{const r=xt(e.value),a=xt([]),o=e=>{r.value=e,a.value=(t||[]).map(t=>t(e)).filter(e=>!!e),a.value.length||n(e)};return un(e,o),{input:r,errors:a,onValueChange:o}})(y,b,e=>{const t=Number(e);if(t!==y.value)return L?(x&&clearTimeout(x),void(x=setTimeout(()=>w(t),250))):void w(t)}),I=Aa(()=>{if("saxBreathControllerMidPercent"!==a)return"";const e=Number(C.value);if(!Number.isFinite(e))return"";const t=Math.max(0,Math.min(100,e));return`:   ADC  ${Math.round(t/100*4095)} / 4095 (${t}%)`}),E={label:i,helpText:l,name:a};L&&(E.updateOnInput=!0),r===dl.Select&&(E.options=f);const{showMsbControls:M}=$f,_=Aa(()=>{const e=l||"";return e?!M.value&&e?e.replace("(LSB)","").replace("LSB",""):e:""}),T=Aa(()=>{if(!L)return 0;const e=Number(C.value);return Number.isFinite(e)?Math.max(0,Math.min(100,Math.round(e))):0});return{fieldComponent:e.fieldDefinition.component,showMsbControls:M,componentProps:E,emit:t,input:C,errors:S,onValueChange:k,extraInfoText:I,isBreathOffsetField:L,breathSliderValue:T,onBreathSliderInput:e=>{const t=e.target?.value;k(t)},label:i,helpText:l,normalizedHelpText:_,isDisabled:m,tooltipPlacement:v,isMsb:s,isLsb:u,min:c,max:d,max2Byte:p,ControlDisableType:fp}}});const Ix={class:"label"},Ex={key:1,class:"instructions"},Mx={key:0,class:"flex items-center gap-2"},_x={key:0,class:"flex flex-col gap-1"},Tx={class:"flex items-center gap-2"},Nx={key:0,class:"text-xs text-gray-200 whitespace-nowrap px-2 py-1 rounded border border-gray-700 bg-gray-800 font-mono"},Dx=["value"],Rx={key:0,class:"text-xs text-gray-200 whitespace-nowrap px-2 py-1 rounded border border-gray-700 bg-gray-800 font-mono"},Px={key:1,class:"error-message text-red-500"};kx.render=function(e,t,n,r,a,o){const i=Vn("InfoTooltip"),l=Vn("FormErrorDisplay");return!e.isMsb||e.showMsbControls?(Yr(),na("div",{key:0,class:H(["form-field",{error:e.errors.length}])},[sa("label",Ix,[da(X(!e.showMsbControls&&e.isLsb?e.label.replace("(LSB)","").replace("LSB",""):e.label)+" ",1),e.normalizedHelpText?(Yr(),ra(i,{key:0,text:e.normalizedHelpText,placement:e.tooltipPlacement},null,8,["text","placement"])):fa("",!0),e.isDisabled||!e.min&&!e.max?fa("",!0):(Yr(),na("small",Ex,X(e.min)+" - "+X(!e.showMsbControls&&e.max2Byte||e.max),1))]),e.isDisabled?(Yr(),na("p",Px,[e.isDisabled===e.ControlDisableType.NotSupported?(Yr(),na(zr,{key:0},[da("    . ")],64)):fa("",!0),e.isDisabled===e.ControlDisableType.MissingIndex?(Yr(),na(zr,{key:1},[da("    . ")],64)):fa("",!0),e.isDisabled===e.ControlDisableType.UartInterfaceAllocated?(Yr(),na(zr,{key:2},[da("     UART       . ")],64)):fa("",!0)])):(Yr(),na("div",Mx,[e.isBreathOffsetField?(Yr(),na("div",_x,[sa("div",Tx,[(Yr(),ra(Gn(e.fieldComponent),va({value:e.input},e.componentProps,{onChanged:e.onValueChange}),null,16,["value","onChanged"])),e.extraInfoText?(Yr(),na("span",Nx,X(e.extraInfoText),1)):fa("",!0)]),sa("input",{class:"w-56",type:"range",min:"0",max:"100",step:"1",value:e.breathSliderValue,onInput:t[0]||(t[0]=(...t)=>e.onBreathSliderInput&&e.onBreathSliderInput(...t))},null,40,Dx)])):(Yr(),na(zr,{key:1},[(Yr(),ra(Gn(e.fieldComponent),va({value:e.input},e.componentProps,{onChanged:e.onValueChange}),null,16,["value","onChanged"])),e.extraInfoText?(Yr(),na("span",Rx,X(e.extraInfoText),1)):fa("",!0)],64))])),ua(l,{class:"error-message",errors:e.errors},null,8,["errors"])],2)):fa("",!0)};var Ax=mn({name:"FormFileInput",props:{name:{default:"",type:String},label:{default:"",type:String},disabled:{default:!1,type:Boolean}},emits:["change"],setup:(e,{emit:t})=>({emit:t})});const Ox={class:""},Fx=["name","disabled"];Ax.render=function(e,t,n,r,a,o){return Yr(),na("label",{class:H(["btn items-center",{disabled:e.disabled}])},[sa("span",Ox,X(e.label),1),sa("input",{class:"hidden",type:"file",name:e.name,disabled:e.disabled,onChange:t[0]||(t[0]=t=>e.emit("change",t.target.files))},null,40,Fx)],2)};var Bx={Chevron:zL,Hero:QL,Button:YL,ButtonLink:ex,Section:tx,Spinner:ox,Siblinks:lx,SpinnerOverlay:dx,FormField:kx,FormToggle:yx,FormFileInput:Ax,ProgressBar:sx},Ux=mn({name:"DeviceSettings",props:{block:{type:Number,required:!0},title:{type:String,default:"Global"}},setup:e=>({...Ys(e.block,Ql.Setting)})});const Vx={key:0,class:"absolute flex inset-0 opacity-75 bg-gray-900"},$x={class:"form-grid"};Ux.render=function(e,t,n,r,a,o){const i=Vn("Spinner"),l=Vn("FormField"),s=Vn("Section");return Yr(),na("form",{class:"relative flex flex-wrap flex-grow",novalidate:"",onSubmit:t[0]||(t[0]=Eo(()=>{},["prevent"]))},[e.loading?(Yr(),na("div",Vx,[ua(i,{class:"self-center"})])):fa("",!0),zn(e.$slots,"default",{form:e.formData,onSettingChange:e.onSettingChange,showField:e.showField},()=>[ua(s,{title:e.title,class:"w-full"},{default:nn(()=>[sa("div",$x,[(Yr(!0),na(zr,null,jn(e.sections,t=>(Yr(),na(zr,null,[e.showField(t)?(Yr(),ra(l,{key:t.key,value:e.formData[t.key],"field-definition":t,onModified:e.onSettingChange},null,8,["value","field-definition","onModified"])):fa("",!0)],64))),256))])]),_:1},8,["title"])])],32)};var Gx={Device:Gg,DeviceForm:Tc,DeviceGrid:Tu,DeviceGridButton:xu,DeviceNav:Vg,DeviceNavItem:Og,DeviceSettings:Ux},Hx=mn({name:"App",setup(){const{outputId:e,boardName:t,firmwareVersion:n,activePreset:r}=$f,a=Aa(()=>"home"===jL.currentRoute.value.name),o=Aa(()=>{const e=jL.currentRoute.value.name;return"midisaxophone"===e||"midi-bank-changer"===e}),{isConnected:i,isConnecting:l,isWebMidiSupported:s}=rp,{supportedPresetsCount:u,isBootloaderMode:c}=$f,d=Aa(()=>{try{const e=new URLSearchParams(window.location.search||"");return e.has("forceUi")||e.has("forceUI")||e.has("noWebMidi")||e.has("capture")||e.has("captureOnly")}catch{return!1}}),p=Aa(()=>{const e=window;return e&&e.__lastVueError?e.__lastVueError:null}),f=void 0!==import.meta&&{BASE_URL:"/midisaxo/",MODE:"production",DEV:!1,PROD:!0}&&{}.VITE_BUILD_SHA||"",g=void 0!==import.meta&&{BASE_URL:"/midisaxo/",MODE:"production",DEV:!1,PROD:!0}&&{}.VITE_BUILD_TIME||"",h=Aa(()=>f?String(f).slice(0,8):"");return Tn(()=>{rp.startMidiConnectionWatcher();try{const e=new URLSearchParams(window.location.search||"");(e.has("capture")||e.has("captureOnly"))&&"midisaxophone"!==jL.currentRoute.value.name&&jL.replace({name:"midisaxophone"}).catch(()=>{})}catch{}}),Pn(()=>{rp.stopMidiConnectionWatcher()}),{isHomePage:a,isStandaloneFeaturePage:o,outputId:e,isWebMidiSupported:s,forceUiWithoutWebMidi:d,lastVueError:p,isConnected:i,isConnecting:l,boardName:t,firmwareVersion:n,activePreset:r,supportedPresetsCount:u,isBootloaderMode:c,buildShaShort:h,buildTime:g}}});const qx={class:"app"},jx={class:"app-header"},zx={class:"ml-4 flex items-center gap-4 text-sm"},Wx={key:0,class:"app-board-info"},Kx={class:"app-main"},Xx={class:"content"},Qx={key:0,class:"w-full px-4 sm:px-6 lg:px-8 pt-4"},Zx={class:"surface-neutral border border-red-700/60 rounded px-4 py-3 text-sm"},Yx={class:"mt-1 text-red-200/90 text-xs whitespace-pre-wrap"},Jx={key:0,class:"mt-1 text-red-200/70 text-[11px] whitespace-pre-wrap"},ew={key:1,class:"w-full px-4 sm:px-6 lg:px-8 pt-4"},tw={key:3,class:"w-full px-4 sm:px-6 lg:px-8 pt-4"},nw={class:"absolute flex inset-0 opacity-75 bg-gray-900"},rw={class:"lg:text-center w-full px-4 pt-24 sm:px-6 lg:px-8"},aw={class:"mt-6 flex flex-wrap items-center justify-center gap-3"},ow={class:"app-footer"},iw={class:"app-footer-wrap"},lw={class:"app-resources"},sw={class:"list"},uw={key:0,class:"text-xs text-gray-500"},cw={key:0,class:"ml-1 font-mono"},dw={key:1,class:"ml-2"};Hx.render=function(e,t,n,r,a,o){const i=Vn("router-link"),l=Vn("Section"),s=Vn("router-view"),u=Vn("Spinner");return Yr(),na("div",qx,[sa("nav",jx,[ua(i,{to:{name:"home"},class:"app-brand"},{default:nn(()=>[...t[0]||(t[0]=[da(" OpenDeck Configurator ",-1)])]),_:1}),sa("div",zx,[ua(i,{to:{name:"midisaxophone"},class:"text-gray-400 hover:text-gray-200"},{default:nn(()=>[...t[1]||(t[1]=[da(" MIDI  ",-1)])]),_:1}),ua(i,{to:{name:"midi-bank-changer"},class:"text-gray-400 hover:text-gray-200"},{default:nn(()=>[...t[2]||(t[2]=[da(" Bank Changer ",-1)])]),_:1})]),!e.isHomePage&&e.boardName?(Yr(),na("span",Wx,[e.isBootloaderMode?(Yr(),na(zr,{key:0},[da("OpenDeck DFU mode")],64)):(Yr(),na(zr,{key:1},[t[5]||(t[5]=sa("small",null,"Board",-1)),sa("strong",null,X(e.boardName),1),null!==e.firmwareVersion?(Yr(),na(zr,{key:0},[t[3]||(t[3]=sa("small",null,"Firmware",-1)),sa("strong",null,X(e.firmwareVersion),1)],64)):fa("",!0),e.supportedPresetsCount>1?(Yr(),na(zr,{key:1},[t[4]||(t[4]=sa("small",null,"Preset",-1)),sa("strong",null,X(e.activePreset+1),1)],64)):fa("",!0)],64))])):fa("",!0)]),sa("div",Kx,[sa("div",Xx,[e.lastVueError?(Yr(),na("div",Qx,[sa("div",Zx,[t[6]||(t[6]=sa("div",{class:"text-red-300 font-semibold"},"UI      ",-1)),sa("div",Yx,X(e.lastVueError.message),1),e.lastVueError.info?(Yr(),na("div",Jx,X(e.lastVueError.info),1)):fa("",!0)])])):fa("",!0),e.isWebMidiSupported||!e.isStandaloneFeaturePage||e.forceUiWithoutWebMidi?fa("",!0):(Yr(),na("div",ew,[...t[7]||(t[7]=[sa("div",{class:"surface-neutral border border-yellow-700/60 rounded px-4 py-3 text-sm"},[sa("div",{class:"text-yellow-200 font-semibold"},"WebMIDI : UI "),sa("div",{class:"mt-1 text-yellow-100/90 text-xs"},"   WebMIDI       . ")],-1)])])),e.isWebMidiSupported||e.forceUiWithoutWebMidi||e.isStandaloneFeaturePage?e.forceUiWithoutWebMidi&&!e.isWebMidiSupported?(Yr(),na("div",tw,[t[9]||(t[9]=sa("div",{class:"surface-neutral border border-yellow-700/60 rounded px-4 py-3 text-sm"},[sa("div",{class:"text-yellow-200 font-semibold"},"WebMIDI   UI "),sa("div",{class:"mt-1 text-yellow-100/90 text-xs"},[da("   WebMIDI  ,     UI . (URL "),sa("span",{class:"font-mono"},"?forceUi=1"),da(" ) ")])],-1)),ua(s)])):e.isStandaloneFeaturePage?(Yr(),ra(s,{key:4})):e.isConnecting?(Yr(),ra(l,{key:5,class:"h-screen",title:"Establishing connection"},{default:nn(()=>[t[10]||(t[10]=sa("div",{class:"lg:text-center w-full px-4 sm:px-6 lg:px-8"},[sa("p",null,"WebMidi connecting")],-1)),sa("div",nw,[ua(u,{class:"self-center"})])]),_:1})):e.isConnected?(Yr(),ra(s,{key:7})):(Yr(),ra(l,{key:6,class:"h-screen",title:"Problem connecting"},{default:nn(()=>[sa("div",rw,[t[13]||(t[13]=sa("p",{class:"text-lg text-gray-100"},"WebMIDI  .",-1)),t[14]||(t[14]=sa("p",{class:"mt-3 text-gray-300"},"  /    (gesture)  MIDI    . ",-1)),sa("div",aw,[ua(i,{to:{name:"home"},class:"px-4 py-2 border border-gray-600 rounded text-gray-200 hover:border-gray-400"},{default:nn(()=>[...t[11]||(t[11]=[da("   ",-1)])]),_:1}),t[12]||(t[12]=sa("span",{class:"text-gray-400 text-sm"},[da("  "),sa("strong",null,"Reload WebMidi"),da("   (MIDI+SysEx) . ")],-1))])])]),_:1})):(Yr(),ra(l,{key:2,class:"h-screen"},{default:nn(()=>[...t[8]||(t[8]=[sa("div",{class:"w-full px-4 pt-24 sm:px-6 lg:px-8"},[sa("p",{class:""},[da(" This browser does not support WebMIDI."),sa("br"),da("Please use a Chrome based browser: ")]),sa("p",{class:"mt-4"},[sa("a",{href:"https://www.google.com/chrome/index.html"},"Google Chrome"),sa("br"),sa("a",{href:"https://brave.com/"},"Brave"),sa("br"),sa("a",{href:"https://vivaldi.com/"},"Vivaldi"),sa("br"),sa("a",{href:"https://www.microsoft.com/en-us/edge"},"Microsoft Edge"),sa("br")])],-1)])]),_:1}))])]),sa("div",ow,[sa("div",iw,[t[21]||(t[21]=sa("nav",{class:"app-about"},[sa("h3",{class:"heading"},"About"),sa("p",{class:"text-sm"}," OpenDeck Configurator OpenDeck    MIDI   WebMIDI   . OpenDeck     MIDI    . ")],-1)),sa("nav",lw,[t[20]||(t[20]=sa("h3",{class:"heading"},"Resources",-1)),sa("ul",sw,[sa("li",null,[ua(i,{to:{name:"midisaxophone"}},{default:nn(()=>[...t[15]||(t[15]=[da("MIDI ",-1)])]),_:1})]),sa("li",null,[ua(i,{to:{name:"midi-bank-changer"}},{default:nn(()=>[...t[16]||(t[16]=[da("MIDI Bank Changer",-1)])]),_:1})]),t[18]||(t[18]=sa("li",null,[sa("a",{href:"https://github.com/dolsoidduk/OpenDeck"},"OpenDeck GitHub ")],-1)),t[19]||(t[19]=sa("li",null,[sa("a",{href:"https://shanteacontrols.com/"},"Shantea Controls  ")],-1)),e.buildShaShort||e.buildTime?(Yr(),na("li",uw,[t[17]||(t[17]=da(" Build: ",-1)),e.buildShaShort?(Yr(),na("span",cw,X(e.buildShaShort),1)):fa("",!0),e.buildTime?(Yr(),na("span",dw,X(e.buildTime),1)):fa("",!0)])):fa("",!0)])])])])])};const pw=e=>Object.keys(e).forEach(t=>{fw.component(t,e[t])}),fw=((...e)=>{const t=(_o||(_o=Br(Mo))).createApp(...e),{mount:n}=t;return t.mount=e=>{const r=function(e){if(m(e)){return document.querySelector(e)}return e}(e);if(!r)return;const a=t._component;h(a)||a.render||a.template||(a.template=r.innerHTML),1===r.nodeType&&(r.textContent="");const o=n(r,!1,function(e){if(e instanceof SVGElement)return"svg";if("function"==typeof MathMLElement&&e instanceof MathMLElement)return"mathml"}(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t})(Hx);import.meta,pw(Bx),pw(Gx),fw.use(jL),fw.mount("#app");
